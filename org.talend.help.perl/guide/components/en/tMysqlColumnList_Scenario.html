<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN" "http://www.w3.org/MarkUp/Wilbur/HTML32.dtd">
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
    <meta name="GENERATOR" content="Quadralay WebWorks Publisher Standard Edition 8.0.5337.0">
    <meta name="TEMPLATEBASE" content="Dynamic HTML">
    <meta name="LASTUPDATED" content="10/04/10 19:26:00">
    <title>Scenario: Iterating on a DB table and listing its column names</title>
  </head>

  <body link="#3366CC" vlink="#9999CC" text="#000000" alink="#0000CC" bgcolor="#FFFFFF">

    <!--table width="220" border="0" align="right" cellpadding="0" cellspacing="0">
      <tr> 
        <td>
<a accesskey="4" href="tMysqlColumnList_Prop.html"><img id="LongDescNotReq1" src="images/prev.gif" border="0" alt="Previous" /></a><a accesskey="5" href="tMysqlCommit_Prop.html"><img id="LongDescNotReq2" src="images/next.gif" border="0" alt="Next" /></a>
        </td>
      </tr>
    </table-->

    <!--img src="images/wwplogo.gif" width="122" height="63" alt="Put your logo here!">
    <hr align="left"-->

    <blockquote>
<a name="wp2038935"> </a><div style="color: #000000; font-size: 12pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">

</div>
<a name="wp2038945"> </a><h2 class="pHeading2">
Scenario: Iterating on a DB table and listing its column names
</h2>
<a name="wp2060044"> </a><p class="pIndented1">
The following Java scenario creates a five-component job that iterates on a given table name from a Mysql database using a Where clause and lists all column names present in the table.
</p>
<div class="pSmartList1"><ul class="pSmartList1">
<div class="pSmartList2"><ul class="pSmartList2">
<a name="wp2060052"> </a><div class="pSmartList2"><li>Drop the following components from the <b class="cBold">Palette</b> onto the design workspace: <b class="cBold">tMysqlConnection</b>, <b class="cBold">tMysqlTableList</b>, <b class="cBold">tMysqlColumnList</b>, <b class="cBold">tFixedFlowInput</b>, and <b class="cBold">tLogRow</b>.</li></div>
<a name="wp2060075"> </a><div class="pSmartList2"><li>Connect <b class="cBold">tMysqlConnection </b>to <b class="cBold">tMysqlTableList </b>using an <b class="cBold">OnSubjobOk</b> link.</li></div>
<a name="wp2060457"> </a><div class="pSmartList2"><li>Connect <b class="cBold">tMysqlTableList</b>, <b class="cBold">tMysqlColumnList</b>, and <b class="cBold">tFixedFlowInput </b>using <b class="cBold">Iterate</b> links.</li></div>
<a name="wp2060941"> </a><div class="pSmartList2"><li>Connect <b class="cBold">tFixedFlowInput</b> to <b class="cBold">tLogRow </b>using a <b class="cBold">Row Main</b> link.</li></div>
</ul></div>
</ul></div>
<a name="wp2060948"> </a><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">
</div>
<div align="center"><img src="../Images/Use_Case_tMysqlTableList.png" id="wp2060945" border="0" hspace="0" vspace="0"/></div><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">

</div>
<div class="pSmartList1"><ul class="pSmartList1">
<div class="pSmartList2"><ul class="pSmartList2">
<a name="wp2060959"> </a><div class="pSmartList2"><li>In the design workspace, select <b class="cBold">tMysqlConnection</b> and click the <b class="cBold">Component</b> tab to define its basic settings.</li></div>
<a name="wp2060969"> </a><div class="pSmartList2"><li>In the <b class="cBold">Basic settings</b> view, set the database connection details manually or select them from the context variable list, through a <b class="cBold">Ctrl+Space</b> click in the corresponding field if you have stored them locally as Metadata DB connection entries. </li></div>
</ul></div>
</ul></div>
<a name="wp2061057"> </a><p class="pIndented1">
For more information about Metadata, see <em class="cEmphasis">How to centralize the Metadata items</em> of <b class="cBold">Talend Integration Suite Studio</b> <b class="cBold">User Guide</b>.
</p>
<a name="wp2061062"> </a><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">
</div>
<div align="center"><img src="../Images/Use_Case_tMysqlTableList1.png" id="wp2061040" border="0" hspace="0" vspace="0"/></div><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">

</div>
<a name="wp2060983"> </a><p class="pIndented1">
In this example, we want to connect to a Mysql database called <em class="cEmphasis">customers</em>.
</p>
<div class="pSmartList1"><ul class="pSmartList1">
<div class="pSmartList2"><ul class="pSmartList2">
<a name="wp2061614"> </a><div class="pSmartList2"><li>In the design workspace, select <b class="cBold">tMysqlTableList</b> and click the <b class="cBold">Component</b> tab to define its basic settings.</li></div>
</ul></div>
</ul></div>
<a name="wp2061626"> </a><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">
</div>
<div align="center"><img src="../Images/Use_Case_tMysqlTableList2.png" id="wp2061623" border="0" hspace="0" vspace="0"/></div><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">

</div>
<div class="pSmartList1"><ul class="pSmartList1">
<div class="pSmartList2"><ul class="pSmartList2">
<a name="wp2061634"> </a><div class="pSmartList2"><li>On the <b class="cBold">Component list</b>, select the relevant Mysql connection component if more than one connection is used.</li></div>
<a name="wp2061638"> </a><div class="pSmartList2"><li>Enter a Where clause using the right syntax in the corresponding field to iterate on the table name(s) you want to list on the console.<br />In this scenario, the table we want to iterate on is called <em class="cEmphasis">customer</em>.</li></div>
<a name="wp2062016"> </a><div class="pSmartList2"><li>In the design workspace, select <b class="cBold">tMysqlColumnList</b> and click the <b class="cBold">Component</b> tab to define its basic settings.</li></div>
</ul></div>
</ul></div>
<a name="wp2062025"> </a><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">
</div>
<div align="center"><img src="../Images/Use_Case_tMysqlTableList3.png" id="wp2062022" border="0" hspace="0" vspace="0"/></div><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">

</div>
<div class="pSmartList1"><ul class="pSmartList1">
<div class="pSmartList2"><ul class="pSmartList2">
<a name="wp2062033"> </a><div class="pSmartList2"><li>On the <b class="cBold">Component list</b>, select the relevant Mysql connection component if more than one connection is used.</li></div>
<a name="wp2062040"> </a><div class="pSmartList2"><li>In the <b class="cBold">Table name</b> field, enter the name of the DB table you want to list its column names.<br />In this scenario, we want to list the columns present in the DB table called <em class="cEmphasis">customer</em>.</li></div>
<a name="wp2062053"> </a><div class="pSmartList2"><li>In the design workspace, select <b class="cBold">tFixedFlowInput</b> and click the <b class="cBold">Component</b> tab to define its basic settings.</li></div>
<a name="wp2062305"> </a><div class="pSmartList2"><li>Set the <b class="cBold">Schema</b> to <b class="cBold">Built-In</b> and click the three-dot [...] button next to <b class="cBold">Edit Schema </b>to define the data you want to use as input. In this scenario, the schema is made of two columns, the first for the table name and the second for the column name.</li></div>
</ul></div>
</ul></div>
<a name="wp2061701"> </a><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">
</div>
<div align="center"><img src="../Images/Use_Case_tMysqlTableList5.png" id="wp2061978" border="0" hspace="0" vspace="0"/></div><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">

</div>
<div class="pSmartList1"><ul class="pSmartList1">
<div class="pSmartList2"><ul class="pSmartList2">
<a name="wp2062146"> </a><div class="pSmartList2"><li>Click <b class="cBold">OK</b> to close the dialog box, and accept propagating the changes when prompted by the system. The defined columns display in the <b class="cBold">Values</b> panel of the <b class="cBold">Basic settings</b> view.</li></div>
<a name="wp2062162"> </a><div class="pSmartList2"><li>Click in the <b class="cBold">Value</b> cell for each of the two defined columns and press <b class="cBold">Ctrl+Space </b>to access the global variable list.</li></div>
<a name="wp2062168"> </a><div class="pSmartList2"><li>From the global variable list, select <em class="cEmphasis">((String)globalMap.get(&quot;tMysqlTableList_1_CURRENT_TABLE&quot;))</em> and <em class="cEmphasis">((String)globalMap.get(&quot;tMysqlColumnList_1_COLUMN_NAME&quot;))</em> for the <em class="cEmphasis">TableName</em> and <em class="cEmphasis">ColumnName</em> respectively.</li></div>
</ul></div>
</ul></div>
<a name="wp2062234"> </a><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">
</div>
<div align="center"><img src="../Images/Use_Case_tMysqlTableList4.png" id="wp2062231" border="0" hspace="0" vspace="0"/></div><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">

</div>
<div class="pSmartList1"><ul class="pSmartList1">
<div class="pSmartList2"><ul class="pSmartList2">
<a name="wp2060254"> </a><div class="pSmartList2"><li>In the design workspace, select <b class="cBold">tLogRow</b>.</li></div>
<a name="wp2060263"> </a><div class="pSmartList2"><li>Click the <b class="cBold">Component</b> tab and define the basic settings for <b class="cBold">tLogRow</b> as needed.</li></div>
<a name="wp2060274"> </a><div class="pSmartList2"><li>Save your job and press <b class="cBold">F6</b> to execute it.</li></div>
</ul></div>
</ul></div>
<a name="wp2060286"> </a><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">
</div>
<div align="center"><img src="../Images/Use_Case_tMysqlTableList6.png" id="wp2062367" border="0" hspace="0" vspace="0"/></div><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">

</div>
<a name="wp2062362"> </a><p class="pIndented1">
The name of the DB table is displayed on the console along with all its column names.
</p>
    </blockquote>
    <hr>

    <!--table align="right" border="0" cellspacing="0" cellpadding="0">
      <tr>
        <td align="right"><font size="1">
          <a href="http://www.webworks.com"><img src="images/webworks.gif" width="150" height="20" border="0"></a><br>
            Quadralay Corporation<br>
            http://www.webworks.com<br>
            Voice: (512) 719-3399<br>
            Fax: (512) 719-3606<br>
          <a href="mailto:sales@webworks.com">sales@webworks.com</a><br>
        </font></td>
      </tr>
    </table-->

    <!--table width="220" border="0" cellpadding="0" cellspacing="0">
      <tr> 
        <td>
<a accesskey="4" href="tMysqlColumnList_Prop.html"><img id="LongDescNotReq3" src="images/prev.gif" border="0" alt="Previous" /></a><a accesskey="5" href="tMysqlCommit_Prop.html"><img id="LongDescNotReq4" src="images/next.gif" border="0" alt="Next" /></a>
        </td>
      </tr>
    </table-->
  </body>
</html>
