<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN" "http://www.w3.org/MarkUp/Wilbur/HTML32.dtd">
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
    <meta name="GENERATOR" content="Quadralay WebWorks Publisher Standard Edition 8.0.5337.0">
    <meta name="TEMPLATEBASE" content="Dynamic HTML">
    <meta name="LASTUPDATED" content="10/04/10 19:25:32">
    <title>Scenario: Executing a Bonita process via a Talend Job</title>
  </head>

  <body link="#3366CC" vlink="#9999CC" text="#000000" alink="#0000CC" bgcolor="#FFFFFF">

    <!--table width="220" border="0" align="right" cellpadding="0" cellspacing="0">
      <tr> 
        <td>
<a accesskey="4" href="tBonitaInstantiateProcess_Prop.html"><img id="LongDescNotReq1" src="images/prev.gif" border="0" alt="Previous" /></a><a accesskey="5" href="tCentricCRMInput_Prop.html"><img id="LongDescNotReq2" src="images/next.gif" border="0" alt="Next" /></a>
        </td>
      </tr>
    </table-->

    <!--img src="images/wwplogo.gif" width="122" height="63" alt="Put your logo here!">
    <hr align="left"-->

    <blockquote>
<a name="wp3484938"> </a><div style="color: #000000; font-size: 12pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">

</div>
<a name="wp3485195"> </a><h2 class="pHeading2">
Scenario: Executing a Bonita process via a Talend Job
</h2>
<a name="wp3536580"> </a><p class="pIndented1">
This scenario describes a Job that deploys a Bonita process into the Bonita Runtime and executes this process, in which a personnel request is treated.
</p>
<a name="wp3536935"> </a><p class="pIndented1">
The Job in this scenario uses three components.
</p>
<a name="wp3536964"> </a><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">
</div>
<div align="center"><img src="../Images/Use_Case_tBonitaInstan1.png" id="wp3540311" border="0" hspace="0" vspace="0"/></div><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">

</div>
<div class="pSmartList1"><ul class="pSmartList1">
<div class="pSmartList2"><ul class="pSmartList2">
<a name="wp3540306"> </a><div class="pSmartList2"><li><b class="cBold">tBonitaDeploy</b>: this component deploys a Bonita process into the Bonita Runtime.</li></div>
<a name="wp3540339"> </a><div class="pSmartList2"><li><b class="cBold">tFixedFlowInput</b>: this component generates the schema used as execution parameters of this deployed process.</li></div>
<a name="wp3540349"> </a><div class="pSmartList2"><li><b class="cBold">tBonitaInstantiateProcess</b>: this component executes this deployed process.</li></div>
<a name="wp3540522"> </a><p class="pBodyRelative">
<br />
<img src="../Images/bulb_small.png" align="left" id="wp3540515" border="0" hspace="0" vspace="0"/><br />
When generating schema using <b class="cBold">tFixedFlowInput</b>, the column names of the schema must be identical with those of the Bonita parameters used to execute the same process by this Bonita.
</p>
</ul></div>
</ul></div>
<a name="wp3540526"> </a><p class="pIndented1">
Before beginning to replicate this schema, prepare your Bonita .bar file that is the process exported from the Bonita system and will be deployed into the Bonita Runtime engine. In this scenario, this file is <em class="cEmphasis">TEST--4.0.bar</em>. This process can be checked via the Bonita interface.
</p>
<a name="wp3540877"> </a><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">
</div>
<div align="center"><img src="../Images/Use_Case_tBonitaInstan0.png" id="wp3540899" border="0" hspace="0" vspace="0"/></div><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">

</div>
<a name="wp3540891"> </a><p class="pIndented1">
To replicate this scenario, proceed as follows:
</p>
<div class="pSmartList1"><ul class="pSmartList1">
<div class="pSmartList2"><ul class="pSmartList2">
<a name="wp3540626"> </a><div class="pSmartList2"><li>Drop <b class="cBold">tBonitaDeploy</b>, <b class="cBold">tFixedFlowInput</b> and <b class="cBold">tBonitaInstantiateProcess</b> onto the design workspace.</li></div>
<a name="wp3538532"> </a><div class="pSmartList2"><li>Right click <b class="cBold">tBonitaDeploy</b> to open its contextual menu.</li></div>
<a name="wp3538563"> </a><div class="pSmartList2"><li>Select <b class="cBold">Trigger &gt; On Subjob Ok</b> to connect <b class="cBold">tBonitaDeploy </b>to <b class="cBold">tFixedFlowInput</b>.</li></div>
<a name="wp3538568"> </a><div class="pSmartList2"><li>Right click <b class="cBold">tFixedFlowInput</b> to open its contextual menu and select <b class="cBold">Row &gt; Main</b> to connect this component to <b class="cBold">tBonitaInstantiateProcess</b> using <b class="cBold">Main</b> link.</li></div>
<a name="wp3540707"> </a><div class="pSmartList2"><li>Double click <b class="cBold">tBonitaDeploy</b> to open its  <b class="cBold">Basic settings</b> view.</li></div>
</ul></div>
</ul></div>
<a name="wp3540740"> </a><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">
</div>
<div align="center"><img src="../Images/Use_Case_tBonitaInstan2.png" id="wp3540759" border="0" hspace="0" vspace="0"/></div><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">

</div>
<div class="pSmartList1"><ul class="pSmartList1">
<div class="pSmartList2"><ul class="pSmartList2">
<a name="wp3540752"> </a><div class="pSmartList2"><li>In the <b class="cBold">Bonita Runtime Configuration</b> area, browse to the Bonita Runtime variable files. In the <b class="cBold">Bonita Runtime Environment file</b> field, browse to the <em class="cEmphasis">bonita-environnement.xml</em> file; in the <b class="cBold">Bonita Runtime Jaas File</b> field, browse to the <em class="cEmphasis">jaas-standard.cfg</em> file; in the <b class="cBold">Bonita Runtime Logging File</b> field, browse to the <em class="cEmphasis">logging.properties</em> file.</li></div>
<a name="wp3540851"> </a><div class="pSmartList2"><li>In the <b class="cBold">Business Archive</b> field, browse to the Bonita .bar file that is the process exported from your Bonita system and will be deployed into the Bonita Runtime engine.</li></div>
<a name="wp3540948"> </a><div class="pSmartList2"><li>In the <b class="cBold">Username</b> and the <b class="cBold">Password</b> fields, type in your authentication information to connect to your Bonita.</li></div>
<a name="wp3540986"> </a><div class="pSmartList2"><li>Double click <b class="cBold">tFixedFlowInput</b> to open its <b class="cBold">Basic settings</b> view.</li></div>
</ul></div>
</ul></div>
<a name="wp3540743"> </a><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">
</div>
<div align="center"><img src="../Images/Use_Case_tBonitaInstan3.png" id="wp3538622" border="0" hspace="0" vspace="0"/></div><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">

</div>
<div class="pSmartList1"><ul class="pSmartList1">
<div class="pSmartList2"><ul class="pSmartList2">
<a name="wp3538671"> </a><div class="pSmartList2"><li>Click the three-dot button next to <b class="cBold">Edit schema</b> to open the schema editor.</li></div>
</ul></div>
</ul></div>
<a name="wp3538684"> </a><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">
</div>
<div align="center"><img src="../Images/Use_Case_tBonitaInstan4.png" id="wp3538675" border="0" hspace="0" vspace="0"/></div><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">

</div>
<div class="pSmartList1"><ul class="pSmartList1">
<div class="pSmartList2"><ul class="pSmartList2">
<a name="wp3538692"> </a><div class="pSmartList2"><li>In the schema editor, click the plus button to add one row. </li></div>
<a name="wp3539000"> </a><div class="pSmartList2"><li>In the schema editor, click the new row and type in the new name: <em class="cEmphasis">name</em>.</li></div>
<a name="wp3539007"> </a><div class="pSmartList2"><li>Click <b class="cBold">OK</b>.</li></div>
<a name="wp3539020"> </a><div class="pSmartList2"><li>In the <b class="cBold">Mode</b> area of the <b class="cBold">Basic settings</b> view, select the <b class="cBold">Use inline table</b> option.</li></div>
<a name="wp3539024"> </a><div class="pSmartList2"><li>Under the inline table, click the plus button to add one row in the table.</li></div>
<a name="wp3539027"> </a><div class="pSmartList2"><li>In the inline table, click the added row and type in the person&#39;s name from your personnel between the quotation marks:  <em class="cEmphasis">ychen,</em> whose request will be treated by this deployed process.</li></div>
<a name="wp3539095"> </a><div class="pSmartList2"><li>Double click <b class="cBold">tBonitaInstantiateProcess</b> to open its <b class="cBold">Basic settings</b> view.</li></div>
</ul></div>
</ul></div>
<a name="wp3539871"> </a><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">
</div>
<div align="center"><img src="../Images/Use_Case_tBonitaInstan5.png" id="wp3539867" border="0" hspace="0" vspace="0"/></div><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">

</div>
<div class="pSmartList1"><ul class="pSmartList1">
<div class="pSmartList2"><ul class="pSmartList2">
<a name="wp3542704"> </a><div class="pSmartList2"><li>On the <b class="cBold">Basic settings </b>view, click <b class="cBold">Sync columns</b> to retrieve the schema from the preceding component.</li></div>
<a name="wp3542708"> </a><div class="pSmartList2"><li>In the Bonita Runtime Configuration area, browse to the Bonita Runtime variable files. In the <b class="cBold">Bonita Runtime Environment file</b> field, browse to the <em class="cEmphasis">bonita-environnement.xml</em> file; in the <b class="cBold">Bonita Runtime Jaas File</b> field, browse to the <em class="cEmphasis">jaas-standard.cfg</em> file; in the <b class="cBold">Bonita Runtime Logging File</b> field, browse to the <em class="cEmphasis">logging.properties</em> file.</li></div>
<a name="wp3542731"> </a><div class="pSmartList2"><li>Select the <b class="cBold">Use Process ID</b> check box to activate the <b class="cBold">Process Definition Id</b> field.</li></div>
<a name="wp3542780"> </a><div class="pSmartList2"><li>In the <b class="cBold">Process Definition Id</b> field, click between the quotation marks and press <b class="cBold">Ctrl+space</b> to open the auto-completion drop-down list containing the available global variables for this Job.</li></div>
<a name="wp3542798"> </a><div class="pSmartList2"><li>Double click the variable you need use to add it between the quotation marks. In this scenario, double click <em class="cEmphasis">tBonitaDeploy_1_ProcessDefinitionUUID</em>, which retrieves the process definition ID of the process being deployed by <b class="cBold">tBonitaDeploy</b>.</li></div>
<a name="wp3541323"> </a><p class="pBodyRelative">
<br />
<img src="../Images/bulb_small.png" align="left" id="wp3541316" border="0" hspace="0" vspace="0"/><br />
If the process of interest was deployed and thus <b class="cBold">tBonitaDeploy</b> is not used, clear the <b class="cBold">Use Process ID</b> check box to activate the <b class="cBold">Process name</b> and the <b class="cBold">Process version</b> fields and fill in the corresponding information to the two fields. <b class="cBold">tBonitaInstantiateProcess</b> concatenates the process name and the process version you type in to construct the process definition ID.
</p>
<a name="wp3541327"> </a><div class="pSmartList2"><li>In the <b class="cBold">Username</b> and <b class="cBold">Password</b> fields, enter your login and password to connect to your Bonita.</li></div>
<a name="wp3541263"> </a><div class="pSmartList2"><li>Press <b class="cBold">F6</b> to run the Job.</li></div>
</ul></div>
</ul></div>
<a name="wp3541362"> </a><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">
</div>
<div align="center"><img src="../Images/Use_Case_tBonitaInstan6.png" id="wp3541373" border="0" hspace="0" vspace="0"/></div><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">

</div>
<a name="wp3541381"> </a><p class="pIndented1">
This process is deployed into the Bonita Runtime and an instance is created for the personnel requests.
</p>
    </blockquote>
    <hr>

    <!--table align="right" border="0" cellspacing="0" cellpadding="0">
      <tr>
        <td align="right"><font size="1">
          <a href="http://www.webworks.com"><img src="images/webworks.gif" width="150" height="20" border="0"></a><br>
            Quadralay Corporation<br>
            http://www.webworks.com<br>
            Voice: (512) 719-3399<br>
            Fax: (512) 719-3606<br>
          <a href="mailto:sales@webworks.com">sales@webworks.com</a><br>
        </font></td>
      </tr>
    </table-->

    <!--table width="220" border="0" cellpadding="0" cellspacing="0">
      <tr> 
        <td>
<a accesskey="4" href="tBonitaInstantiateProcess_Prop.html"><img id="LongDescNotReq3" src="images/prev.gif" border="0" alt="Previous" /></a><a accesskey="5" href="tCentricCRMInput_Prop.html"><img id="LongDescNotReq4" src="images/next.gif" border="0" alt="Next" /></a>
        </td>
      </tr>
    </table-->
  </body>
</html>
