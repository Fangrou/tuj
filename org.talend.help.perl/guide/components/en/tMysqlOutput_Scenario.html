<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN" "http://www.w3.org/MarkUp/Wilbur/HTML32.dtd">
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
    <meta name="GENERATOR" content="Quadralay WebWorks Publisher Standard Edition 8.0.5337.0">
    <meta name="TEMPLATEBASE" content="Dynamic HTML">
    <meta name="LASTUPDATED" content="10/04/10 19:26:00">
    <title>Scenario 1: Adding a new column and altering data in a DB table</title>
  </head>

  <body link="#3366CC" vlink="#9999CC" text="#000000" alink="#0000CC" bgcolor="#FFFFFF">

    <!--table width="220" border="0" align="right" cellpadding="0" cellspacing="0">
      <tr> 
        <td>
<a accesskey="4" href="tMysqlOutput_Prop.html"><img id="LongDescNotReq1" src="images/prev.gif" border="0" alt="Previous" /></a><a accesskey="5" href="tMysqlOutputBulk_Prop.html"><img id="LongDescNotReq2" src="images/next.gif" border="0" alt="Next" /></a>
        </td>
      </tr>
    </table-->

    <!--img src="images/wwplogo.gif" width="122" height="63" alt="Put your logo here!">
    <hr align="left"-->

    <blockquote>
<a name="wp2751090"> </a><div style="color: #000000; font-size: 12pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">

</div>
<a name="wp2751098"> </a><h2 class="pHeading2">
Scenario 1: Adding a new column and altering data in a DB table
</h2>
<a name="wp2751101"> </a><p class="pIndented1">
This Java scenario is a three-component job that aims at creating random data using a <b class="cBold">tRowGenerator</b>, duplicating a column to be altered using the <b class="cBold">tMap</b> component, and eventually altering the data to be inserted based on an SQL expression using the <b class="cBold">tMysqlOutput</b> component.
</p>
<div class="pSmartList1"><ul class="pSmartList1">
<div class="pSmartList2"><ul class="pSmartList2">
<a name="wp2751119"> </a><div class="pSmartList2"><li>Drop the following components from the <b class="cBold">Palette</b> onto the design workspace: <b class="cBold">tRowGenerator</b>, <b class="cBold">tMap</b> and <b class="cBold">tMySQLOutput</b>.</li></div>
<a name="wp2751146"> </a><div class="pSmartList2"><li>Connect <b class="cBold">tRowGenerator</b>, <b class="cBold">tMap</b>, and <b class="cBold">tMysqlOutput</b> using the <b class="cBold">Row Main</b> link.</li></div>
</ul></div>
</ul></div>
<a name="wp2751153"> </a><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">
</div>
<div align="center"><img src="../Images/Use_Case_tMySQLOutput1.png" id="wp2751150" border="0" hspace="0" vspace="0"/></div><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">

</div>
<div class="pSmartList1"><ul class="pSmartList1">
<div class="pSmartList2"><ul class="pSmartList2">
<a name="wp2751166"> </a><div class="pSmartList2"><li>In the design workspace, select <b class="cBold">tRowGenerator</b> to display its <b class="cBold">Basic settings</b> view.</li></div>
</ul></div>
</ul></div>
<a name="wp2751173"> </a><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">
</div>
<div align="center"><img src="../Images/Use_Case_tMySQLOutput2.png" id="wp2751170" border="0" hspace="0" vspace="0"/></div><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">

</div>
<div class="pSmartList1"><ul class="pSmartList1">
<div class="pSmartList2"><ul class="pSmartList2">
<a name="wp2751185"> </a><div class="pSmartList2"><li>Set the <b class="cBold">Schema</b> to <b class="cBold">Built-In</b>.</li></div>
<a name="wp2751194"> </a><div class="pSmartList2"><li>Click the <b class="cBold">Edit schema</b> three-dot button to define the data to pass on to the <b class="cBold">tMap</b> component, two columns in this scenario, <em class="cEmphasis">name</em> and <em class="cEmphasis">random_date</em>.</li></div>
</ul></div>
</ul></div>
<a name="wp2751209"> </a><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">
</div>
<div align="center"><img src="../Images/Use_Case_tMySQLOutput3.png" id="wp2751206" border="0" hspace="0" vspace="0"/></div><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">

</div>
<div class="pSmartList1"><ul class="pSmartList1">
<div class="pSmartList2"><ul class="pSmartList2">
<a name="wp2751218"> </a><div class="pSmartList2"><li>Click <b class="cBold">OK</b> to close the dialog box.</li></div>
<a name="wp2751224"> </a><div class="pSmartList2"><li>Click the <b class="cBold">RowGenerator Editor</b> three-dot button to open the editor and define the data to be generated.</li></div>
</ul></div>
</ul></div>
<a name="wp2751233"> </a><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">
</div>
<div align="center"><img src="../Images/Use_Case_tMySQLOutput4.png" id="wp2751230" border="0" hspace="0" vspace="0"/></div><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">

</div>
<div class="pSmartList1"><ul class="pSmartList1">
<div class="pSmartList2"><ul class="pSmartList2">
<a name="wp2751241"> </a><div class="pSmartList2"><li>Click in the corresponding <b class="cBold">Functions</b> fields and select a function for each of the two columns, <code class="cCode">getFirstName</code> for the first column and <code class="cCode">getrandomDate</code> for the second column.</li></div>
<a name="wp2751254"> </a><div class="pSmartList2"><li>In the <b class="cBold">Number of Rows for Rowgenerator</b> field, enter 10 to generate ten first name rows and click <b class="cBold">Ok</b> to close the editor.</li></div>
<a name="wp2751264"> </a><div class="pSmartList2"><li>Double-click the <b class="cBold">tMap</b> component to open the Map editor. The Map editor opens displaying the input metadata of the<b class="cBold"> tRowGenerator</b> component.</li></div>
</ul></div>
</ul></div>
<a name="wp2751276"> </a><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">
</div>
<div align="center"><img src="../Images/Use_Case_tMySQLOutput5.png" id="wp2751273" border="0" hspace="0" vspace="0"/></div><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">

</div>
<div class="pSmartList1"><ul class="pSmartList1">
<div class="pSmartList2"><ul class="pSmartList2">
<a name="wp2751284"> </a><div class="pSmartList2"><li>In the <b class="cBold">Schema editor</b> panel of the Map editor, click the plus button of the output table to add two rows and define the first as <em class="cEmphasis">random_date</em> and the second as <em class="cEmphasis">random_date1</em>.</li></div>
</ul></div>
</ul></div>
<a name="wp2751299"> </a><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">
</div>
<div align="center"><img src="../Images/Use_Case_tMySQLOutput6.png" id="wp2751296" border="0" hspace="0" vspace="0"/></div><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">

</div>
<a name="wp2751305"> </a><p class="pIndented1">
In this scenario, we want to duplicate the <em class="cEmphasis">random_date</em> column and adapt the schema in order to alter the data in the output component.
</p>
<div class="pSmartList1"><ul class="pSmartList1">
<div class="pSmartList2"><ul class="pSmartList2">
<a name="wp2751317"> </a><div class="pSmartList2"><li>In the Map editor, drag the <em class="cEmphasis">random_date </em>row from the input table to the <em class="cEmphasis">random_date</em> and <em class="cEmphasis">random_date1 </em>rows in the output table.</li></div>
</ul></div>
</ul></div>
<a name="wp2751329"> </a><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">
</div>
<div align="center"><img src="../Images/Use_Case_tMySQLOutput7.png" id="wp2751326" border="0" hspace="0" vspace="0"/></div><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">

</div>
<div class="pSmartList1"><ul class="pSmartList1">
<div class="pSmartList2"><ul class="pSmartList2">
<a name="wp2751338"> </a><div class="pSmartList2"><li>Click <b class="cBold">OK</b> to close the editor.</li></div>
<a name="wp2751346"> </a><div class="pSmartList2"><li>In the design workspace, double-click the <b class="cBold">tMysqlOutput</b> component to display its <b class="cBold">Basic settings</b> view and set its parameters.</li></div>
</ul></div>
</ul></div>
<a name="wp2751356"> </a><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">
</div>
<div align="center"><img src="../Images/Use_Case_tMySQLOutput8.png" id="wp2751353" border="0" hspace="0" vspace="0"/></div><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">

</div>
<div class="pSmartList1"><ul class="pSmartList1">
<div class="pSmartList2"><ul class="pSmartList2">
<a name="wp2751367"> </a><div class="pSmartList2"><li>Set <b class="cBold">Property Type </b>to <b class="cBold">Repository</b> and then click the three-dot button to open the <b class="cBold">[Repository content] </b>dialog box and select the correct DB connection. The connection details display automatically in the corresponding fields.</li></div>
<a name="wp2751381"> </a><p class="pBodyRelative">
<br />
<img src="../Images/bulb_small.png" align="left" id="wp2751376" border="0" hspace="0" vspace="0"/><br />
If you have not stored the DB connection details in the <b class="cBold">Metadata</b> entry in the <b class="cBold">Repository</b>, select <b class="cBold">Built-in</b> on the property type list and set the connection detail manually.
</p>
<a name="wp2751399"> </a><div class="pSmartList2"><li>Click the three-dot button next to the <b class="cBold">Table</b> field and select the table to be altered, <em class="cEmphasis">Dates</em> in this scenario. </li></div>
<a name="wp2751415"> </a><div class="pSmartList2"><li>On the <b class="cBold">Action on table </b>list, select <b class="cBold">Drop table if exists and create</b>, select <em class="cEmphasis">Insert</em> on the <b class="cBold">Action on data</b> list. </li></div>
<a name="wp2751431"> </a><div class="pSmartList2"><li>If needed, click <b class="cBold">Sync columns</b> to synchronize with the columns coming from the <b class="cBold">tMap</b> component.</li></div>
<a name="wp2751438"> </a><div class="pSmartList2"><li>Click the <b class="cBold">Advanced settings</b> tab to display the corresponding view and set the advanced parameters. </li></div>
</ul></div>
</ul></div>
<a name="wp2751447"> </a><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">
</div>
<div align="center"><img src="../Images/Use_Case_tMySQLOutput10.png" id="wp2751444" border="0" hspace="0" vspace="0"/></div><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">

</div>
<div class="pSmartList1"><ul class="pSmartList1">
<div class="pSmartList2"><ul class="pSmartList2">
<a name="wp2751455"> </a><div class="pSmartList2"><li>In the <b class="cBold">Additional Columns</b> area, set the alteration to be performed on columns.<br />In this scenario, the <em class="cEmphasis">One_month_later</em> column replaces <em class="cEmphasis">random_date_1</em>. Also, the data itself gets altered using an SQL expression that adds one month to the randomly picked-up date of the <em class="cEmphasis">random_date_1</em> column. ex: 2007-08-12 becomes 2007-09-12.<br /><br />-Enter <em class="cEmphasis">One_Month_Later</em> in the <b class="cBold">Name</b> cell.<br />-In the <b class="cBold">SQL expression</b> cell, enter the relevant addition script to be performed, <code class="cCode">&quot;adddate(Random_date, interval 1 month)&quot;</code> in this scenario.<br />-Select <b class="cBold">Replace</b> on the <b class="cBold">Position</b> list.<br />-Enter <em class="cEmphasis">Random_date1</em> on the <b class="cBold">Reference column </b>list.</li></div>
<a name="wp2751502"> </a><p class="pBodyRelative">
<br />
<img src="../Images/bulb_small.png" align="left" id="wp2751497" border="0" hspace="0" vspace="0"/><br />
For this job we duplicated the <em class="cEmphasis">random_date_1</em> column in the DB table before replacing one instance of it with the <em class="cEmphasis">One_Month_Later</em> column. The aim of this workaround was to be able to view upfront the modification performed.
</p>
<a name="wp2751516"> </a><div class="pSmartList2"><li>Save your job and press <b class="cBold">F6 </b>to execute it.</li></div>
</ul></div>
</ul></div>
<a name="wp2751525"> </a><p class="pIndented1">
The new <em class="cEmphasis">One_month_later</em> column replaces the <em class="cEmphasis">random_date1</em> column in the DB table and adds one month to each of the randomly generated dates.
</p>
<a name="wp2751536"> </a><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">
</div>
<div align="center"><img src="../Images/Use_Case_tMySQLOutput9.png" id="wp2751533" border="0" hspace="0" vspace="0"/></div><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">

</div>
<a name="wp2751544"> </a><p class="pIndented1">
Related topic: <a href="tDBOutput_Prop.html#wp3627243"><em class="cEmphasis">tDBOutput properties</em></a>.
</p>
<a name="wp2751550"> </a><h2 class="pHeading2">
Scenario 2: Updating data in a database table
</h2>
<a name="wp2751553"> </a><p class="pIndented1">
This Java scenario describes a two-component Job that updates data in a MySQL table according to that in a delimited file.
</p>
<div class="pSmartList1"><ul class="pSmartList1">
<div class="pSmartList2"><ul class="pSmartList2">
<a name="wp2751571"> </a><div class="pSmartList2"><li>Drop <b class="cBold">tFileInputDelimited</b> and <b class="cBold">tMySQLOutput</b> from the <b class="cBold">Palette</b> onto the design workspace.</li></div>
<a name="wp2751580"> </a><div class="pSmartList2"><li>Connect the two components together using a <b class="cBold">Row Main</b> link.</li></div>
</ul></div>
</ul></div>
<a name="wp2751587"> </a><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">
</div>
<div align="center"><img src="../Images/Use_Case_tMySQLOutput11.png" id="wp2751584" border="0" hspace="0" vspace="0"/></div><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">

</div>
<div class="pSmartList1"><ul class="pSmartList1">
<div class="pSmartList2"><ul class="pSmartList2">
<a name="wp2751598"> </a><div class="pSmartList2"><li>Double-click <b class="cBold">tFileInputDelimited</b> to display its <b class="cBold">Basic settings</b> view and define the component properties.</li></div>
<a name="wp2751611"> </a><div class="pSmartList2"><li>From the <b class="cBold">Property Type</b> list, select <b class="cBold">Repository</b> if you have already stored the metadata of the delimited file in the <b class="cBold">Metadata</b> node in the <b class="cBold">Repository</b> tree view. Otherwise, select <b class="cBold">Built-In</b> to define manually the metadata of the delimited file. <br />For more information about storing metadata, see <em class="cEmphasis">Setting up a File Delimited schema</em> of <b class="cBold">Talend Integration Suite Studio</b> <b class="cBold">User Guide</b>.</li></div>
</ul></div>
</ul></div>
<a name="wp2751635"> </a><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">
</div>
<div align="center"><img src="../Images/Use_Case_tMySQLOutput12.png" id="wp2751632" border="0" hspace="0" vspace="0"/></div><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">

</div>
<div class="pSmartList1"><ul class="pSmartList1">
<div class="pSmartList2"><ul class="pSmartList2">
<a name="wp2751643"> </a><div class="pSmartList2"><li>In the <b class="cBold">File Name </b>field, click the three-dot button and browse to the source delimited file that contains the modifications to propagate in the MySQL table. <br />In this example, we use the <em class="cEmphasis">customer_update</em> file that holds four columns: <em class="cEmphasis">id</em>, <em class="cEmphasis">CustomerName</em>, <em class="cEmphasis">CustomerAddress </em>and <em class="cEmphasis">idState</em>. Some of the data in these four columns is different from that in the MySQL table.</li></div>
</ul></div>
</ul></div>
<a name="wp2751670"> </a><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">
</div>
<div align="center"><img src="../Images/Use_Case_tMysqlOutput16.png" id="wp2751667" border="0" hspace="0" vspace="0"/></div><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">

</div>
<div class="pSmartList1"><ul class="pSmartList1">
<div class="pSmartList2"><ul class="pSmartList2">
<a name="wp2751676"> </a><div class="pSmartList2"><li>Define the row and field separators used in the source file in the corresponding fields.</li></div>
<a name="wp2751688"> </a><div class="pSmartList2"><li>If needed, set <b class="cBold">Header</b>, <b class="cBold">Footer</b> and <b class="cBold">Limit</b>. <br />In this example, <b class="cBold">Header</b> is set to 1 since the first row holds the names of columns, therefore it should be ignored. Also, the number of processed lines is limited to 2000.</li></div>
<a name="wp2751704"> </a><div class="pSmartList2"><li>Select <b class="cBold">Built in</b> from the <b class="cBold">Schema</b> list then click the three-dot button next to <b class="cBold">Edit Schema </b>to open a dialog box where you can describe the data structure of the source delimited file that you want to pass to the component that follows. </li></div>
</ul></div>
</ul></div>
<a name="wp2751713"> </a><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">
</div>
<div align="center"><img src="../Images/Use_Case_tMySQLOutput13.png" id="wp2751710" border="0" hspace="0" vspace="0"/></div><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">

</div>
<div class="pSmartList1"><ul class="pSmartList1">
<div class="pSmartList2"><ul class="pSmartList2">
<a name="wp2751721"> </a><div class="pSmartList2"><li>Select the <b class="cBold">Key</b> check box(es) next to the column name(s) you want to define as key column(s).</li></div>
<a name="wp2751729"> </a><p class="pBodyRelative">
<br />
<img src="../Images/bulb_small.png" align="left" id="wp2751727" border="0" hspace="0" vspace="0"/><br />
It is necessary to define at least one column as a key column for the Job to be executed correctly. Otherwise, the Job is automatically interrupted and an error message displays on the console. 
</p>
<a name="wp2751741"> </a><div class="pSmartList2"><li>In the design workspace, double-click <b class="cBold">tMysqlOutput</b> to open its <b class="cBold">Basic settings</b> view where you can define its properties.</li></div>
</ul></div>
</ul></div>
<a name="wp2751750"> </a><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">
</div>
<div align="center"><img src="../Images/Use_Case_tMysqlOutput15.png" id="wp2751747" border="0" hspace="0" vspace="0"/></div><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">

</div>
<div class="pSmartList1"><ul class="pSmartList1">
<div class="pSmartList2"><ul class="pSmartList2">
<a name="wp2751758"> </a><div class="pSmartList2"><li>Click <b class="cBold">Sync columns</b> to retrieve the schema of the preceding component. If needed, click the three-dot button next to <b class="cBold">Edit schema</b> to open a dialog box where you can check the retrieved schema. </li></div>
<a name="wp2751771"> </a><div class="pSmartList2"><li>From the <b class="cBold">Property Type</b> list, select <b class="cBold">Repository</b> if you have already stored the connection metadata in the <b class="cBold">Metadata</b> node in the <b class="cBold">Repository</b> tree view. Otherwise, select <b class="cBold">Built-In</b> to define manually the connection information. <br />For more information about storing metadata, see <em class="cEmphasis">Setting up a DB connection</em> of <b class="cBold">Talend Integration Suite Studio</b> <b class="cBold">User Guide</b>.</li></div>
<a name="wp2751791"> </a><div class="pSmartList2"><li>Fill in the database connection information in the corresponding fields.</li></div>
<a name="wp2751798"> </a><div class="pSmartList2"><li>In the <b class="cBold">Table </b>field, enter the name of the table to update.</li></div>
<a name="wp2751807"> </a><div class="pSmartList2"><li>From the <b class="cBold">Action on table</b> list, select the operation you want to perform, <b class="cBold">None</b> in this example since the table already exists.</li></div>
<a name="wp2751817"> </a><div class="pSmartList2"><li>From the <b class="cBold">Action on data </b>list, select the operation you want to perform on the data, <b class="cBold">Update</b> in this example.</li></div>
<a name="wp2751826"> </a><div class="pSmartList2"><li>Save your Job and press <b class="cBold">F6</b> to execute it. </li></div>
</ul></div>
</ul></div>
<a name="wp2751833"> </a><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">
</div>
<div align="center"><img src="../Images/Use_Case_tMySQLOutput20.png" id="wp2751830" border="0" hspace="0" vspace="0"/></div><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">

</div>
<a name="wp2752883"> </a><p class="pIndented1">
Using you DB browser, you can verify if the MySQL table, <em class="cEmphasis">customers, </em>has been modified according to the delimited file. 
</p>
<a name="wp2752910"> </a><p class="pIndented1">
In the above example, the database table has always the four columns <em class="cEmphasis">id</em>, <em class="cEmphasis">CustomerName</em>, <em class="cEmphasis">CustomerAddress</em> and <em class="cEmphasis">idState</em>, but certain fields have been modified according to the data in the delimited file used.
</p>
<a name="wp2939075"> </a><h2 class="pHeading2">
Scenario&#160;3: Retrieve data in error with a Reject link
</h2>
<a name="wp2939785"> </a><p class="pIndented1">
This scenario describes a four-component Job that carries out migration from a customer file to a MySQL database table and redirects data in error towards a CSV file using a <b class="cBold">Reject</b> link. 
</p>
<a name="wp2939090"> </a><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">
</div>
<div align="center"><img src="../Images/Use_Case_tMySQLOutput3_1.png" id="wp2939087" border="0" hspace="0" vspace="0"/></div><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">

</div>
<div class="pSmartList1"><ul class="pSmartList1">
<div class="pSmartList2"><ul class="pSmartList2">
<a name="wp2939098"> </a><div class="pSmartList2"><li>In the <b class="cBold">Repository</b>, select the customer file metadata that you want to migrate and drop it onto the workspace. In the <b class="cBold">[Components]</b> dialog box, select <b class="cBold">tFileInputDelimited</b> and click <b class="cBold">OK</b>. The component properties will be filled in automatically.</li></div>
<a name="wp2939111"> </a><div class="pSmartList2"><li>If you have not stored the information about your customer file under the <b class="cBold">Metadata</b> node in the <b class="cBold">Repository</b>. Drop a <b class="cBold">tFileInputDelimited</b> component from the family <b class="cBold">File</b>&#160;&gt;&#160;<b class="cBold">Input</b>, in the <b class="cBold">Palette</b>, and fill in its properties manually in the <b class="cBold">Component</b> tab.</li></div>
<a name="wp2939145"> </a><div class="pSmartList2"><li>From the <b class="cBold">Palette</b>, drop a <b class="cBold">tMap</b> from the <b class="cBold">Processing</b> family onto the workspace.</li></div>
<a name="wp2939152"> </a><div class="pSmartList2"><li>In the <b class="cBold">Repository</b>, expand the <b class="cBold">Metadata</b> node, followed by the <b class="cBold">Db Connections</b> node and select the connection required to migrate your data to the appropriate database. Drop it onto the workspace. In the <b class="cBold">[Components]</b> dialog box, select <b class="cBold">tMysqlOutput</b> and click <b class="cBold">OK</b>. The database connection properties will be automatically filled in.</li></div>
<a name="wp2939165"> </a><div class="pSmartList2"><li>If you have not stored the database connection details under the <b class="cBold">Db Connections</b> node in the <b class="cBold">Repository</b>, drop a <b class="cBold">tMysqlOutput</b> from the <b class="cBold">Databases</b> family in the <b class="cBold">Palette</b> and fill in its properties manually in the <b class="cBold">Component </b>tab. </li></div>
</ul></div>
</ul></div>
<a name="wp2939193"> </a><p class="pIndented1">
For more information, see <em class="cEmphasis">How to set a built-in schema</em> and <em class="cEmphasis">How to set a repository schema</em> in the <b class="cBold">Talend Integration Suite Studio</b> <b class="cBold">User Guide.</b> 
</p>
<div class="pSmartList1"><ul class="pSmartList1">
<div class="pSmartList2"><ul class="pSmartList2">
<a name="wp2939212"> </a><div class="pSmartList2"><li>From the <b class="cBold">Palette</b>, select a <b class="cBold">tFileOutputDelimited</b> from the <b class="cBold">File</b>&#160;&gt;&#160;<b class="cBold">Output</b> family, and drop it onto the workspace.</li></div>
<a name="wp2939234"> </a><div class="pSmartList2"><li>Link the <b class="cBold">customers</b> component to the <b class="cBold">tMap</b> component, and the <b class="cBold">tMap</b> and <b class="cBold">Localhost</b> with a <b class="cBold">Row Main</b> link. Name this second link <em class="cEmphasis">out</em>.</li></div>
<a name="wp2939250"> </a><div class="pSmartList2"><li>Link the <b class="cBold">Localhost</b> to the <b class="cBold">tFileOutputDelimited</b> using a <b class="cBold">Row</b>&#160;&gt;&#160;<b class="cBold">Reject</b> link. </li></div>
<a name="wp2939266"> </a><div class="pSmartList2"><li>Double-click the <b class="cBold">customers</b> component to display the <b class="cBold">Component</b> view. </li></div>
</ul></div>
</ul></div>
<a name="wp2939275"> </a><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">
</div>
<div align="center"><img src="../Images/Use_Case_tMySQLOutput3_2.png" id="wp2939272" border="0" hspace="0" vspace="0"/></div><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">

</div>
<div class="pSmartList1"><ul class="pSmartList1">
<div class="pSmartList2"><ul class="pSmartList2">
<a name="wp2939289"> </a><div class="pSmartList2"><li>In the <b class="cBold">Property Type </b>list, select <b class="cBold">Repository</b> and click the <b class="cBold">[...] button </b> in order to select the metadata containing the connection to your file. You can also select the <b class="cBold">Built-in</b> mode and fill in the fields manually.</li></div>
<a name="wp2939302"> </a><div class="pSmartList2"><li>Click the <b class="cBold">[...]</b> button next to the <b class="cBold">File Name </b>field, and fill in the path and the name of the file you want to use.</li></div>
<a name="wp2939312"> </a><div class="pSmartList2"><li>In the <b class="cBold">Row</b> and <b class="cBold">Field Separator</b> fields, type in between inverted commas the row and field separator used in the file.</li></div>
<a name="wp2939325"> </a><div class="pSmartList2"><li>In the <b class="cBold">Header</b>, <b class="cBold">Footer</b> and <b class="cBold">Limit</b> fields, type in the number of headers and footers to ignore, and the number of rows to which processing should be limited.</li></div>
<a name="wp2939338"> </a><div class="pSmartList2"><li>In the <b class="cBold">Schema</b> list, select <b class="cBold">Repository</b> and click the <b class="cBold">[...] button</b> in order to select the schema of your file, if it is stored under the <b class="cBold">Metadata</b> node in the <b class="cBold">Repository</b>. You can also click the <b class="cBold">[...]</b> button next to the <b class="cBold">Edit schema</b> field, and set the schema manually. </li></div>
</ul></div>
</ul></div>
<a name="wp2939356"> </a><p class="pIndented1">
The schema is as follows:
</p>
<a name="wp2939363"> </a><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">
</div>
<div align="center"><img src="../Images/Use_Case_tMySQLOutput3_3.png" id="wp2939360" border="0" hspace="0" vspace="0"/></div><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">

</div>
<div class="pSmartList1"><ul class="pSmartList1">
<div class="pSmartList2"><ul class="pSmartList2">
<a name="wp2939373"> </a><div class="pSmartList2"><li>Double-click the <b class="cBold">tMap</b> component to open its editor. </li></div>
</ul></div>
</ul></div>
<a name="wp2939380"> </a><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">
</div>
<div align="center"><img src="../Images/Use_Case_tMySQLOutput3_4.png" id="wp2939377" border="0" hspace="0" vspace="0"/></div><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">

</div>
<div class="pSmartList1"><ul class="pSmartList1">
<div class="pSmartList2"><ul class="pSmartList2">
<a name="wp2939403"> </a><div class="pSmartList2"><li>Select the <em class="cEmphasis">id</em>, <em class="cEmphasis">CustomerName</em>, <em class="cEmphasis">CustomerAddress</em>, <em class="cEmphasis">idSate</em>, <em class="cEmphasis">id2</em>, <em class="cEmphasis">RegTime</em> and <em class="cEmphasis">RegisterTime </em>columns on the table on the left and drop them on the <b class="cBold">out</b> table, on the right.</li></div>
</ul></div>
</ul></div>
<a name="wp2939415"> </a><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">
</div>
<div align="center"><img src="../Images/Use_Case_tMySQLOutput3_5.png" id="wp2939412" border="0" hspace="0" vspace="0"/></div><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">

</div>
<div class="pSmartList1"><ul class="pSmartList1">
<div class="pSmartList2"><ul class="pSmartList2">
<a name="wp2939426"> </a><div class="pSmartList2"><li>In the <b class="cBold">Schema editor</b> area, at the bottom of the <b class="cBold">tMap</b> editor, in the right table, change the length of the <b class="cBold">CustomerName</b> column to <em class="cEmphasis">28</em> to create an error. Thus, any data for which the length is greater than 28 will create errors, retrieved with the <b class="cBold">Reject </b>link.</li></div>
<a name="wp2940738"> </a><div class="pSmartList2"><li>Click <b class="cBold">OK</b>.</li></div>
<a name="wp2940747"> </a><div class="pSmartList2"><li>In the workspace, double-click the output <b class="cBold">Localhost</b> component to display its <b class="cBold">Component </b> view. </li></div>
</ul></div>
</ul></div>
<a name="wp2940756"> </a><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">
</div>
<div align="center"><img src="../Images/Use_Case_tMySQLOutput3_6.png" id="wp2940753" border="0" hspace="0" vspace="0"/></div><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">

</div>
<div class="pSmartList1"><ul class="pSmartList1">
<div class="pSmartList2"><ul class="pSmartList2">
<a name="wp2940769"> </a><div class="pSmartList2"><li>In the <b class="cBold">Property Type </b>list, select <b class="cBold">Repository</b> and click the <b class="cBold">[...]</b> button to select the connection to the database metadata. The connection details will be automatically filled in. You can also select the <b class="cBold">Built-in</b> mode and set the fields manually.</li></div>
<a name="wp2939485"> </a><div class="pSmartList2"><li>In the <b class="cBold">Table</b> field, type in the name of the table to be created. In this scenario, we call it <em class="cEmphasis">customers_data</em>.</li></div>
<a name="wp2939499"> </a><div class="pSmartList2"><li>In the <b class="cBold">Action on data </b>list, select the <b class="cBold">Create table </b>option. </li></div>
<a name="wp2939506"> </a><div class="pSmartList2"><li>Click the <b class="cBold">Sync columns</b> button to retrieve the schema from the previous component.</li></div>
<a name="wp2939512"> </a><div class="pSmartList2"><li>Make sure the <b class="cBold">Die on error</b> check box isn&#39;t selected, so that the Job can be executed despite the error you just created.</li></div>
<a name="wp2939522"> </a><div class="pSmartList2"><li>Click the <b class="cBold">Advanced settings</b> tab of the <b class="cBold">Component</b> view to set the advanced parameters of the component.</li></div>
</ul></div>
</ul></div>
<a name="wp2939531"> </a><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">
</div>
<div align="center"><img src="../Images/Use_Case_tMySQLOutput3_7.png" id="wp2939528" border="0" hspace="0" vspace="0"/></div><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">

</div>
<div class="pSmartList1"><ul class="pSmartList1">
<div class="pSmartList2"><ul class="pSmartList2">
<a name="wp2939539"> </a><div class="pSmartList2"><li>Deselect the <b class="cBold">Extend Insert</b> check box which enables you to insert rows in batch, because this option is not compatible with the <b class="cBold">Reject</b> link.</li></div>
<a name="wp2939549"> </a><div class="pSmartList2"><li>Double-click the <b class="cBold">tFileOutputDelimited </b>component to set its properties in the <b class="cBold">Component</b> view.</li></div>
</ul></div>
</ul></div>
<a name="wp2939561"> </a><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">
</div>
<div align="center"><img src="../Images/Use_Case_tMySQLOutput3_8.png" id="wp2939558" border="0" hspace="0" vspace="0"/></div><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">

</div>
<div class="pSmartList1"><ul class="pSmartList1">
<div class="pSmartList2"><ul class="pSmartList2">
<a name="wp2939572"> </a><div class="pSmartList2"><li>Click the <b class="cBold">[...]</b> button next to the <b class="cBold">File Name</b> field to fill in the path and name of the output file.</li></div>
<a name="wp2939580"> </a><div class="pSmartList2"><li>Click the <b class="cBold">Sync columns</b> button to retrieve the schema of the previous component.</li></div>
<a name="wp2939588"> </a><div class="pSmartList2"><li>Save your Job and press <b class="cBold">F6</b> to execute it. </li></div>
</ul></div>
</ul></div>
<a name="wp2939595"> </a><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">
</div>
<div align="center"><img src="../Images/Use_Case_tMySQLOutput3_9.png" id="wp2939592" border="0" hspace="0" vspace="0"/></div><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">

</div>
<a name="wp2939598"> </a><p class="pIndented1">
The data in error are sent to the delimited file, as well as the error type met. Here, we have: <b class="cBold">Data truncation</b>.
</p>
<a name="wp3605213"> </a><h2 class="pHeading2">
Scenario 4: Writing dynamic columns from a source file to a MySQL database
</h2>
<a name="wp3605216"> </a><p class="pIndented1">
In this scenario we will read dynamic columns from a source file, map them and then write them to a table in a <b class="cBold">MySQL</b> database. By defining a dynamic column alongside known column names, we can retrieve all of the columns from the source file, including the unknown columns.
</p>
<div class="pSmartList1"><ul class="pSmartList1">
<div class="pSmartList2"><ul class="pSmartList2">
<a name="wp3605234"> </a><div class="pSmartList2"><li>Drop a <b class="cBold">tFileInputDelimited</b>, a <b class="cBold">tMap</b> and a <b class="cBold">tMysqlLOutput</b> component onto the workspace.</li></div>
</ul></div>
</ul></div>
<a name="wp3605243"> </a><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">
</div>
<div align="center"><img src="../Images/dynamic_schema_connections.png" id="wp3605240" border="0" hspace="0" vspace="0"/></div><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">

</div>
<div class="pSmartList1"><ul class="pSmartList1">
<div class="pSmartList2"><ul class="pSmartList2">
<a name="wp3605258"> </a><div class="pSmartList2"><li>Link <b class="cBold">tFileInputDelimited</b> to <b class="cBold">tMap</b> using a <b class="cBold">Row &gt; Main</b> connection.</li></div>
<a name="wp3605271"> </a><div class="pSmartList2"><li>Link <b class="cBold">tMap</b> to <b class="cBold">tMysqlOutput</b> using a <b class="cBold">Row &gt; *New Output* (Main)</b> connection.</li></div>
<a name="wp3605280"> </a><div class="pSmartList2"><li>Double-click <b class="cBold">tFileInputDelimited</b> to open its <b class="cBold">Basic Settings</b> view in the <b class="cBold">Component</b> tab.</li></div>
</ul></div>
</ul></div>
<a name="wp3605292"> </a><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">
</div>
<div align="center"><img src="../Images/dynamic_schema_tFileInputDelimited_BasicSettings.png" id="wp3605289" border="0" hspace="0" vspace="0"/></div><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">

</div>
<a name="wp3605302"> </a><p class="pBodyRelative">
</p>
<div><table border="0" cellpadding="0" cellspacing="0" align="left"><img src="../Images/warning_small.png" align="left" id="wp3605296" border="0" hspace="0" vspace="0"/></table></div><p class="pBodyRelative">
<br />The dynamic schema feature is only supported in <b class="cBold">Built-In</b> mode.<br />
</p>
<div class="pSmartList1"><ul class="pSmartList1">
<div class="pSmartList2"><ul class="pSmartList2">
<a name="wp3605315"> </a><div class="pSmartList2"><li>Select <b class="cBold">Built-In</b> from the <b class="cBold">Property Type</b> list.</li></div>
<a name="wp3605322"> </a><div class="pSmartList2"><li>Click the <b class="cBold">[...]</b> button next to the <b class="cBold">File name/Stream</b> field and browse to the input file.</li></div>
<a name="wp3605328"> </a><div class="pSmartList2"><li>Enter the characters you want to use as separators next to the <b class="cBold">Row Separator</b> and <b class="cBold">Field Separator</b> fields.</li></div>
<a name="wp3605338"> </a><div class="pSmartList2"><li>Click <b class="cBold">Edit Schema</b> to define the source file schema.<br />The <b class="cBold">Edit Schema</b> dialog box opens.</li></div>
</ul></div>
</ul></div>
<a name="wp3605350"> </a><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">
</div>
<div align="center"><img src="../Images/dynamic_schema_tFileInputDelimited_Edit_Schema.png" id="wp3605347" border="0" hspace="0" vspace="0"/></div><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">

</div>
<div class="pSmartList1"><ul class="pSmartList1">
<div class="pSmartList2"><ul class="pSmartList2">
<a name="wp3605368"> </a><div class="pSmartList2"><li>Add as many rows as required or delete rows using the <img src="../Images/plus_button.png" id="wp3605358" border="0" hspace="0" vspace="0"/> and <img src="../Images/delete_button.png" id="wp3605364" border="0" hspace="0" vspace="0"/> buttons.</li></div>
<a name="wp3605384"> </a><div class="pSmartList2"><li>Modify the order of the columns using the <img src="../Images/downward_arrow.png" id="wp3605374" border="0" hspace="0" vspace="0"/> and <img src="../Images/upward_arrow.png" id="wp3605380" border="0" hspace="0" vspace="0"/> buttons.</li></div>
<a name="wp3605391"> </a><div class="pSmartList2"><li>Under <b class="cBold">Column</b>, enter the names of each known column on separate rows. </li></div>
<a name="wp3605398"> </a><div class="pSmartList2"><li>In the last row, under <b class="cBold">Column</b>, enter a name for the dynamic column.</li></div>
<a name="wp3605404"> </a><div class="pSmartList2"><li>Under <b class="cBold">Type</b>, click the field to define the type of data in the corresponding column.<br />Click the arrow to select the correct data type.</li></div>
<a name="wp3605418"> </a><p class="pBodyRelative">
<br />
<img src="../Images/warning_small.png" align="left" id="wp3605410" border="0" hspace="0" vspace="0"/><br />
<br />Under <b class="cBold">Type</b>, the dynamic column type must be set as <b class="cBold">Dynamic</b>.<br />
</p>
<a name="wp3616003"> </a><p class="pBodyRelative">
<br />
<img src="../Images/Components-05-267-0936.jpg" height="50" width="50" align="left" id="wp3616000" border="0" hspace="0" vspace="0"/><br />
<br />The dynamic column must be defined in the last row of the schema.<br />
</p>
<a name="wp3616007"> </a><div class="pSmartList2"><li>Click <b class="cBold">OK</b> to close the dialog box when you have finished defining the source schema.</li></div>
<a name="wp3605442"> </a><div class="pSmartList2"><li>Click <b class="cBold">tMap</b> to open its <b class="cBold">Basic Settings</b> view in the <b class="cBold">Component</b> tab. </li></div>
</ul></div>
</ul></div>
<a name="wp3605449"> </a><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">
</div>
<div align="center"><img src="../Images/dynamic_schema_tMap_Basic_Settings.png" id="wp3605446" border="0" hspace="0" vspace="0"/></div><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">

</div>
<div class="pSmartList1"><ul class="pSmartList1">
<div class="pSmartList2"><ul class="pSmartList2">
<a name="wp3605462"> </a><div class="pSmartList2"><li>Click <b class="cBold">[...]</b> next to <b class="cBold">Map Editor</b> to map the columns from the source file.</li></div>
</ul></div>
</ul></div>
<a name="wp3605469"> </a><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">
</div>
<div align="center"><img src="../Images/dynamic_schema_tMap_Edit1.png" id="wp3605466" border="0" hspace="0" vspace="0"/></div><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">

</div>
<div class="pSmartList1"><ul class="pSmartList1">
<div class="pSmartList2"><ul class="pSmartList2">
<a name="wp3605477"> </a><div class="pSmartList2"><li>On the toolbar on top of the <b class="cBold">Output Panel</b> on the top right of the window, click the <img src="../Images/plus_button.png" id="wp3605481" border="0" hspace="0" vspace="0"/> button.<br />The <b class="cBold">Add an Output</b> schema dialog box appears.</li></div>
</ul></div>
</ul></div>
<a name="wp3605495"> </a><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">
</div>
<div align="center"><img src="../Images/dynamic_schema_Add_An_Output.png" id="wp3605492" border="0" hspace="0" vspace="0"/></div><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">

</div>
<div class="pSmartList1"><ul class="pSmartList1">
<div class="pSmartList2"><ul class="pSmartList2">
<a name="wp3605504"> </a><div class="pSmartList2"><li>Next to <b class="cBold">New output</b>, enter a name for the output schema.</li></div>
<a name="wp3605511"> </a><div class="pSmartList2"><li>Click <b class="cBold">OK</b> to close the dialog box.</li></div>
<a name="wp3605517"> </a><div class="pSmartList2"><li>Using the <b class="cBold">Ctrl + click</b> technique, highlight all off the column names in the input schema on the left and drop them onto the output schema.<br />The columns dropped on the output columns retain their original values and they are automatically mapped on a one to one basis.</li></div>
</ul></div>
</ul></div>
<a name="wp3605526"> </a><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">
</div>
<div align="center"><img src="../Images/dynamic_schema_tMap_Edit2.png" id="wp3605523" border="0" hspace="0" vspace="0"/></div><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">

</div>
<div class="pSmartList1"><ul class="pSmartList1">
<div class="pSmartList2"><ul class="pSmartList2">
<a name="wp3605534"> </a><div class="pSmartList2"><li>In the output schema, click the relevant row under <b class="cBold">Expression</b> if you want to use the <b class="cBold">Expression Builder</b> to set advanced parameters for the corresponding column in the output.</li></div>
<a name="wp3605547"> </a><div class="pSmartList2"><li>Click the <b class="cBold">[...] </b>button which appears to open the <b class="cBold">Expression Builder</b> and set the parameters as required.</li></div>
</ul></div>
</ul></div>
<a name="wp3605557"> </a><p class="pIndented1">
For further information about using the <b class="cBold">Expression Builder</b>, see <em class="cEmphasis">How to write code using the Expression Builder</em>.
</p>
<a name="wp3605565"> </a><p class="pBodyRelative">
</p>
<div><table border="0" cellpadding="0" cellspacing="0" align="left"><img src="../Images/warning_small.png" align="left" id="wp3605563" border="0" hspace="0" vspace="0"/></table></div><p class="pBodyRelative">
The dynamic column must be mapped on a one to one basis and cannot undergo any transformations. It cannot be used in a filter expression or in a variables section. It cannot be renamed in the output table and cannot be used as a join condition.
</p>
<div class="pSmartList1"><ul class="pSmartList1">
<div class="pSmartList2"><ul class="pSmartList2">
<a name="wp3605578"> </a><div class="pSmartList2"><li>Click <b class="cBold">OK</b> to close the <b class="cBold">Map Editor</b>.</li></div>
<a name="wp3605592"> </a><div class="pSmartList2"><li>Double click <b class="cBold">tMysqlOutput</b> to set its <b class="cBold">Basic Settings</b> in the <b class="cBold">Component</b> tab.</li></div>
</ul></div>
</ul></div>
<a name="wp3605599"> </a><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">
</div>
<div align="center"><img src="../Images/dynamic_schema_tMysqlOutput_Basic_Properties.png" id="wp3605596" border="0" hspace="0" vspace="0"/></div><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">

</div>
<div class="pSmartList1"><ul class="pSmartList1">
<div class="pSmartList2"><ul class="pSmartList2">
<a name="wp3605611"> </a><div class="pSmartList2"><li>Select <b class="cBold">Built-in</b> as the <b class="cBold">Property Type</b>.</li></div>
<a name="wp3605618"> </a><div class="pSmartList2"><li>Select the <b class="cBold">DB Version</b> from the corresponding list.</li></div>
<a name="wp3605625"> </a><div class="pSmartList2"><li>Next to <b class="cBold">Host</b>, enter the database server IP address.</li></div>
<a name="wp3605632"> </a><div class="pSmartList2"><li>Next to <b class="cBold">Port</b>, enter the listening port number of the database server.</li></div>
<a name="wp3605642"> </a><div class="pSmartList2"><li>Enter your authentication data in the <b class="cBold">Username</b> and <b class="cBold">Password</b> fields.</li></div>
<a name="wp3605649"> </a><div class="pSmartList2"><li>Next to <b class="cBold">Action on table</b>, select the required action.</li></div>
<a name="wp3605656"> </a><div class="pSmartList2"><li>Next to <b class="cBold">Action on data</b>, select the required action.</li></div>
<a name="wp3605668"> </a><div class="pSmartList2"><li>Set the <b class="cBold">Schema type</b> as<b class="cBold"> Built-in</b> and click <b class="cBold">Edit schema</b> to modify the schema if required.</li></div>
<a name="wp3605712"> </a><div class="pSmartList2"><li>Press <b class="cBold">F6</b> to run the Job.<br />The table is written to the MySQL database along with the data and the column names of the previously unknown columns:</li></div>
</ul></div>
</ul></div>
<a name="wp3605721"> </a><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">
</div>
<div align="center"><img src="../Images/dynamic_schema_mysql_database.png" id="wp3605718" border="0" hspace="0" vspace="0"/></div><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">

</div>
<a name="wp3605730"> </a><p class="pBodyRelative">
</p>
<div><table border="0" cellpadding="0" cellspacing="0" align="left"><img src="../Images/bulb_small.png" align="left" id="wp3605725" border="0" hspace="0" vspace="0"/></table></div><p class="pBodyRelative">
The Job can also be run in the <b class="cBold">Traces Debug</b> mode, which allows you to view the rows as they are written to the output file, in the workspace.<br />
</p>
<a name="wp3612685"> </a><p class="pIndented1">
For further information about defining and mapping dynamic schemas, see <em class="cEmphasis">Dynamic schema</em> in the <b class="cBold">Talend Integration Suite Studio</b> User Guide.
</p>
<a name="wp3613095"> </a><p class="pIndented1">
For an example of how to write dynamic columns to an output file, see <a href="tMysqlInput_Scenario.html#wp3608406"><em class="cEmphasis">Scenario: Writing dynamic columns from a MySQL database to an output file</em></a>.
</p>
    </blockquote>
    <hr>

    <!--table align="right" border="0" cellspacing="0" cellpadding="0">
      <tr>
        <td align="right"><font size="1">
          <a href="http://www.webworks.com"><img src="images/webworks.gif" width="150" height="20" border="0"></a><br>
            Quadralay Corporation<br>
            http://www.webworks.com<br>
            Voice: (512) 719-3399<br>
            Fax: (512) 719-3606<br>
          <a href="mailto:sales@webworks.com">sales@webworks.com</a><br>
        </font></td>
      </tr>
    </table-->

    <!--table width="220" border="0" cellpadding="0" cellspacing="0">
      <tr> 
        <td>
<a accesskey="4" href="tMysqlOutput_Prop.html"><img id="LongDescNotReq3" src="images/prev.gif" border="0" alt="Previous" /></a><a accesskey="5" href="tMysqlOutputBulk_Prop.html"><img id="LongDescNotReq4" src="images/next.gif" border="0" alt="Next" /></a>
        </td>
      </tr>
    </table-->
  </body>
</html>
