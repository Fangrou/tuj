<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN" "http://www.w3.org/MarkUp/Wilbur/HTML32.dtd">
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
    <meta name="GENERATOR" content="Quadralay WebWorks Publisher Standard Edition 8.0.5337.0">
    <meta name="TEMPLATEBASE" content="Dynamic HTML">
    <meta name="LASTUPDATED" content="10/04/10 19:26:00">
    <title>Scenario: Editing data in a LDAP directory</title>
  </head>

  <body link="#3366CC" vlink="#9999CC" text="#000000" alink="#0000CC" bgcolor="#FFFFFF">

    <!--table width="220" border="0" align="right" cellpadding="0" cellspacing="0">
      <tr> 
        <td>
<a accesskey="4" href="tLDAPOutput_Prop.html"><img id="LongDescNotReq1" src="images/prev.gif" border="0" alt="Previous" /></a><a accesskey="5" href="tLDAPRenameEntry_Prop.html"><img id="LongDescNotReq2" src="images/next.gif" border="0" alt="Next" /></a>
        </td>
      </tr>
    </table-->

    <!--img src="images/wwplogo.gif" width="122" height="63" alt="Put your logo here!">
    <hr align="left"-->

    <blockquote>
<a name="wp3630732"> </a><div style="color: #000000; font-size: 12pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">

</div>
<a name="wp3630740"> </a><h2 class="pHeading2">
Scenario: Editing data in a LDAP directory
</h2>
<a name="wp3630751"> </a><p class="pBodyRelative">
</p>
<div><table border="0" cellpadding="0" cellspacing="0" align="left"><img src="../Images/bulb_small.png" align="left" id="wp3630744" border="0" hspace="0" vspace="0"/></table></div><p class="pBodyRelative">
All of the database output components have the <b class="cBold">Parallelize</b> option in their <b class="cBold">Advanced settings</b> tab. This option allows you to improve data processing performances by handling several data flows simultaneously. For more information, see <em class="cEmphasis">How to parallelize data flows</em> in the <b class="cBold">Talend Integration Suite Studio</b> <b class="cBold">User Guide</b>.
</p>
<a name="wp3630765"> </a><p class="pIndented1">
The following scenario describes a Job that reads an LDAP directory, updates the email of a selected entry and displays the output before writing the LDAP directory. To keep it simple, no alias dereferencing nor referral handling is performed. This scenario is based on <b class="cBold">LDAPInput</b>&#39;s <a href="tLDAPInput_Scenario.html#wp3370948"><em class="cEmphasis">Scenario: Displaying LDAP directory&#39;s filtered content</em></a>. The result returned was a single entry, related to an organisational person, whom email is to be updated.
</p>
<a name="wp3630779"> </a><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">
</div>
<div align="center"><img src="../Images/Use_Case_tLDAPOutput1.png" id="wp3630776" border="0" hspace="0" vspace="0"/></div><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">

</div>
<div class="pSmartList1"><ul class="pSmartList1">
<div class="pSmartList2"><ul class="pSmartList2">
<a name="wp3630799"> </a><div class="pSmartList2"><li>Drop the <b class="cBold">tLDAPInput</b>, <b class="cBold">tLDAPOutput</b>, <b class="cBold">tMap</b> and <b class="cBold">tLogRow</b> components from the <b class="cBold">Palette</b> to the design workspace.</li></div>
<a name="wp3630809"> </a><div class="pSmartList2"><li>Connect the input component to the <b class="cBold">tMap</b> then to the <b class="cBold">tLogRow</b> and to the output component.</li></div>
<a name="wp3630816"> </a><div class="pSmartList2"><li>In the <b class="cBold">tLDAPInput</b> Component view, set the connection details to the LDAP directory server as well as the filter as described in <a href="tLDAPInput_Scenario.html#wp3370948"><em class="cEmphasis">Scenario: Displaying LDAP directory&#39;s filtered content</em></a>.</li></div>
<a name="wp3630834"> </a><div class="pSmartList2"><li>Change the schema to make it simpler, by removing the unused fields: <em class="cEmphasis">dc</em>, <em class="cEmphasis">ou</em>, <em class="cEmphasis">objectclass</em>.</li></div>
</ul></div>
</ul></div>
<a name="wp3630841"> </a><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">
</div>
<div align="center"><img src="../Images/Use_Case_tLDAPOutput2.png" id="wp3630838" border="0" hspace="0" vspace="0"/></div><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">

</div>
<div class="pSmartList1"><ul class="pSmartList1">
<div class="pSmartList2"><ul class="pSmartList2">
<a name="wp3630847"> </a><div class="pSmartList2"><li>Then open the mapper to set the edit to be carried out.</li></div>
<a name="wp3630850"> </a><div class="pSmartList2"><li>Drag &amp; drop the uid column from the input table to the output as no change is required on this column.</li></div>
</ul></div>
</ul></div>
<a name="wp3630859"> </a><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">
</div>
<div align="center"><img src="../Images/Use_Case_tLDAPOutput3.png" id="wp3630856" border="0" hspace="0" vspace="0"/></div><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">

</div>
<div class="pSmartList1"><ul class="pSmartList1">
<div class="pSmartList2"><ul class="pSmartList2">
<a name="wp3630870"> </a><div class="pSmartList2"><li>In the <b class="cBold">Expression</b> field of the <em class="cEmphasis">dn</em> column (output), fill in with the exact expression expected by the LDAP server to reach the target tree leaf and allow directory writing on the condition that you haven&#39;t set it already in the <b class="cBold">Base DN </b>field of the <b class="cBold">tLDAPOutput</b> component.</li></div>
<a name="wp3630883"> </a><div class="pSmartList2"><li>In this use case, the <b class="cBold">GetResultName</b> global variable is used to retrieve this path automatically. Press <b class="cBold">Ctrl+Space bar</b> to access the variable list and select <code class="cCode">tLDAPInput_1_RESULT_NAME</code>.</li></div>
<a name="wp3630896"> </a><div class="pSmartList2"><li>In the <em class="cEmphasis">mail</em> column&#39;s expression field, type in the new email that will overwrite the current data in the LDAP directory. In this example, we change to <em class="cEmphasis">Pierre.Dupont@talend.com</em>.</li></div>
<a name="wp3630907"> </a><div class="pSmartList2"><li>Click <b class="cBold">OK</b> to validate the changes.</li></div>
<a name="wp3630914"> </a><div class="pSmartList2"><li>The <b class="cBold">tLogRow</b> component doesn&#39;t need any particular setting.</li></div>
<a name="wp3630922"> </a><div class="pSmartList2"><li>Then select the <b class="cBold">tLDAPOutput</b> component to set the directory writing properties.</li></div>
</ul></div>
</ul></div>
<a name="wp3630929"> </a><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">
</div>
<div align="center"><img src="../Images/Use_Case_tLDAPOutput5.png" id="wp3630926" border="0" hspace="0" vspace="0"/></div><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">

</div>
<div class="pSmartList1"><ul class="pSmartList1">
<div class="pSmartList2"><ul class="pSmartList2">
<a name="wp3630944"> </a><div class="pSmartList2"><li>Set the <b class="cBold">Port</b> and <b class="cBold">Host</b> details manually if they aren&#39;t stored in the <b class="cBold">Repository</b>.</li></div>
<a name="wp3630950"> </a><div class="pSmartList2"><li>In <b class="cBold">Base DN</b> field, set the highest tree leaf you have the rights to access. If you haven&#39;t set previously the exact and full path of the target DN you want to access, then fill in it here. In this use case, the full DN is provided by the <em class="cEmphasis">dn</em> output from the tMap component, therefore only the highest accessible leaf is given: <em class="cEmphasis">o=directoryRoot</em>.</li></div>
<a name="wp3630964"> </a><div class="pSmartList2"><li>Select the relevant protocol to be used: <b class="cBold">LDAP</b> for this example.</li></div>
<a name="wp3630974"> </a><div class="pSmartList2"><li>Then fill in the <b class="cBold">User</b> and <b class="cBold">Password</b> as expected by the LDAP directory.</li></div>
<a name="wp3630983"> </a><div class="pSmartList2"><li>Use the default setting of <b class="cBold">Alias Dereferencing</b> and <b class="cBold">Referral Handling</b> fields, respectively <b class="cBold">Always</b> and <b class="cBold">Ignore</b>.</li></div>
<a name="wp3631000"> </a><div class="pSmartList2"><li>The <b class="cBold">Insert mode</b> for this use case is <b class="cBold">Update</b> (the email address).</li></div>
<a name="wp3631004"> </a><div class="pSmartList2"><li>The schema was provided by the previous component through the propagation operation.</li></div>
<a name="wp3631009"> </a><div class="pSmartList2"><li>Save the Job and execute.</li></div>
</ul></div>
</ul></div>
<a name="wp3631016"> </a><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">
</div>
<div align="center"><img src="../Images/Use_Case_tLDAPOutput4.png" id="wp3631013" border="0" hspace="0" vspace="0"/></div><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">

</div>
<a name="wp3631031"> </a><p class="pIndented1">
The output shows the following fields: <em class="cEmphasis">dn</em>, <em class="cEmphasis">uid</em> and <em class="cEmphasis">mail</em> as defined in the Job. 
</p>
    </blockquote>
    <hr>

    <!--table align="right" border="0" cellspacing="0" cellpadding="0">
      <tr>
        <td align="right"><font size="1">
          <a href="http://www.webworks.com"><img src="images/webworks.gif" width="150" height="20" border="0"></a><br>
            Quadralay Corporation<br>
            http://www.webworks.com<br>
            Voice: (512) 719-3399<br>
            Fax: (512) 719-3606<br>
          <a href="mailto:sales@webworks.com">sales@webworks.com</a><br>
        </font></td>
      </tr>
    </table-->

    <!--table width="220" border="0" cellpadding="0" cellspacing="0">
      <tr> 
        <td>
<a accesskey="4" href="tLDAPOutput_Prop.html"><img id="LongDescNotReq3" src="images/prev.gif" border="0" alt="Previous" /></a><a accesskey="5" href="tLDAPRenameEntry_Prop.html"><img id="LongDescNotReq4" src="images/next.gif" border="0" alt="Next" /></a>
        </td>
      </tr>
    </table-->
  </body>
</html>
