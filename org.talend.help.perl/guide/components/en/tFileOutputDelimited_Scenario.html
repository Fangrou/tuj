<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN" "http://www.w3.org/MarkUp/Wilbur/HTML32.dtd">
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
    <meta name="GENERATOR" content="Quadralay WebWorks Publisher Standard Edition 8.0.5337.0">
    <meta name="TEMPLATEBASE" content="Dynamic HTML">
    <meta name="LASTUPDATED" content="10/04/10 19:30:40">
    <title>Scenario: Writing data in a delimited file</title>
  </head>

  <body link="#3366CC" vlink="#9999CC" text="#000000" alink="#0000CC" bgcolor="#FFFFFF">

    <!--table width="220" border="0" align="right" cellpadding="0" cellspacing="0">
      <tr> 
        <td>
<a accesskey="4" href="tFileOutputDelimited_Prop.html"><img id="LongDescNotReq1" src="images/prev.gif" border="0" alt="Previous" /></a><a accesskey="5" href="tFileOutputEBCDIC_Prop.html"><img id="LongDescNotReq2" src="images/next.gif" border="0" alt="Next" /></a>
        </td>
      </tr>
    </table-->

    <!--img src="images/wwplogo.gif" width="122" height="63" alt="Put your logo here!">
    <hr align="left"-->

    <blockquote>
<a name="wp2794366"> </a><div style="color: #000000; font-size: 12pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">

</div>
<a name="wp2794373"> </a><h2 class="pHeading2">
Scenario: Writing data in a delimited file
</h2>
<a name="wp2794376"> </a><p class="pIndented1">
This Java scenario describes a three-component Job that extracts certain data from a file holding information about clients, <em class="cEmphasis">customers</em>, and then writes the extracted data in a delimited file. 
</p>
<a name="wp2796064"> </a><p class="pIndented1">
In the following example, we have already stored the input schema under the<b class="cBold"> Metadata</b> node in the <b class="cBold">Repository</b> tree view. For more information about storing schema metadata in the Repository, see <em class="cEmphasis">Setting up a File Delimited schema</em>.
</p>
<a name="wp2794402"> </a><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">
</div>
<div align="center"><img src="../Images/Use_Case_tFileOutputDelimited9.png" id="wp2794399" border="0" hspace="0" vspace="0"/></div><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">

</div>
<div class="pSmartList1"><ul class="pSmartList1">
<div class="pSmartList2"><ul class="pSmartList2">
<a name="wp2794416"> </a><div class="pSmartList2"><li>In the <b class="cBold">Repository</b> tree view, expand <b class="cBold">Metadata</b> and <b class="cBold">File delimited</b> in succession and then browse to your input schema, <em class="cEmphasis">customers</em>, and drop it on the design workspace. A dialog box displays where you can select the component type you want to use.</li></div>
</ul></div>
</ul></div>
<a name="wp2794428"> </a><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">
</div>
<div align="center"><img src="../Images/Use_Case_tFileOutputDelimited1.png" id="wp2794425" border="0" hspace="0" vspace="0"/></div><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">

</div>
<div class="pSmartList1"><ul class="pSmartList1">
<div class="pSmartList2"><ul class="pSmartList2">
<a name="wp2794440"> </a><div class="pSmartList2"><li>Click <b class="cBold">tFileInputDelimited</b> and then <b class="cBold">OK</b> to close the dialog box. A <b class="cBold">tFileInput Delimited</b> component holding the name of your input schema displays on the design workspace. </li></div>
<a name="wp2794446"> </a><div class="pSmartList2"><li>Drop a <b class="cBold">tMap</b> and a <b class="cBold">tFileOutputDelimited</b> components from the <b class="cBold">Palette</b> to the design workspace.</li></div>
<a name="wp2796595"> </a><div class="pSmartList2"><li>Link the components together using <b class="cBold">Main Row</b> links.</li></div>
<a name="wp2796552"> </a><div class="pSmartList2"><li>Double-click <b class="cBold">tFileInputDelimited</b> to open its <b class="cBold">Basic settings</b> view. All its property fields are automatically filled in because you defined your input file locally. </li></div>
</ul></div>
</ul></div>
<a name="wp2794455"> </a><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">
</div>
<div align="center"><img src="../Images/Use_Case_tFileOutputDelimited2.png" id="wp2794452" border="0" hspace="0" vspace="0"/></div><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">

</div>
<div class="pSmartList1"><ul class="pSmartList1">
<div class="pSmartList2"><ul class="pSmartList2">
<a name="wp2794466"> </a><div class="pSmartList2"><li>If you do not define your input file locally in the <b class="cBold">Repository</b> tree view, fill in the details manually after selecting <b class="cBold">Built-in</b> in the <b class="cBold">Property type</b> list.</li></div>
<a name="wp2794479"> </a><div class="pSmartList2"><li>Click the three-dot button next to the <b class="cBold">File Name</b> field and browse to the input file, <em class="cEmphasis">customer.csv</em> in this example.</li></div>
<a name="wp2794492"> </a><div class="pSmartList2"><li>In the <b class="cBold">Row Separators </b>and <b class="cBold">Field Separators</b> fields, enter respectively &quot;<em class="cEmphasis">\n</em>&quot; and &quot;<em class="cEmphasis">;</em>&quot; as line and field separators.</li></div>
<a name="wp2794502"> </a><div class="pSmartList2"><li>If needed, set the number of lines used as header and the number of lines used as footer in the corresponding fields and then set a limit for the number of processed rows.<br />In this example, <b class="cBold">Header</b> is set to 6 while <b class="cBold">Footer</b> and <b class="cBold">Limit</b> are not set.</li></div>
<a name="wp2794515"> </a><div class="pSmartList2"><li>In the <b class="cBold">Schema</b> field, schema is automatically set to <b class="cBold">Repository </b>and your schema is already defined since you have stored your input file locally for this example. Otherwise, select <b class="cBold">Built-in</b> and click <b class="cBold">Edit Schema</b> to open a dialog box where you can define the input schema. </li></div>
</ul></div>
</ul></div>
<a name="wp2794537"> </a><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">
</div>
<div align="center"><img src="../Images/Use_Case_tFileOutputDelimited4.png" id="wp2794534" border="0" hspace="0" vspace="0"/></div><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">

</div>
<div class="pSmartList1"><ul class="pSmartList1">
<div class="pSmartList2"><ul class="pSmartList2">
<a name="wp2794546"> </a><div class="pSmartList2"><li>Click <b class="cBold">OK</b> to close the dialog box.</li></div>
<a name="wp2794589"> </a><div class="pSmartList2"><li>In the design workspace, double-click <b class="cBold">tMap </b>to open its editor.</li></div>
</ul></div>
</ul></div>
<a name="wp2794596"> </a><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">
</div>
<div align="center"><img src="../Images/Use_Case_tFileOutputDelimited7.png" id="wp2794593" border="0" hspace="0" vspace="0"/></div><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">

</div>
<div class="pSmartList1"><ul class="pSmartList1">
<div class="pSmartList2"><ul class="pSmartList2">
<a name="wp2794610"> </a><div class="pSmartList2"><li>In the <b class="cBold">tMap</b> editor, click <img src="../Images/Use_Case_tFileOutputDelimited12.png" id="wp2794607" border="0" hspace="0" vspace="0"/> on top of the panel to the right to open the <b class="cBold">[Add a new output table]</b> dialog box. </li></div>
</ul></div>
</ul></div>
<a name="wp2794625"> </a><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">
</div>
<div align="center"><img src="../Images/Use_Case_tFileOutputDelimited6.png" id="wp2794622" border="0" hspace="0" vspace="0"/></div><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">

</div>
<div class="pSmartList1"><ul class="pSmartList1">
<div class="pSmartList2"><ul class="pSmartList2">
<a name="wp2794634"> </a><div class="pSmartList2"><li>Enter a name for the table you want to create, <em class="cEmphasis">row2</em> in this example.</li></div>
<a name="wp2797584"> </a><div class="pSmartList2"><li>Click <b class="cBold">OK</b> validate your changes and close the dialog box.</li></div>
<a name="wp2794649"> </a><div class="pSmartList2"><li>In the table to the left, <em class="cEmphasis">row1</em>, select the first three lines (<em class="cEmphasis">Id</em>, <em class="cEmphasis">CustomerName</em> and <em class="cEmphasis">CustomerAddress</em>) and drop them to the table to the right</li></div>
<a name="wp2794668"> </a><div class="pSmartList2"><li>In the <b class="cBold">Schema editor</b> view situated in the lower left corner of the <b class="cBold">tMap</b> editor, change the type of <em class="cEmphasis">RegisterTime</em> to <b class="cBold">String</b> in the table to the right.</li></div>
</ul></div>
</ul></div>
<a name="wp2794680"> </a><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">
</div>
<div align="center"><img src="../Images/Use_Case_tFileOutputDelimited8.png" id="wp2794677" border="0" hspace="0" vspace="0"/></div><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">

</div>
<div class="pSmartList1"><ul class="pSmartList1">
<div class="pSmartList2"><ul class="pSmartList2">
<a name="wp2794689"> </a><div class="pSmartList2"><li>Click <b class="cBold">OK</b> to save your changes and close the editor.</li></div>
<a name="wp2794738"> </a><div class="pSmartList2"><li>In the design workspace, double-click <b class="cBold">tFileOutputDelimited</b> to open its <b class="cBold">Basic settings</b> view and define the component properties.</li></div>
</ul></div>
</ul></div>
<a name="wp2794745"> </a><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">
</div>
<div align="center"><img src="../Images/Use_Case_tFileOutputDelimited10.png" id="wp2794742" border="0" hspace="0" vspace="0"/></div><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">

</div>
<div class="pSmartList1"><ul class="pSmartList1">
<div class="pSmartList2"><ul class="pSmartList2">
<a name="wp2794756"> </a><div class="pSmartList2"><li>In the <b class="cBold">Property Type</b> field, set the type to <b class="cBold">Built-in</b> and fill in the fields that follow manually.</li></div>
<a name="wp2794766"> </a><div class="pSmartList2"><li>Click the three-dot button next to the <b class="cBold">File Name</b> field and browse to the output file you want to write data in, <em class="cEmphasis">customerselection.txt</em> in this example.</li></div>
<a name="wp2794779"> </a><div class="pSmartList2"><li>In the <b class="cBold">Row</b> and <b class="cBold">Field Separator</b><b class="cBold">s</b> fields, set &quot;<em class="cEmphasis">\n</em>&quot; and &quot;<em class="cEmphasis">;</em>&quot; respectively as row and field separators.</li></div>
<a name="wp2794793"> </a><div class="pSmartList2"><li>Select the <b class="cBold">Include Header</b> check box if you want to output columns headers as well.</li></div>
<a name="wp2794799"> </a><div class="pSmartList2"><li>Click <b class="cBold">Edit schema</b> to open the schema dialog box and verify if the recuperated schema corresponds to the input schema. If not, click <b class="cBold">Sync Columns</b> to recuperate the schema from the preceding component. </li></div>
<a name="wp2794811"> </a><div class="pSmartList2"><li>Save your Job and press <b class="cBold">F6</b> to execute it.</li></div>
</ul></div>
</ul></div>
<a name="wp2794818"> </a><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">
</div>
<div align="center"><img src="../Images/Use_Case_tFileOutputDelimited11.png" id="wp2794815" border="0" hspace="0" vspace="0"/></div><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">

</div>
<a name="wp2794824"> </a><p class="pIndented1">
The three specified columns <em class="cEmphasis">Id</em>, <em class="cEmphasis">CustomerName</em> and <em class="cEmphasis">CustomerAddress</em> are output in the defined output file.
</p>
<a name="wp3481374"> </a><p class="pIndented1">
For an example of how to use dynamic schemas with <b class="cBold">tFileOutputDelimited</b>, see <a href="tMysqlInput_Scenario.html#wp3608406"><em class="cEmphasis">Scenario: Writing dynamic columns from a MySQL database to an output file</em></a>.
</p>
    </blockquote>
    <hr>

    <!--table align="right" border="0" cellspacing="0" cellpadding="0">
      <tr>
        <td align="right"><font size="1">
          <a href="http://www.webworks.com"><img src="images/webworks.gif" width="150" height="20" border="0"></a><br>
            Quadralay Corporation<br>
            http://www.webworks.com<br>
            Voice: (512) 719-3399<br>
            Fax: (512) 719-3606<br>
          <a href="mailto:sales@webworks.com">sales@webworks.com</a><br>
        </font></td>
      </tr>
    </table-->

    <!--table width="220" border="0" cellpadding="0" cellspacing="0">
      <tr> 
        <td>
<a accesskey="4" href="tFileOutputDelimited_Prop.html"><img id="LongDescNotReq3" src="images/prev.gif" border="0" alt="Previous" /></a><a accesskey="5" href="tFileOutputEBCDIC_Prop.html"><img id="LongDescNotReq4" src="images/next.gif" border="0" alt="Next" /></a>
        </td>
      </tr>
    </table-->
  </body>
</html>
