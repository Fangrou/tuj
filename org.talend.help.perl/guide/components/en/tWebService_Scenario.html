<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN" "http://www.w3.org/MarkUp/Wilbur/HTML32.dtd">
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
    <meta name="GENERATOR" content="Quadralay WebWorks Publisher Standard Edition 8.0.5337.0">
    <meta name="TEMPLATEBASE" content="Dynamic HTML">
    <meta name="LASTUPDATED" content="10/04/10 19:30:55">
    <title>Scenario: Extracting a name list using a Web service</title>
  </head>

  <body link="#3366CC" vlink="#9999CC" text="#000000" alink="#0000CC" bgcolor="#FFFFFF">

    <!--table width="220" border="0" align="right" cellpadding="0" cellspacing="0">
      <tr> 
        <td>
<a accesskey="4" href="tWebService_Prop.html"><img id="LongDescNotReq1" src="images/prev.gif" border="0" alt="Previous" /></a><a accesskey="5" href="tWebServiceInput_Prop.html"><img id="LongDescNotReq2" src="images/next.gif" border="0" alt="Next" /></a>
        </td>
      </tr>
    </table-->

    <!--img src="images/wwplogo.gif" width="122" height="63" alt="Put your logo here!">
    <hr align="left"-->

    <blockquote>
<a name="wp3455414"> </a><div style="color: #000000; font-size: 12pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">

</div>
<a name="wp3455424"> </a><h2 class="pHeading2">
Scenario: Extracting a name list using a Web service
</h2>
<a name="wp3455428"> </a><p class="pIndented1">
This java scenario describes a three-component Job that uses a Web service to retrieve a list of all of the defenders who play for the football team of a defined country.
</p>
<div class="pSmartList1"><ul class="pSmartList1">
<div class="pSmartList2"><ul class="pSmartList2">
<a name="wp3455440"> </a><div class="pSmartList2"><li>Drop the following components from the <b class="cBold">Palette</b> onto the design workspace: <b class="cBold">tFixedFlowInput</b>, <b class="cBold">tWebService</b>, and <b class="cBold">tLogRow</b>.</li></div>
</ul></div>
</ul></div>
<a name="wp3455463"> </a><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">
</div>
<div align="center"><img src="../Images/Use_Case_tWebService1.png" id="wp3455459" border="0" hspace="0" vspace="0"/></div><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">

</div>
<div class="pSmartList1"><ul class="pSmartList1">
<div class="pSmartList2"><ul class="pSmartList2">
<a name="wp3455475"> </a><div class="pSmartList2"><li>Connect the components together using <b class="cBold">Main Row</b> links.</li></div>
<a name="wp3455487"> </a><div class="pSmartList2"><li>Double-click <b class="cBold">tFixedFlowInput</b> to open its <b class="cBold">Basic settings</b> view and define the component properties.</li></div>
</ul></div>
</ul></div>
<a name="wp3455502"> </a><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">
</div>
<div align="center"><img src="../Images/Use_Case_tWebService2.png" id="wp3455498" border="0" hspace="0" vspace="0"/></div><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">

</div>
<div class="pSmartList1"><ul class="pSmartList1">
<div class="pSmartList2"><ul class="pSmartList2">
<a name="wp3455513"> </a><div class="pSmartList2"><li>Click the three-dot button next to the <b class="cBold">Edit schema</b> field to open a dialog box where you can define the input schema.</li></div>
<a name="wp3455519"> </a><div class="pSmartList2"><li>In the open dialog box, click the plus button to add a column to the schema.</li></div>
<a name="wp3455528"> </a><div class="pSmartList2"><li>Click in the column and type in a name, <em class="cEmphasis">Country</em> in this example.</li></div>
<a name="wp3455540"> </a><div class="pSmartList2"><li>Click <b class="cBold">OK </b>to close the schema definition dialog box. The <em class="cEmphasis">Country</em> column displays in the <b class="cBold">Values</b> table in the component <b class="cBold">Basic settings</b> view.</li></div>
<a name="wp3455565"> </a><div class="pSmartList2"><li>In the <b class="cBold">Values</b> table, click in the <b class="cBold">Value</b> column and enter the value of the <em class="cEmphasis">Country</em> column, <em class="cEmphasis">ITALY </em>in this example. This will retrieve the list of defenders of the Italian football team.</li></div>
<a name="wp3455578"> </a><div class="pSmartList2"><li>Double-click <b class="cBold">tWebService</b> to open the component editor, or select the component in the design workspace and in the <b class="cBold">Basic settings</b> view, click the three-dot button next to <b class="cBold">Service configuration</b>.</li></div>
</ul></div>
</ul></div>
<a name="wp3455601"> </a><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">
</div>
<div align="center"><img src="../Images/Use_Case_tWebService3.png" id="wp3455597" border="0" hspace="0" vspace="0"/></div><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">

</div>
<div class="pSmartList1"><ul class="pSmartList1">
<div class="pSmartList2"><ul class="pSmartList2">
<a name="wp3455609"> </a><div class="pSmartList2"><li>Connect to the Web service you want to use in the Job.</li></div>
<a name="wp3455617"> </a><div class="pSmartList2"><li>In the <b class="cBold">WSDL</b> field, enter the Web service address or browse to it, if the WSDL is locally stored, by clicking the <b class="cBold">[Browse...]</b> button.</li></div>
<a name="wp3455630"> </a><div class="pSmartList2"><li>Click the refresh button next to the <b class="cBold">WSDL</b> filed to retrieve the WSDL description and display it in the fields that follow.</li></div>
<a name="wp3455639"> </a><div class="pSmartList2"><li>In the <b class="cBold">Port Name</b> list, select the port you want to use, <b class="cBold">FootballPoolWebServiceSoap</b> in this example.</li></div>
<a name="wp3455652"> </a><div class="pSmartList2"><li>In the <b class="cBold">Operation</b> list, select the service you want to use. In this example the selected service is <b class="cBold">AllDefenders(parameters):ArrayOfString</b> .</li></div>
<a name="wp3455667"> </a><div class="pSmartList2"><li>Click <b class="cBold">Next</b> to open a new view in the editor.</li></div>
</ul></div>
</ul></div>
<a name="wp3455676"> </a><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">
</div>
<div align="center"><img src="../Images/Use_Case_tWebService4.png" id="wp3455672" border="0" hspace="0" vspace="0"/></div><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">

</div>
<a name="wp3455684"> </a><p class="pIndented1">
In the panel to the right of the <b class="cBold">Input mapping</b> view, the input parameter of the service displays automatically. However, you can add other parameters if you select <b class="cBold">[+] parameters</b> and then click the plus button on top to display the <b class="cBold">[Parameter Tree]</b> dialog box where you can select any of the listed parameters. 
</p>
<a name="wp3455702"> </a><p class="pIndented1">
The Web service in this example has only one input parameter, <b class="cBold">sCountryName</b>.
</p>
<a name="wp3605080"> </a><p class="pBodyRelative">
</p>
<div><table border="0" cellpadding="0" cellspacing="0" align="left"><img src="../Images/bulb_small.png" align="left" id="wp3605075" border="0" hspace="0" vspace="0"/></table></div><p class="pBodyRelative">
If available, use the <b class="cBold">Auto map!</b> button, located at the bottom left of the interface, to carry out the mapping operation automatically.
</p>
<a name="wp3605084"> </a><p class="pIndented1">
You now need to create a connection between the input schema and the input parameter of the defined Web service. To do so:
</p>
<div class="pSmartList1"><ul class="pSmartList1">
<div class="pSmartList2"><ul class="pSmartList2">
<a name="wp3455718"> </a><div class="pSmartList2"><li>In the <b class="cBold">Column</b> list, drag the column in the input schema you want to link to the input parameter of the Web service to the corresponding parameter in the panel to the right.</li></div>
<a name="wp3455729"> </a><div class="pSmartList2"><li>Click <b class="cBold">Next </b>to open a new view in the editor.</li></div>
</ul></div>
</ul></div>
<a name="wp3455738"> </a><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">
</div>
<div align="center"><img src="../Images/Use_Case_tWebService7.png" id="wp3455734" border="0" hspace="0" vspace="0"/></div><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">

</div>
<a name="wp3455746"> </a><p class="pIndented1">
In the <b class="cBold">Element</b> list to the left of the view, the output parameter of the web service displays automatically. However, you can add other parameters if you select <b class="cBold">[+] parameters</b> and then click the plus button on top to display the <b class="cBold">[Parameter Tree]</b> dialog box where you can select any of the parameters listed.
</p>
<a name="wp3455763"> </a><p class="pIndented1">
The Web service in this example has only one output parameter: <b class="cBold">AllDefendersResult.string</b>.
</p>
<a name="wp3455772"> </a><p class="pIndented1">
You now need to create a connection between the output parameter of the defined Web service and the schema of the output component. To do so:
</p>
<div class="pSmartList1"><ul class="pSmartList1">
<div class="pSmartList2"><ul class="pSmartList2">
<a name="wp3455784"> </a><div class="pSmartList2"><li>In the panel to the right of the view, click the three-dot button next to <b class="cBold">Edit Schema</b>  to open a dialog box in which you can define the output schema.</li></div>
</ul></div>
</ul></div>
<a name="wp3455795"> </a><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">
</div>
<div align="center"><img src="../Images/Use_Case_tWebService6.png" id="wp3455791" border="0" hspace="0" vspace="0"/></div><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">

</div>
<div class="pSmartList1"><ul class="pSmartList1">
<div class="pSmartList2"><ul class="pSmartList2">
<a name="wp3455806"> </a><div class="pSmartList2"><li>In the <b class="cBold">Output</b> list to the right of the dialog box, click the plus button to add a column to the output schema.</li></div>
<a name="wp3455815"> </a><div class="pSmartList2"><li>Click in the column and type in a name, <em class="cEmphasis">Name</em> in this example. This will retrieve the names of the defenders.</li></div>
<a name="wp3455826"> </a><div class="pSmartList2"><li>Click <b class="cBold">OK</b> to validate your changes and to close the schema definition dialog box.</li></div>
<a name="wp3455837"> </a><div class="pSmartList2"><li>In the <b class="cBold">Element</b> list to the right of the editor, drag <b class="cBold">parameters.AllDefendersResult.string</b> to the field that corresponds to the <b class="cBold">Name</b> column to the right of the editor.</li></div>
</ul></div>
</ul></div>
<a name="wp3455856"> </a><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">
</div>
<div align="center"><img src="../Images/Use_Case_tWebService5.png" id="wp3455852" border="0" hspace="0" vspace="0"/></div><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">

</div>
<a name="wp3605527"> </a><p class="pBodyRelative">
</p>
<div><table border="0" cellpadding="0" cellspacing="0" align="left"><img src="../Images/bulb_small.png" align="left" id="wp3605520" border="0" hspace="0" vspace="0"/></table></div><p class="pBodyRelative">
If available, use the <b class="cBold">Auto map!</b> button, located at the bottom left of the interface, to carry out the mapping operation automatically.
</p>
<div class="pSmartList1"><ul class="pSmartList1">
<div class="pSmartList2"><ul class="pSmartList2">
<a name="wp3605531"> </a><div class="pSmartList2"><li>Select this row in the panel to the right and click <b class="cBold">Denormalize</b> in order to denormalize the returned data.</li></div>
<a name="wp3455876"> </a><div class="pSmartList2"><li>Add <code class="cCode">[*]</code> after the parameter in order to have the following code: <code class="cCode">denormalize(parameters.AllDefendersResult.string[*],&quot;:&quot;)</code>. This will retrieve all data separated by a colon <code class="cCode">&quot;:&quot;</code>.</li></div>
<a name="wp3455894"> </a><div class="pSmartList2"><li>Click <b class="cBold">OK</b> to validate your changes and to close the editor.</li></div>
<a name="wp3455906"> </a><div class="pSmartList2"><li>In the design workspace, double-click <b class="cBold">tLogRow</b> to open its <b class="cBold">Basic settings</b> view and define its properties.</li></div>
<a name="wp3455920"> </a><div class="pSmartList2"><li>Click <b class="cBold">Sync columns</b> to retrieve the schema from the preceding component.</li></div>
<a name="wp3455930"> </a><div class="pSmartList2"><li>Save your Job and press <b class="cBold">F6</b> to execute it.</li></div>
</ul></div>
</ul></div>
<a name="wp3455934"> </a><p class="pIndented1">
The names of all defenders of the Italian football team are returned and displayed in the console of <b class="cBold">Talend Integration Suite Studio</b>.
</p>
    </blockquote>
    <hr>

    <!--table align="right" border="0" cellspacing="0" cellpadding="0">
      <tr>
        <td align="right"><font size="1">
          <a href="http://www.webworks.com"><img src="images/webworks.gif" width="150" height="20" border="0"></a><br>
            Quadralay Corporation<br>
            http://www.webworks.com<br>
            Voice: (512) 719-3399<br>
            Fax: (512) 719-3606<br>
          <a href="mailto:sales@webworks.com">sales@webworks.com</a><br>
        </font></td>
      </tr>
    </table-->

    <!--table width="220" border="0" cellpadding="0" cellspacing="0">
      <tr> 
        <td>
<a accesskey="4" href="tWebService_Prop.html"><img id="LongDescNotReq3" src="images/prev.gif" border="0" alt="Previous" /></a><a accesskey="5" href="tWebServiceInput_Prop.html"><img id="LongDescNotReq4" src="images/next.gif" border="0" alt="Next" /></a>
        </td>
      </tr>
    </table-->
  </body>
</html>
