<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN" "http://www.w3.org/MarkUp/Wilbur/HTML32.dtd">
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
    <meta name="GENERATOR" content="Quadralay WebWorks Publisher Standard Edition 8.0.5337.0">
    <meta name="TEMPLATEBASE" content="Dynamic HTML">
    <meta name="LASTUPDATED" content="10/04/10 19:26:00">
    <title>Scenario 1: Displaying selected data from DB table</title>
  </head>

  <body link="#3366CC" vlink="#9999CC" text="#000000" alink="#0000CC" bgcolor="#FFFFFF">

    <!--table width="220" border="0" align="right" cellpadding="0" cellspacing="0">
      <tr> 
        <td>
<a accesskey="4" href="tDBInput_Prop.html"><img id="LongDescNotReq1" src="images/prev.gif" border="0" alt="Previous" /></a><a accesskey="5" href="tDBOutput_Prop.html"><img id="LongDescNotReq2" src="images/next.gif" border="0" alt="Next" /></a>
        </td>
      </tr>
    </table-->

    <!--img src="images/wwplogo.gif" width="122" height="63" alt="Put your logo here!">
    <hr align="left"-->

    <blockquote>
<a name="wp3626918"> </a><div style="color: #000000; font-size: 12pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">

</div>
<a name="wp3626926"> </a><h2 class="pHeading2">
Scenario 1: Displaying selected data from DB table
</h2>
<a name="wp3626929"> </a><p class="pIndented1">
The following scenario creates a two-component Job, reading data from a database using a DB query and outputting delimited data into the standard output (console).
</p>
<a name="wp3626937"> </a><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">
</div>
<div align="center"><img src="../Images/Use_Case_tDBInput1.png" id="wp3626934" border="0" hspace="0" vspace="0"/></div><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">

</div>
<div class="pSmartList1"><ul class="pSmartList1">
<div class="pSmartList2"><ul class="pSmartList2">
<a name="wp3626952"> </a><div class="pSmartList2"><li>Drop a <b class="cBold">tDBInput</b> and <b class="cBold">tLogRow</b> component from the <b class="cBold">Palette</b> to the design workspace.</li></div>
<a name="wp3626961"> </a><div class="pSmartList2"><li>Right-click on the <b class="cBold">tDBInput</b> component and select <em class="cEmphasis">Row &gt; Main</em>. Drag this main row link onto the <b class="cBold">tLogRow</b> component and release when the plug symbol displays.</li></div>
<a name="wp3626976"> </a><div class="pSmartList2"><li>Double-click the <b class="cBold">tDBInput</b> so the <b class="cBold">Component</b> view shows up, and define the properties:</li></div>
</ul></div>
</ul></div>
<a name="wp3626983"> </a><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">
</div>
<div align="center"><img src="../Images/Use_Case_tDBInput2.png" id="wp3626980" border="0" hspace="0" vspace="0"/></div><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">

</div>
<div class="pSmartList1"><ul class="pSmartList1">
<div class="pSmartList2"><ul class="pSmartList2">
<a name="wp3626992"> </a><div class="pSmartList2"><li>The component property data are <b class="cBold">Built-In</b> for this scenario.</li></div>
<a name="wp3626996"> </a><div class="pSmartList2"><li>Fill in the database name, the username and password in the corresponding fields.</li></div>
<a name="wp3627003"> </a><div class="pSmartList2"><li>The schema is <b class="cBold">Built-In</b>.This means that it is available for this Job and on this station only. </li></div>
<a name="wp3627010"> </a><div class="pSmartList2"><li>Click on <b class="cBold">Edit Schema</b> and create a 2-column description including shop code and sales.</li></div>
<a name="wp3627014"> </a><div class="pSmartList2"><li>Enter the table name in the corresponding field.</li></div>
<a name="wp3627017"> </a><div class="pSmartList2"><li>Type in the query making sure it includes all columns in the same order as defined in the Schema. In this case, as we&#39;ll select all columns of the schema, the asterisk symbol makes sense.</li></div>
<a name="wp3627023"> </a><div class="pSmartList2"><li>Click on the second component to define it.</li></div>
<a name="wp3627029"> </a><div class="pSmartList2"><li>Enter the fields separator. In this case, a pipe separator. </li></div>
<a name="wp3627040"> </a><div class="pSmartList2"><li>Now go to the <b class="cBold">Run </b>tab, and click on <b class="cBold">Run</b> to execute the Job.</li></div>
</ul></div>
</ul></div>
<a name="wp3627043"> </a><p class="pIndented1">
The DB is parsed and queried data is extracted from the specified table and passed on to the job log console. You can view the output file straight on the console.  
</p>
<a name="wp3627051"> </a><p class="pIndented1">
For an example of the use of Dynamic Schemas in <b class="cBold">Input</b> components, see:
</p>
<div class="pSmartList1"><ul class="pSmartList1">
<div class="pSmartList2"><ul class="pSmartList2">
<a name="wp3627061"> </a><div class="pSmartList2"><li><a href="tMysqlInput_Scenario.html#wp3608406"><em class="cEmphasis">Scenario: Writing dynamic columns from a MySQL database to an output file</em></a>.</li></div>
</ul></div>
</ul></div>
<a name="wp3627069"> </a><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">
</div>
<div align="center"><img src="../Images/Use_Case_tDBInput3.png" id="wp3627065" border="0" hspace="0" vspace="0"/></div><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">

</div>
<a name="wp3627076"> </a><h2 class="pHeading2">
Scenario 2: Using StoreSQLQuery variable
</h2>
<a name="wp3627083"> </a><p class="pIndented1">
StoreSQLQuery is a variable that can be used to debug a <b class="cBold">tDBInput</b> scenario which does not operate correctly. It allows you to dynamically feed the SQL query set in your <b class="cBold">tDBInput</b> component. 
</p>
<div class="pSmartList1"><ul class="pSmartList1">
<div class="pSmartList2"><ul class="pSmartList2">
<a name="wp3627097"> </a><div class="pSmartList2"><li>Use the same scenario as scenario 1 above and add a third component, <b class="cBold">tJava</b>.</li></div>
<a name="wp3627111"> </a><div class="pSmartList2"><li>Connect <b class="cBold">tDBInput</b> to <b class="cBold">tJava</b> using a trigger connection of the <b class="cBold">OnComponentOk</b> type. In this case, we want the <b class="cBold">tDBInput</b> to run before the <b class="cBold">tJava</b> component.</li></div>
</ul></div>
</ul></div>
<a name="wp3627126"> </a><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">
</div>
<div align="center"><img src="../Images/Use_Case_tDBInput4_var.png" id="wp3627123" border="0" hspace="0" vspace="0"/></div><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">

</div>
<div class="pSmartList1"><ul class="pSmartList1">
<div class="pSmartList2"><ul class="pSmartList2">
<a name="wp3627141"> </a><div class="pSmartList2"><li>Set both <b class="cBold">tDBInput</b> and <b class="cBold">tLogRow</b> component as in <b class="cBold">tDBInput</b> scenario 1.</li></div>
<a name="wp3627148"> </a><div class="pSmartList2"><li>Click anywhere on the design workspace to display the <b class="cBold">Contexts</b> property panel.</li></div>
<a name="wp3627154"> </a><div class="pSmartList2"><li>Create a new parameter called explicitly <b class="cBold">StoreSQLQuery</b>. Enter a default value of 1. This value of 1 means the <b class="cBold">StoreSQLQuery</b> is &quot;true&quot; for a use in the QUERY global variable.</li></div>
<a name="wp3627167"> </a><div class="pSmartList2"><li>Click on the <b class="cBold">tJava</b> component to display the <b class="cBold">Component</b> view. Enter the <code class="cCode">System.Out.println(&quot;&quot;)</code>command to display the query content, press <b class="cBold">Ctrl+Space bar</b> to access the variable list and select the global variable QUERY.</li></div>
</ul></div>
</ul></div>
<a name="wp3627182"> </a><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">
</div>
<div align="center"><img src="../Images/Use_Case_tDBInput5_var.png" id="wp3627179" border="0" hspace="0" vspace="0"/></div><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">

</div>
<div class="pSmartList1"><ul class="pSmartList1">
<div class="pSmartList2"><ul class="pSmartList2">
<a name="wp3627191"> </a><div class="pSmartList2"><li>Go to your <b class="cBold">Run tab</b> and execute the Job. </li></div>
<a name="wp3627199"> </a><div class="pSmartList2"><li>The query entered in the <b class="cBold">tDBInput</b> component shows at the end of the job results, on the log:</li></div>
</ul></div>
</ul></div>
<a name="wp3627206"> </a><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">
</div>
<div align="center"><img src="../Images/Use_Case_tDBInput6_var.png" id="wp3627203" border="0" hspace="0" vspace="0"/></div><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">

</div>
<a name="wp3634607"> </a><p class="pIndented1">
For an example of the use of dynamic schemas in Input components, see <a href="tMysqlInput_Scenario.html#wp3608406"><em class="cEmphasis">Scenario: Writing dynamic columns from a MySQL database to an output file</em></a>.
</p>
    </blockquote>
    <hr>

    <!--table align="right" border="0" cellspacing="0" cellpadding="0">
      <tr>
        <td align="right"><font size="1">
          <a href="http://www.webworks.com"><img src="images/webworks.gif" width="150" height="20" border="0"></a><br>
            Quadralay Corporation<br>
            http://www.webworks.com<br>
            Voice: (512) 719-3399<br>
            Fax: (512) 719-3606<br>
          <a href="mailto:sales@webworks.com">sales@webworks.com</a><br>
        </font></td>
      </tr>
    </table-->

    <!--table width="220" border="0" cellpadding="0" cellspacing="0">
      <tr> 
        <td>
<a accesskey="4" href="tDBInput_Prop.html"><img id="LongDescNotReq3" src="images/prev.gif" border="0" alt="Previous" /></a><a accesskey="5" href="tDBOutput_Prop.html"><img id="LongDescNotReq4" src="images/next.gif" border="0" alt="Next" /></a>
        </td>
      </tr>
    </table-->
  </body>
</html>
