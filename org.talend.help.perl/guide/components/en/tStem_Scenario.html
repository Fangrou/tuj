<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN" "http://www.w3.org/MarkUp/Wilbur/HTML32.dtd">
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
    <meta name="GENERATOR" content="Quadralay WebWorks Publisher Standard Edition 8.0.5337.0">
    <meta name="TEMPLATEBASE" content="Dynamic HTML">
    <meta name="LASTUPDATED" content="10/04/10 19:25:50">
    <title>Scenario: Extracting the stems of English words from a specific column </title>
  </head>

  <body link="#3366CC" vlink="#9999CC" text="#000000" alink="#0000CC" bgcolor="#FFFFFF">

    <!--table width="220" border="0" align="right" cellpadding="0" cellspacing="0">
      <tr> 
        <td>
<a accesskey="4" href="tStem_Prop.html"><img id="LongDescNotReq1" src="images/prev.gif" border="0" alt="Previous" /></a><a accesskey="5" href="tSurviveFields_Prop.html"><img id="LongDescNotReq2" src="images/next.gif" border="0" alt="Next" /></a>
        </td>
      </tr>
    </table-->

    <!--img src="images/wwplogo.gif" width="122" height="63" alt="Put your logo here!">
    <hr align="left"-->

    <blockquote>
<a name="wp3502382"> </a><div style="color: #000000; font-size: 12pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">

</div>
<a name="wp3502389"> </a><h2 class="pHeading2">
Scenario: Extracting the stems of English words from a specific column 
</h2>
<a name="wp3502396"> </a><p class="pIndented1">
This Java scenario describes a six-component Job that carries out linguistic normalization on data in the <em class="cEmphasis">translation</em> column and extract the base part (word stem) of all English words. 
</p>
<a name="wp3502405"> </a><p class="pIndented1">
The aim of this Job is to create a kind of dictionary of stems of the English words listed in the <em class="cEmphasis">translation</em> column. This dictionary may be used at a later stage in order to check new words to be put in the selected table. The extracted English stems are written in an output file along with the number of their occurrences in the <em class="cEmphasis">translation</em> column. 
</p>
<a name="wp3502418"> </a><p class="pIndented1">
In this scenario, we have already stored the main input schema in the Repository. For more information about storing schema metadata in the Repository, see <em class="cEmphasis">Setting up a DB connection</em> in <b class="cBold">Talend Integration Suite Studio</b> <b class="cBold">User Guide</b>.
</p>
<a name="wp3502450"> </a><p class="pIndented1">
The main input table contains eight columns: <em class="cEmphasis">id_key</em>, <em class="cEmphasis">id_lang</em>, <em class="cEmphasis">translation</em>, <em class="cEmphasis">id_status</em>, <em class="cEmphasis">id_user_trans</em>, <em class="cEmphasis">id_user_validate</em>, <em class="cEmphasis">id_editor</em> and <em class="cEmphasis">date</em>. We want to extract the stem of the English words in the <em class="cEmphasis">translation</em> column.
</p>
<div class="pSmartList1"><ul class="pSmartList1">
<div class="pSmartList2"><ul class="pSmartList2">
<a name="wp3502494"> </a><div class="pSmartList2"><li>In the <b class="cBold">Repository</b> tree view, expand <b class="cBold">Metadata</b> - <b class="cBold">DB Connections</b> where you have stored the main input schema and drop the relevant file onto the design workspace.<br />The <b class="cBold">[Components]</b> dialog box displays with the corresponding component selected by default.</li></div>
</ul></div>
</ul></div>
<a name="wp3502509"> </a><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">
</div>
<div align="center"><img src="../Images/Use_Case_tRecordMatching.png" id="wp3502505" border="0" hspace="0" vspace="0"/></div><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">

</div>
<div class="pSmartList1"><ul class="pSmartList1">
<div class="pSmartList2"><ul class="pSmartList2">
<a name="wp3502524"> </a><div class="pSmartList2"><li>Click <b class="cBold">OK</b> to drop the <b class="cBold">tMysqlInput</b> component onto the workspace. <br />The input table used in this scenario is called <em class="cEmphasis">translation</em>. It holds several columns including the <em class="cEmphasis">translation</em> column that holds the English words we want to stem.</li></div>
<a name="wp3502545"> </a><div class="pSmartList2"><li>Drop the following components from the <b class="cBold">Palette</b> onto the design workspace: <b class="cBold">tNormalize</b>, <b class="cBold">tFilterRow</b>, <b class="cBold">tStem</b>, <b class="cBold">tAggregateRow</b> and <b class="cBold">tFileOutputExcel</b>.</li></div>
</ul></div>
</ul></div>
<a name="wp3502576"> </a><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">
</div>
<div align="center"><img src="../Images/Use_Case_tStem.png" id="wp3502572" border="0" hspace="0" vspace="0"/></div><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">

</div>
<div class="pSmartList1"><ul class="pSmartList1">
<div class="pSmartList2"><ul class="pSmartList2">
<a name="wp3502587"> </a><div class="pSmartList2"><li>Connect the component together using the <b class="cBold">Main</b> links with the exception of the <b class="cBold">tFilterRow</b> - <b class="cBold">tStem </b>connection that should use a <b class="cBold">Filter</b> link.</li></div>
<a name="wp3502610"> </a><div class="pSmartList2"><li>Double-click the main input database component to display its <b class="cBold">Basic settings</b> views.</li></div>
</ul></div>
</ul></div>
<a name="wp3502619"> </a><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">
</div>
<div align="center"><img src="../Images/Use_Case_tStem1.png" id="wp3502615" border="0" hspace="0" vspace="0"/></div><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">

</div>
<a name="wp3502627"> </a><p class="pIndented1">
The property fields for <b class="cBold">tMysqlInput </b>are automatically filled in. If you do not define your input schema locally in the Repository, fill in the details manually after selecting <b class="cBold">Built-in</b> in the <b class="cBold">Schema</b> and <b class="cBold">Property Type</b> fields.
</p>
<div class="pSmartList1"><ul class="pSmartList1">
<div class="pSmartList2"><ul class="pSmartList2">
<a name="wp3502651"> </a><div class="pSmartList2"><li>If required, modify the query in the <b class="cBold">Query</b> box. <br />In this example, we want to work only on the English words and this is why the <code class="cCode">id_lang</code> is set to <code class="cCode">1</code>.</li></div>
<a name="wp3502672"> </a><div class="pSmartList2"><li>Double-click <b class="cBold">tNormalize</b> to display its <b class="cBold">Basic settings</b> view and define the component properties.</li></div>
</ul></div>
</ul></div>
<a name="wp3502683"> </a><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">
</div>
<div align="center"><img src="../Images/Use_Case_tStem2.png" id="wp3502679" border="0" hspace="0" vspace="0"/></div><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">

</div>
<div class="pSmartList1"><ul class="pSmartList1">
<div class="pSmartList2"><ul class="pSmartList2">
<a name="wp3502694"> </a><div class="pSmartList2"><li>If required, click <b class="cBold">Sync columns</b> to retrieve the schema from the previous component.</li></div>
<a name="wp3502707"> </a><div class="pSmartList2"><li>From the <b class="cBold">Column to normalize</b> list, select <em class="cEmphasis">translation</em>.<br />This will split the data strings in the <em class="cEmphasis">translation</em> column into words.</li></div>
<a name="wp3502720"> </a><div class="pSmartList2"><li>In the <b class="cBold">Item separator</b> field, enter the separator which will delimits data in the <em class="cEmphasis">translation</em> column, a space character in this example.</li></div>
<a name="wp3502737"> </a><div class="pSmartList2"><li>Double-click <b class="cBold">tFilterRow</b> to display its <b class="cBold">Basic settings</b> view and define the component properties.</li></div>
</ul></div>
</ul></div>
<a name="wp3502748"> </a><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">
</div>
<div align="center"><img src="../Images/Use_Case_tStem3.png" id="wp3502744" border="0" hspace="0" vspace="0"/></div><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">

</div>
<div class="pSmartList1"><ul class="pSmartList1">
<div class="pSmartList2"><ul class="pSmartList2">
<a name="wp3502755"> </a><div class="pSmartList2"><li>Select the logical operator you want to use in order to combine simple filtering and advanced mode.</li></div>
<a name="wp3502764"> </a><div class="pSmartList2"><li>In the <b class="cBold">Conditions</b> area, click the plus button to add one or more conditions to the output flow. And then in the corresponding table column:<br />-select the input column you want to operate on,<br />-select the needed function on the list,<br />-select the operator to bind the input column with the value,<br />-type in between the quotes the value to be filtered.<br />In this example, we want to filter all words in the <em class="cEmphasis">translation</em> column that have less than three letters.</li></div>
<a name="wp3502781"> </a><div class="pSmartList2"><li>Double-click <b class="cBold">tStem</b> to display its <b class="cBold">Basic settings</b> view and define the component properties.</li></div>
</ul></div>
</ul></div>
<a name="wp3502792"> </a><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">
</div>
<div align="center"><img src="../Images/Use_Case_tStem4.png" id="wp3502788" border="0" hspace="0" vspace="0"/></div><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">

</div>
<div class="pSmartList1"><ul class="pSmartList1">
<div class="pSmartList2"><ul class="pSmartList2">
<a name="wp3502803"> </a><div class="pSmartList2"><li>If required, click <b class="cBold">Sync columns</b> to retrieve the schema from the previous component. </li></div>
<a name="wp3502816"> </a><div class="pSmartList2"><li>In the <b class="cBold">select Algorithm</b> area, click in the <b class="cBold">Algorithm</b> cell that corresponds to the <b class="cBold">translation</b> column. And then select from the list the algorithm language you want to check the column data against, <b class="cBold">English</b> in this scenario.</li></div>
<a name="wp3502837"> </a><div class="pSmartList2"><li>Double-click <b class="cBold">tAggregateRow</b> to display its <b class="cBold">Basic settings</b> view and define the component properties.</li></div>
</ul></div>
</ul></div>
<a name="wp3502848"> </a><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">
</div>
<div align="center"><img src="../Images/Use_Case_tStem5.png" id="wp3502844" border="0" hspace="0" vspace="0"/></div><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">

</div>
<div class="pSmartList1"><ul class="pSmartList1">
<div class="pSmartList2"><ul class="pSmartList2">
<a name="wp3502859"> </a><div class="pSmartList2"><li>Click the three-dot button next to <b class="cBold">Edit schema</b> to open a dialog box. Here you can define the output flow.</li></div>
</ul></div>
</ul></div>
<a name="wp3502870"> </a><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">
</div>
<div align="center"><img src="../Images/Use_Case_tStem6.png" id="wp3502866" border="0" hspace="0" vspace="0"/></div><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">

</div>
<div class="pSmartList1"><ul class="pSmartList1">
<div class="pSmartList2"><ul class="pSmartList2">
<a name="wp3502877"> </a><div class="pSmartList2"><li>In the output flow to the right of the dialog box, click the plus button to add as many columns as you need in the output flow.<br />In this example, we want to have two output columns, the <em class="cEmphasis">translation</em> column and a new output column called <em class="cEmphasis">count</em>.</li></div>
<a name="wp3502895"> </a><div class="pSmartList2"><li>Click <b class="cBold">OK</b> to close the dialog box and proceed to the next step.</li></div>
<a name="wp3502907"> </a><div class="pSmartList2"><li>In the <b class="cBold">tAggregateRow</b> basic settings view and in the <b class="cBold">Group by</b> area, click the plus button to add an many lines as needed. Here you can define the group-by values.</li></div>
<a name="wp3502916"> </a><div class="pSmartList2"><li>Click in the <b class="cBold">Output column</b> line to select the output column that will hold the aggregated data, the <em class="cEmphasis">translation</em> column in this example.</li></div>
<a name="wp3502929"> </a><div class="pSmartList2"><li>Click in the <b class="cBold">Input column position</b> line and select the input column from which you want to collect the values to be aggregated, the <em class="cEmphasis">translation</em> column in this example.</li></div>
<a name="wp3502942"> </a><div class="pSmartList2"><li>In the <b class="cBold">Operations</b> area, click the plus button to add lines for the columns that will hold the aggregated data. Here you can define the calculation values.</li></div>
<a name="wp3502951"> </a><div class="pSmartList2"><li>Click in the <b class="cBold">Output column </b>line and select the destination column from the list, the <em class="cEmphasis">translation</em> column in this example.</li></div>
<a name="wp3502964"> </a><div class="pSmartList2"><li>Click in the <b class="cBold">Function</b> column line and select any of the listed operations.<br />In this example, we want to count the number of distinct stems to be listed only once in the output column.</li></div>
<a name="wp3502973"> </a><div class="pSmartList2"><li>Click in the <b class="cBold">Input column position</b>  line and select the input column from which you want to collect the values to be aggregated, the <em class="cEmphasis">id_key</em> column in this example.</li></div>
<a name="wp3502990"> </a><div class="pSmartList2"><li>Double-click <b class="cBold">tFileOutputExcel</b> to display its <b class="cBold">Basic settings</b> view and define the component properties.</li></div>
</ul></div>
</ul></div>
<a name="wp3503001"> </a><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">
</div>
<div align="center"><img src="../Images/Use_Case_tStem7.png" id="wp3502997" border="0" hspace="0" vspace="0"/></div><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">

</div>
<div class="pSmartList1"><ul class="pSmartList1">
<div class="pSmartList2"><ul class="pSmartList2">
<a name="wp3503008"> </a><div class="pSmartList2"><li>Set the destination file path and define the settings of the file according to your needs. </li></div>
<a name="wp3503019"> </a><div class="pSmartList2"><li>Save the Job and press <b class="cBold">F6 </b>to execute it.</li></div>
</ul></div>
</ul></div>
<a name="wp3503023"> </a><p class="pIndented1">
The output Excel file is written in the defined path. This file holds the extracted English word stems in the <em class="cEmphasis">translation</em> column and the count of each stem in the <em class="cEmphasis">count</em> column.
</p>
<a name="wp3503037"> </a><p class="pIndented1">
The figure below illustrates an extraction of the output file.
</p>
<a name="wp3503048"> </a><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">
</div>
<div align="center"><img src="../Images/Use_Case_tStem8.png" id="wp3503042" border="0" hspace="0" vspace="0"/></div><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">

</div>
    </blockquote>
    <hr>

    <!--table align="right" border="0" cellspacing="0" cellpadding="0">
      <tr>
        <td align="right"><font size="1">
          <a href="http://www.webworks.com"><img src="images/webworks.gif" width="150" height="20" border="0"></a><br>
            Quadralay Corporation<br>
            http://www.webworks.com<br>
            Voice: (512) 719-3399<br>
            Fax: (512) 719-3606<br>
          <a href="mailto:sales@webworks.com">sales@webworks.com</a><br>
        </font></td>
      </tr>
    </table-->

    <!--table width="220" border="0" cellpadding="0" cellspacing="0">
      <tr> 
        <td>
<a accesskey="4" href="tStem_Prop.html"><img id="LongDescNotReq3" src="images/prev.gif" border="0" alt="Previous" /></a><a accesskey="5" href="tSurviveFields_Prop.html"><img id="LongDescNotReq4" src="images/next.gif" border="0" alt="Next" /></a>
        </td>
      </tr>
    </table-->
  </body>
</html>
