<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN" "http://www.w3.org/MarkUp/Wilbur/HTML32.dtd">
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
    <meta name="GENERATOR" content="Quadralay WebWorks Publisher Standard Edition 8.0.5337.0">
    <meta name="TEMPLATEBASE" content="Dynamic HTML">
    <meta name="LASTUPDATED" content="10/04/10 19:30:40">
    <title>tFileOutputMSXML</title>
  </head>

  <body link="#3366CC" vlink="#9999CC" text="#000000" alink="#0000CC" bgcolor="#FFFFFF">

    <!--table width="220" border="0" align="right" cellpadding="0" cellspacing="0">
      <tr> 
        <td>
<a accesskey="4" href="tFileOutputMSPositional_Scenario.html"><img id="LongDescNotReq1" src="images/prev.gif" border="0" alt="Previous" /></a><a accesskey="5" href="tFileOutputMSXML_Scenario.html"><img id="LongDescNotReq2" src="images/next.gif" border="0" alt="Next" /></a>
        </td>
      </tr>
    </table-->

    <!--img src="images/wwplogo.gif" width="122" height="63" alt="Put your logo here!">
    <hr align="left"-->

    <blockquote>
<a name="wp2941161"> </a><h2 class="pHeading1">
tFileOutputMSXML
</h2>
<a name="wp2941170"> </a><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">
</div>
<div align="left"><img src="../Images/tFileOutputMSXML_icon32.png" id="wp2941165" border="0" hspace="0" vspace="0"/></div><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">

</div>
<a name="wp2941177"> </a><h2 class="pHeading2">
tFileOutputMSXML Properties
</h2>
<a name="wp2941260"> </a><p class="pBodyRelative">
</p>
<div align="center">
<table border="1" id="wp2941185table2941180">
  <caption></caption>
  <tr align="left" bgcolor="#CCCCCC">    <td><a name="wp2941185"> </a><div class="pCellBody">
<b class="cBold">Component family</b>
</div>
</td>
    <td><a name="wp2941187"> </a><div class="pCellBody">
File/Output
</div>
</td>
    <td><a name="wp2941195"> </a><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">
<img src="../Images/java_icongg.png" id="wp2941192" border="0" hspace="0" vspace="0"/>
</div>
</td>
</tr>
  <tr align="left" bgcolor="#FFFFFF">    <td><a name="wp2941200"> </a><div class="pCellBody">
<b class="cBold">Function</b>
</div>
</td>
    <td colspan="2" rowspan="1"><a name="wp2941205"> </a><div class="pCellBody">
<b class="cBold">tFileOutputMSXML</b> writes multiple schema within an XML structured file.
</div>
</td>
</tr>
  <tr align="left" bgcolor="#CCCCCC">    <td><a name="wp2941212"> </a><div class="pCellBody">
<b class="cBold">Purpose</b>
</div>
</td>
    <td colspan="2" rowspan="1"><a name="wp2941217"> </a><div class="pCellBody">
<b class="cBold">tFileOutputMSXML</b> creates a complex multi-structured XML file, using data structures (schemas) coming from several incoming <b class="cBold">Row</b> flows.
</div>
</td>
</tr>
  <tr align="left" bgcolor="#FFFFFF">    <td><a name="wp2941227"> </a><div class="pCellBody">
<b class="cBold">Basic settings</b>
</div>
</td>
    <td><a name="wp2941229"> </a><div class="pCellBody">
File Name
</div>
</td>
    <td><a name="wp2941231"> </a><div class="pCellBody">
Name and path to the file to be created and or the variable to be used.<br /> <br />Related topic:<em class="cEmphasis">How to define variables from the Component view</em> of <b class="cBold">Talend Integration Suite Studio</b> User Guide.
</div>
</td>
</tr>
  <tr align="left" bgcolor="#CCCCCC">    <td><a name="wp2941239"> </a><div class="pCellBody">
&#160;
</div>
</td>
    <td><a name="wp2941244"> </a><div class="pCellHeading">
<em class="cEmphasis">Configure XML tree</em>
</div>
</td>
    <td><a name="wp2941246"> </a><div class="pCellBody">
Opens the dedicated interface to help you set the XML mapping. For details about the interface<a href="tFileOutputMSXML_Prop.html#wp2941267"><em class="cEmphasis">Defining the MultiSchema XML tree</em></a>.
</div>
</td>
</tr>
  <tr align="left" bgcolor="#FFFFFF">    <td><a name="wp2941254"> </a><div class="pCellBody">
<b class="cBold">Limitation</b>
</div>
</td>
    <td colspan="2" rowspan="1"><a name="wp2941256"> </a><div class="pCellBody">
n/a
</div>
</td>
</tr>
</table>
</div>
<p class="pBodyRelative">

</p>
<a name="wp2941267"> </a><h3 class="pHeading3">
Defining the MultiSchema XML tree
</h3>
<a name="wp2941273"> </a><p class="pIndented2">
Double-click on the <b class="cBold">tFileOutputMSXML</b> component to open the dedicated interface or click on the three-dot button on the <b class="cBold">Basic settings </b>vertical tab of the <b class="cBold">Component </b>tab. 
</p>
<a name="wp2941287"> </a><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">
</div>
<div align="center"><img src="../Images/MSXMLtree_adv_mapping1.png" id="wp2941284" border="0" hspace="0" vspace="0"/></div><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">

</div>
<a name="wp2941293"> </a><p class="pIndented2">
To the left of the mapping interface, under <b class="cBold">Linker source</b>, the drop-down list includes all the input schemas that should be added to the multi-schema output XML file (on the condition that more than one input flow is connected to the <b class="cBold">tFileOutputMSXML</b> component).
</p>
<a name="wp2941304"> </a><p class="pIndented2">
And under <b class="cBold">Schema List</b>, are listed all columns retrieved from the input data flow in selection. 
</p>
<a name="wp2941307"> </a><p class="pIndented2">
To the right of the interface, are expected all XML structures you want to create in the output XML file.
</p>
<a name="wp2941311"> </a><p class="pIndented2">
You can create manually or easily import the XML structures. Then map the input schema columns onto each element of the XML tree, respectively for each of the input schemas in selection under <b class="cBold">Linker source</b>.
</p>
<a name="wp2941321"> </a><h4 class="pHeading4">
Importing the XML tree
</h4>
<a name="wp2941324"> </a><p class="pIndented3">
The easiest and most common way to fill out the XML tree panel, is to import a well-formed XML file. 
</p>
<div class="pSmartList1"><ul class="pSmartList1">
<div class="pSmartList2"><ul class="pSmartList2">
<div class="pSmartList3"><ul class="pSmartList3">
<div class="pSmartList4"><ul class="pSmartList4">
<a name="wp2941336"> </a><div class="pSmartList4"><li>Rename the <b class="cBold">root tag</b> that displays by default on the <b class="cBold">XML tree </b>panel, by clicking on it once.</li></div>
<a name="wp2941341"> </a><div class="pSmartList4"><li>Right-click on the root tag to display the contextual menu.</li></div>
<a name="wp2941348"> </a><div class="pSmartList4"><li>On the menu, select <b class="cBold">Import XML tree</b>.</li></div>
<a name="wp2941356"> </a><div class="pSmartList4"><li>Browse to the file to import and click <b class="cBold">OK</b>.</li></div>
</ul></div>
</ul></div>
</ul></div>
</ul></div>
<a name="wp2941363"> </a><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">
</div>
<div align="center"><img src="../Images/MSXMLtree_adv_mapping2.png" id="wp2941360" border="0" hspace="0" vspace="0"/></div><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">

</div>
<a name="wp2941369"> </a><p class="pIndented3">
The <b class="cBold">XML Tree</b> column is hence automatically filled out with the correct elements. You can remove and insert elements or sub-elements from and to the tree: 
</p>
<div class="pSmartList1"><ul class="pSmartList1">
<div class="pSmartList2"><ul class="pSmartList2">
<div class="pSmartList3"><ul class="pSmartList3">
<div class="pSmartList4"><ul class="pSmartList4">
<a name="wp2941376"> </a><div class="pSmartList4"><li>Select the relevant element of the tree.</li></div>
<a name="wp2941380"> </a><div class="pSmartList4"><li>Right-click to display the contextual menu</li></div>
<a name="wp2941383"> </a><div class="pSmartList4"><li>Select Delete to remove the selection from the tree or select the relevant option among: <b class="cBold">Add sub-element</b>, <b class="cBold">Add attribute</b>, <b class="cBold">Add namespace</b> to enrich the tree.</li></div>
</ul></div>
</ul></div>
</ul></div>
</ul></div>
<a name="wp2941399"> </a><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">

</div>
<a name="wp2941406"> </a><h4 class="pHeading4">
Creating manually the XML tree
</h4>
<a name="wp2941410"> </a><p class="pIndented3">
If you don&#39;t have any XML structure already defined, you can manually create it.
</p>
<div class="pSmartList1"><ul class="pSmartList1">
<div class="pSmartList2"><ul class="pSmartList2">
<div class="pSmartList3"><ul class="pSmartList3">
<div class="pSmartList4"><ul class="pSmartList4">
<a name="wp2941421"> </a><div class="pSmartList4"><li>Rename the <b class="cBold">root tag</b> that displays by default on the <b class="cBold">XML tree </b>panel, by clicking on it once.</li></div>
<a name="wp2941426"> </a><div class="pSmartList4"><li>Right-click on the root tag to display the contextual menu.</li></div>
<a name="wp2941434"> </a><div class="pSmartList4"><li>On the menu, select <b class="cBold">Add sub-element</b> to create the first element of the structure. </li></div>
</ul></div>
</ul></div>
</ul></div>
</ul></div>
<a name="wp2941437"> </a><p class="pIndented3">
You can also add an attribute or a child element to any element of the tree or remove any element from the tree.
</p>
<div class="pSmartList1"><ul class="pSmartList1">
<div class="pSmartList2"><ul class="pSmartList2">
<div class="pSmartList3"><ul class="pSmartList3">
<div class="pSmartList4"><ul class="pSmartList4">
<a name="wp2941444"> </a><div class="pSmartList4"><li>Select the relevant element on the tree you just created.</li></div>
<a name="wp2941448"> </a><div class="pSmartList4"><li>Right-click to the left of the element name to display the contextual menu.</li></div>
<a name="wp2941457"> </a><div class="pSmartList4"><li>On the menu, select the relevant option among: <b class="cBold">Add sub-element</b>, <b class="cBold">Add attribute</b>, <b class="cBold">Add namespace</b> or <b class="cBold">Delete</b>.</li></div>
</ul></div>
</ul></div>
</ul></div>
</ul></div>
<a name="wp2941473"> </a><h3 class="pHeading3">
Mapping XML data from multiple schema sources
</h3>
<a name="wp2941477"> </a><p class="pIndented2">
Once your XML tree is ready, select the first input schema that you want to map. 
</p>
<a name="wp2941480"> </a><p class="pIndented2">
You can map each input column with the relevant XML tree element or sub-element to fill out the <b class="cBold">Related Column</b>:
</p>
<div class="pSmartList1"><ul class="pSmartList1">
<div class="pSmartList2"><ul class="pSmartList2">
<div class="pSmartList3"><ul class="pSmartList3">
<a name="wp2941493"> </a><div class="pSmartList3"><li>Click on one of the <b class="cBold">Schema column name</b>.</li></div>
<a name="wp2941497"> </a><div class="pSmartList3"><li>Drag it onto the relevant sub-element to the right.</li></div>
<a name="wp2941502"> </a><div class="pSmartList3"><li>Release the mouse button to implement the actual mapping.</li></div>
</ul></div>
</ul></div>
</ul></div>
<a name="wp2941509"> </a><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">
</div>
<div align="center"><img src="../Images/MSXMLtree_adv_mapping3.png" id="wp2941506" border="0" hspace="0" vspace="0"/></div><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">

</div>
<a name="wp2941515"> </a><p class="pIndented2">
A light blue link displays that illustrates this mapping. If available, use the <b class="cBold">Auto-Map</b> button, located to the bottom left of the interface, to carry out this operation automatically. 
</p>
<a name="wp2941520"> </a><p class="pIndented2">
You can disconnect any mapping on any element of the XML tree:
</p>
<div class="pSmartList1"><ul class="pSmartList1">
<div class="pSmartList2"><ul class="pSmartList2">
<div class="pSmartList3"><ul class="pSmartList3">
<a name="wp2941525"> </a><div class="pSmartList3"><li>Select the element of the XML tree, that should be disconnected from its respective schema column.</li></div>
<a name="wp2941530"> </a><div class="pSmartList3"><li>Right-click to the left of the element name to display the contextual menu.</li></div>
<a name="wp2941538"> </a><div class="pSmartList3"><li>Select <b class="cBold">Disconnect link</b>.</li></div>
</ul></div>
</ul></div>
</ul></div>
<a name="wp2941543"> </a><p class="pIndented2">
The light blue link disappears.
</p>
<a name="wp2941549"> </a><h3 class="pHeading3">
Defining the node status
</h3>
<a name="wp2941552"> </a><p class="pIndented2">
Defining the XML tree and mapping the data is not sufficient. You also need to define the loop elements <b class="cBold">for each of the source in selection</b> and if required the group element.
</p>
<a name="wp2941562"> </a><h4 class="pHeading4">
Loop element
</h4>
<a name="wp2941565"> </a><p class="pIndented3">
The loop element allows you to define the iterating object. Generally the Loop element is also the row generator.
</p>
<a name="wp2941570"> </a><p class="pIndented3">
To define an element as loop element: 
</p>
<div class="pSmartList1"><ul class="pSmartList1">
<div class="pSmartList2"><ul class="pSmartList2">
<div class="pSmartList3"><ul class="pSmartList3">
<div class="pSmartList4"><ul class="pSmartList4">
<a name="wp2941576"> </a><div class="pSmartList4"><li>Select the relevant element on the XML tree.</li></div>
<a name="wp2941580"> </a><div class="pSmartList4"><li>Right-click to the left of the element name to display the contextual menu.</li></div>
<a name="wp2941588"> </a><div class="pSmartList4"><li>Select <b class="cBold">Set as Loop Element</b>.</li></div>
</ul></div>
</ul></div>
</ul></div>
</ul></div>
<a name="wp2941595"> </a><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">
</div>
<div align="center"><img src="../Images/MSXMLtree_adv_mapping4.png" id="wp2941592" border="0" hspace="0" vspace="0"/></div><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">

</div>
<a name="wp2941602"> </a><p class="pIndented3">
The <b class="cBold">Node Status</b> column shows the newly added status.
</p>
<a name="wp2941610"> </a><p class="pBodyRelative">
</p>
<div><table border="0" cellpadding="0" cellspacing="0" align="left"><img src="../Images/bulb_small.png" align="left" id="wp2941607" border="0" hspace="0" vspace="0"/></table></div><p class="pBodyRelative">
<br />There can only be one loop element at a time.
</p>
<a name="wp2941618"> </a><h4 class="pHeading4">
Group element
</h4>
<a name="wp2941621"> </a><p class="pIndented3">
The group element is optional, it represents a constant element where the Groupby operation can be performed. A group element can be defined on the condition that a loop element was defined before.
</p>
<a name="wp2941625"> </a><p class="pIndented3">
When using a group element, the rows should be sorted, in order to be able to group by the selected node.
</p>
<a name="wp2941630"> </a><p class="pIndented3">
To define an element as group element: 
</p>
<div class="pSmartList1"><ul class="pSmartList1">
<div class="pSmartList2"><ul class="pSmartList2">
<div class="pSmartList3"><ul class="pSmartList3">
<div class="pSmartList4"><ul class="pSmartList4">
<a name="wp2941636"> </a><div class="pSmartList4"><li>Select the relevant element on the XML tree.</li></div>
<a name="wp2941640"> </a><div class="pSmartList4"><li>Right-click to the left of the element name to display the contextual menu.</li></div>
<a name="wp2941648"> </a><div class="pSmartList4"><li>Select <b class="cBold">Set as Group Element</b>.</li></div>
</ul></div>
</ul></div>
</ul></div>
</ul></div>
<a name="wp2941655"> </a><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">
</div>
<div align="center"><img src="../Images/MSXMLtree_adv_mapping5.png" id="wp2941652" border="0" hspace="0" vspace="0"/></div><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">

</div>
<a name="wp2941661"> </a><p class="pIndented3">
The <b class="cBold">Node Status</b> column shows the newly added status and any group status required are automatically defined, if needed.
</p>
<a name="wp2941668"> </a><p class="pIndented3">
Click <b class="cBold">OK</b> once the mapping is complete to validate the definition for this source and perform the same operation for the other input flow sources.
</p>
    </blockquote>
    <hr>

    <!--table align="right" border="0" cellspacing="0" cellpadding="0">
      <tr>
        <td align="right"><font size="1">
          <a href="http://www.webworks.com"><img src="images/webworks.gif" width="150" height="20" border="0"></a><br>
            Quadralay Corporation<br>
            http://www.webworks.com<br>
            Voice: (512) 719-3399<br>
            Fax: (512) 719-3606<br>
          <a href="mailto:sales@webworks.com">sales@webworks.com</a><br>
        </font></td>
      </tr>
    </table-->

    <!--table width="220" border="0" cellpadding="0" cellspacing="0">
      <tr> 
        <td>
<a accesskey="4" href="tFileOutputMSPositional_Scenario.html"><img id="LongDescNotReq3" src="images/prev.gif" border="0" alt="Previous" /></a><a accesskey="5" href="tFileOutputMSXML_Scenario.html"><img id="LongDescNotReq4" src="images/next.gif" border="0" alt="Next" /></a>
        </td>
      </tr>
    </table-->
  </body>
</html>
