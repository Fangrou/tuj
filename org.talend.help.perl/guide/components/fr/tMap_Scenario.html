<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN" "http://www.w3.org/MarkUp/Wilbur/HTML32.dtd">
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
    <meta name="GENERATOR" content="Quadralay WebWorks Publisher Standard Edition 8.0.5337.0">
    <meta name="TEMPLATEBASE" content="Dynamic HTML">
    <meta name="LASTUPDATED" content="10/04/10 20:05:29">
    <title>Scénario&#160;1&#160;: Mapping simple avec filtre et jointure explicite </title>
  </head>

  <body link="#3366CC" vlink="#9999CC" text="#000000" alink="#0000CC" bgcolor="#FFFFFF">

    <!--table width="220" border="0" align="right" cellpadding="0" cellspacing="0">
      <tr> 
        <td>
<a accesskey="4" href="tMap_Prop.html"><img id="LongDescNotReq1" src="images/prev.gif" border="0" alt="Previous" /></a><a accesskey="5" href="tNormalize_Prop.html"><img id="LongDescNotReq2" src="images/next.gif" border="0" alt="Next" /></a>
        </td>
      </tr>
    </table-->

    <!--img src="images/wwplogo.gif" width="122" height="63" alt="Put your logo here!">
    <hr align="left"-->

    <blockquote>
<a name="wp2806718"> </a><div style="color: #000000; font-size: 12pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">

</div>
<a name="wp2806725"> </a><h2 class="pHeading2">
Scénario&#160;1&#160;: Mapping simple avec filtre et jointure explicite 
</h2>
<a name="wp2806728"> </a><p class="pIndented1">
Le Job Java ci-dessous a pour objectif de lire des données d&#39;un fichier stocké dans le Repository, de rechercher des données d&#39;un fichier de référence distant puis d&#39;extraire des données de ces deux fichiers en fonction de filtres et d&#39;envoyer ces données vers le fichier de sortie et de rejet.
</p>
<div class="pSmartList1"><ul class="pSmartList1">
<div class="pSmartList2"><ul class="pSmartList2">
<a name="wp2806747"> </a><div class="pSmartList2"><li>Cliquez sur <b class="cBold">File</b> dans la <b class="cBold">Palette</b> de composants, sélectionnez <b class="cBold">tFileInputDelimited</b> et déposez-le dans l&#39;espace de modélisation. Changez le libellé en <em class="cEmphasis">Cars</em> (véhicules), soit en double-cliquant sur le libellé directement dans l&#39;espace de modélisation graphique, soit via l&#39;onglet <b class="cBold">View</b> de la vue <b class="cBold">Component</b>.</li></div>
<a name="wp2806763"> </a><div class="pSmartList2"><li>Répétez cette opération et renommez le second composant d&#39;entrée en <em class="cEmphasis">Owners</em> (propriétaires).</li></div>
<a name="wp2806773"> </a><div class="pSmartList2"><li>Cliquez sur <b class="cBold">Processing</b> dans la <b class="cBold">Palette</b> de composants, sélectionnez le <b class="cBold">tMap</b> et déposez-le dans l&#39;espace de modélisation.</li></div>
<a name="wp2806786"> </a><div class="pSmartList2"><li>Reliez les deux composants d&#39;entrée, <em class="cEmphasis">Owners</em> et <em class="cEmphasis">Cars</em> au composant <b class="cBold">tMap</b> et renommez les libellés des connexions respectives.</li></div>
</ul></div>
</ul></div>
<a name="wp2806795"> </a><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">
</div>
<div align="center"><img src="../Images/UseCase_tmap2-1-1.png" id="wp2806792" border="0" hspace="0" vspace="0"/></div><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">

</div>
<div class="pSmartList1"><ul class="pSmartList1">
<div class="pSmartList2"><ul class="pSmartList2">
<a name="wp2806806"> </a><div class="pSmartList2"><li>Les Métadonnées des fichiers délimités <em class="cEmphasis">Cars</em> et <em class="cEmphasis">Owners</em> sont définies dans le gestionnaire <b class="cBold">Metadata</b> du <b class="cBold">Repository</b>. Ainsi vous pouvez leur assigner les propriétés stockées dans le Repository dans la vue <b class="cBold">Component</b>.</li></div>
<a name="wp2806824"> </a><div class="pSmartList2"><li>Double-cliquez sur <em class="cEmphasis">Cars</em> pour paramétrer les propriétés.</li></div>
</ul></div>
</ul></div>
<a name="wp2806831"> </a><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">
</div>
<div align="center"><img src="../Images/UseCase_tmap2-1-2.png" id="wp2806828" border="0" hspace="0" vspace="0"/></div><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">

</div>
<div class="pSmartList1"><ul class="pSmartList1">
<div class="pSmartList2"><ul class="pSmartList2">
<a name="wp2806845"> </a><div class="pSmartList2"><li>Sélectionnez <b class="cBold">Repository</b> dans les champs <b class="cBold">Property type</b> et <b class="cBold">Schema type</b>. Le reste des champs est automatiquement renseigné lorsque vous sélectionnez la métadonnée appropriée dans la liste.</li></div>
<a name="wp2806852"> </a><div class="pSmartList2"><li>Double-cliquez sur le composant <em class="cEmphasis">Owners</em> et définissez à nouveau les propriétés. Sélectionnez la métadonnée appropriée si elle existe. Sinon définissez manuellement chacune des propriétés.</li></div>
</ul></div>
</ul></div>
<a name="wp2806857"> </a><p class="pIndented1">
Pour plus d&#39;informations concernant la création de métadonnées dans le Repository, consultez <em class="cEmphasis">Centraliser les métadonnées</em> du Guide utilisateur de Talend Open Studio. 
</p>
<div class="pSmartList1"><ul class="pSmartList1">
<div class="pSmartList2"><ul class="pSmartList2">
<a name="wp2806875"> </a><div class="pSmartList2"><li>Puis double-cliquez sur le composant <b class="cBold">tMap</b> pour ouvrir le Mapper. La zone Input (données en entrée) est déjà renseignée avec les schémas des composants d&#39;entrée et la première table correspond au flux principal (<b class="cBold">Main Row</b>).</li></div>
<a name="wp2806880"> </a><div class="pSmartList2"><li>Les libellés de chacune des connexions d&#39;entrée apparaissent en en-tête des tables.</li></div>
<a name="wp2809813"> </a><div class="pSmartList2"><li>Créez une jointure entre les deux tables d&#39;entrée en faisant simplement glisser le champ <em class="cEmphasis">ID_Owner</em> de la table principale vers le champ équivalent de la table de référence.</li></div>
</ul></div>
</ul></div>
<a name="wp2809825"> </a><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">
</div>
<div align="center"><img src="../Images/UseCase_tmap2-1-3.png" id="wp2809822" border="0" hspace="0" vspace="0"/></div><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">

</div>
<div class="pSmartList1"><ul class="pSmartList1">
<div class="pSmartList2"><ul class="pSmartList2">
<a name="wp2809834"> </a><div class="pSmartList2"><li>Définissez le lien en <b class="cBold">Inner Join</b> en cliquant sur le bouton <b class="cBold">tMap settings</b> et en sélectionnant <b class="cBold">Join</b> pour <em class="cEmphasis">Join Model</em>.</li></div>
<a name="wp2809840"> </a><div class="pSmartList2"><li>Cliquez sur le signe <b class="cBold">[+]</b> dans la zone <b class="cBold">Output</b> (sortie) du Mapper et ajoutez trois tables de sortie&#160;: <em class="cEmphasis">Insured</em>, <em class="cEmphasis">Reject_NoInsur</em>, <em class="cEmphasis">Reject_OwnerID</em>.</li></div>
</ul></div>
</ul></div>
<a name="wp2809858"> </a><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">
</div>
<div align="center"><img src="../Images/UseCase_tmap2-1-5.png" id="wp2809855" border="0" hspace="0" vspace="0"/></div><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">

</div>
<div class="pSmartList1"><ul class="pSmartList1">
<div class="pSmartList2"><ul class="pSmartList2">
<a name="wp2809862"> </a><div class="pSmartList2"><li>Glissez et déposez le contenu de la table principale d&#39;entrée vers la première table de sortie. Pour plus d&#39;informations concernant le mapping de données, consultez <em class="cEmphasis">Mapper des flux de données</em> du Guide utilisateur de Talend Open Studio. </li></div>
<a name="wp2806949"> </a><div class="pSmartList2"><li>Cliquez sur la flèche dotée d&#39;un [+] pour ajouter une ligne de filtre. La table <em class="cEmphasis">Insured</em> rassemble les données des tables <em class="cEmphasis">Cars</em> et <em class="cEmphasis">Owners</em> qui possèdent un <em class="cEmphasis">ID Insurance</em>.</li></div>
</ul></div>
</ul></div>
<a name="wp2806967"> </a><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">
</div>
<div align="center"><img src="../Images/UseCase_tmap2-1-6.png" id="wp2806964" border="0" hspace="0" vspace="0"/></div><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">

</div>
<div class="pSmartList1"><ul class="pSmartList1">
<div class="pSmartList2"><ul class="pSmartList2">
<a name="wp2806975"> </a><div class="pSmartList2"><li>Par conséquent, glissez-déposez le champ <em class="cEmphasis">ID_Insurance</em> vers la zone de filtre qui vient d&#39;être créée et saisissez la formule d&#39;exclusion des valeurs non définies suivante&#160;: <code class="cCode">owners_data.ID_Insurance = null</code></li></div>
<a name="wp2806988"> </a><div class="pSmartList2"><li>La table <em class="cEmphasis">Reject_NoInsur</em> est un flux de rejet standard regroupant les données qui ne satisfont pas la condition de filtre définie. Cliquez sur la flèche orange pour définir cette table comme table de rejet standard.</li></div>
</ul></div>
</ul></div>
<a name="wp2806997"> </a><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">
</div>
<div align="center"><img src="../Images/UseCase_tmap2-1-7.png" id="wp2806994" border="0" hspace="0" vspace="0"/></div><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">

</div>
<div class="pSmartList1"><ul class="pSmartList1">
<div class="pSmartList2"><ul class="pSmartList2">
<a name="wp2807002"> </a><div class="pSmartList2"><li>La troisième et dernière table est une table de rejets spécifiques pour les jointures Inner Join qui ne peuvent être établies. Il s&#39;agit par exemple du cas où un champ <em class="cEmphasis">Owners_ID</em> de la table <em class="cEmphasis">Cars</em> ne correspond à aucune entrée du fichier <em class="cEmphasis">Owners</em>.</li></div>
<a name="wp3667231"> </a><div class="pSmartList2"><li>Cliquez sur le bouton <b class="cBold">tMap Settings</b> puis sélectionnez true pour <em class="cEmphasis">Catch lookup inner join reject</em> afin de définir la dernière table comme étant la table du flux de sortie de rejets Inner Join.</li></div>
<a name="wp2807023"> </a><div class="pSmartList2"><li>Cliquez sur <b class="cBold">OK</b> pour valider et revenir à l&#39;espace de modélisation.</li></div>
<a name="wp2807029"> </a><div class="pSmartList2"><li>Ajoutez trois composants <b class="cBold">tFileOutputDelimited</b> au Job et reliez-les au Job à partir du composant <b class="cBold">tMap</b> à l&#39;aide d&#39;un lien <b class="cBold">Row</b> &gt; <b class="cBold">Main</b>.</li></div>
<a name="wp2807042"> </a><div class="pSmartList2"><li>Réutilisez les trois libellés définis précédemment dans le mapper pour renommer vos connexions.</li></div>
</ul></div>
</ul></div>
<a name="wp2807051"> </a><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">
</div>
<div align="center"><img src="../Images/UseCase_tmap2-1-8.png" id="wp2807048" border="0" hspace="0" vspace="0"/></div><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">

</div>
<div class="pSmartList1"><ul class="pSmartList1">
<div class="pSmartList2"><ul class="pSmartList2">
<a name="wp2807056"> </a><div class="pSmartList2"><li>Puis double-cliquez sur chacun des composants de sortie afin de définir leur chemin d&#39;accès respectif. Si vous souhaitez créer un nouveau fichier, parcourez votre système jusqu&#39;au dossier de destination et saisissez le nom du fichier avec son extension.</li></div>
<a name="wp2807063"> </a><div class="pSmartList2"><li>Cochez la case <b class="cBold">Include header</b> pour réutiliser les libellés des colonnes du schéma d&#39;entrée dans votre fichier de sortie.</li></div>
</ul></div>
</ul></div>
<a name="wp2807072"> </a><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">
</div>
<div align="center"><img src="../Images/UseCase_tmap2-1-10.png" id="wp2807069" border="0" hspace="0" vspace="0"/></div><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">

</div>
<div class="pSmartList1"><ul class="pSmartList1">
<div class="pSmartList2"><ul class="pSmartList2">
<a name="wp2807087"> </a><div class="pSmartList2"><li>Appuyez sur <b class="cBold">F6</b> pour exécuter le Job ou passez à l&#39;onglet <b class="cBold">Run</b> et cliquez sur le bouton <b class="cBold">Run</b>.</li></div>
<a name="wp2807092"> </a><div class="pSmartList2"><li>Les fichiers de sortie sont créés.</li></div>
</ul></div>
</ul></div>
<a name="wp2807100"> </a><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">
</div>
<div align="center"><img src="../Images/UseCase_tmap2-1-9.png" id="wp2807096" border="0" hspace="0" vspace="0"/></div><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">

</div>
<a name="wp3666590"> </a><p class="pIndented1">
Pour des exemples d&#39;utilisation des schémas dynamiques avec le <b class="cBold">tMap</b>, consultez&#160;:
</p>
<div class="pSmartList1"><ul class="pSmartList1">
<div class="pSmartList2"><ul class="pSmartList2">
<a name="wp3666602"> </a><div class="pSmartList2"><li><a href="tMysqlInput_Scenario.html#wp3857913"><em class="cEmphasis">Scénario&#160;: Ecrire des colonnes dynamiques d&#39;une base de données MySQL vers un fichier de sortie</em></a>.</li></div>
<a name="wp3666611"> </a><div class="pSmartList2"><li><a href="tMysqlOutput_Scenario.html#wp3662803"><em class="cEmphasis">Scénario 4&#160;: Ecrire des colonnes dynamiques d&#39;un fichier source vers une base de données MySQL</em></a>.</li></div>
</ul></div>
</ul></div>
<a name="wp2807106"> </a><h2 class="pHeading2">
Scénario&#160;2&#160;: Mapping avec rejet Inner join
</h2>
<a name="wp2807112"> </a><p class="pIndented1">
Ce scénario, basé sur le scénario&#160;1, requiert l&#39;ajout d&#39;un fichier d&#39;entrée, <em class="cEmphasis">Resellers</em>, contenant les informations sur les revendeurs, ainsi que l&#39;ajout de champs supplémentaires dans le fichier de sortie principal. De plus, deux filtres sont ajoutés sur les jointures Inner Join afin de récupérer les rejets spécifiques.
</p>
<div class="pSmartList1"><ul class="pSmartList1">
<div class="pSmartList2"><ul class="pSmartList2">
<a name="wp2807124"> </a><div class="pSmartList2"><li>Cliquez sur <b class="cBold">File</b> dans la <b class="cBold">Palette</b> des composants et déposez un composant <b class="cBold">tFileInputDelimited</b> dans l&#39;espace de modélisation graphique.</li></div>
<a name="wp2807128"> </a><div class="pSmartList2"><li>Connectez ce nouveau composant au mapper et ajoutez un libellé au composant et à cette connexion&#160;: ici, <em class="cEmphasis">Resellers</em>.</li></div>
</ul></div>
</ul></div>
<a name="wp2807140"> </a><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">
</div>
<div align="center"><img src="../Images/UseCase_tmap2-2-2.png" id="wp2807137" border="0" hspace="0" vspace="0"/></div><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">

</div>
<div class="pSmartList1"><ul class="pSmartList1">
<div class="pSmartList2"><ul class="pSmartList2">
<a name="wp2807149"> </a><div class="pSmartList2"><li>Double-cliquez sur le composant <em class="cEmphasis">Resellers</em> pour définir les propriétés d&#39;entrée.</li></div>
<a name="wp2807155"> </a><div class="pSmartList2"><li>Parcourez votre système de fichier jusqu&#39;au <em class="cEmphasis">Resellers.csv</em>. Editez le schéma et ajoutez les colonnes pour refléter la structure du fichier d&#39;entrée.</li></div>
</ul></div>
</ul></div>
<a name="wp2807164"> </a><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">
</div>
<div align="center"><img src="../Images/UseCase_tmap2-2-1.png" id="wp2807161" border="0" hspace="0" vspace="0"/></div><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">

</div>
<div class="pSmartList1"><ul class="pSmartList1">
<div class="pSmartList2"><ul class="pSmartList2">
<a name="wp2807169"> </a><div class="pSmartList2"><li>Vous pouvez également créer une métadonnée contenant la description de ce fichier et avoir la possibilité de réutiliser ses propriétés et son schéma en sélectionnant <b class="cBold">Repository</b> dans les champs adéquats. Pour plus d&#39;informations, consultez <em class="cEmphasis">Configurer un schéma File Delimited</em> du <b class="cBold">Guide utilisateur</b> de <b class="cBold">Talend Open Studio</b>. </li></div>
<a name="wp2807185"> </a><div class="pSmartList2"><li> Double-cliquez sur le composant <b class="cBold">tMap</b> et vous remarquerez que le schéma est automatiquement ajouté à la zone Input des schémas d&#39;entrée.</li></div>
</ul></div>
</ul></div>
<a name="wp2807194"> </a><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">
</div>
<div align="center"><img src="../Images/UseCase_tmap2-2-3.png" id="wp2807191" border="0" hspace="0" vspace="0"/></div><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">

</div>
<div class="pSmartList1"><ul class="pSmartList1">
<div class="pSmartList2"><ul class="pSmartList2">
<a name="wp2807199"> </a><div class="pSmartList2"><li>Créez une jointure entre le flux d&#39;entrée principal (<b class="cBold">Row Main</b>) et l&#39;entrée de référence (<b class="cBold">Lookup</b>), <em class="cEmphasis">Resellers</em>. Cochez la case <b class="cBold">Inner Join</b> pour définir le type de jointure créé.</li></div>
<a name="wp2807214"> </a><div class="pSmartList2"><li>Glissez-déposez les champs de la table <em class="cEmphasis">Resellers</em> vers la table de sortie principale.</li></div>
</ul></div>
</ul></div>
<a name="wp2807221"> </a><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">
</div>
<div align="center"><img src="../Images/UseCase_tmap2-2-4.png" id="wp2807218" border="0" hspace="0" vspace="0"/></div><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">

</div>
<a name="wp2807227"> </a><p class="pBodyRelative">
</p>
<div><table border="0" cellpadding="0" cellspacing="0" align="left"><img src="../Images/bulb_small.png" align="left" id="wp2807225" border="0" hspace="0" vspace="0"/></table></div><p class="pBodyRelative">
Lorsque deux Inner Joins sont définis, vous devez soit définir deux tables de rejet inner join pour différencier les deux rejets, soit rassembler les deux rejets inner join dans une seule et même table de sortie, s&#39;il n&#39;y a qu&#39;une seule sortie.
</p>
<div class="pSmartList1"><ul class="pSmartList1">
<div class="pSmartList2"><ul class="pSmartList2">
<a name="wp2807233"> </a><div class="pSmartList2"><li>Dans la zone de sortie Output, cliquez sur le signe <b class="cBold">[+]</b> pour ajouter une nouvelle table de sortie.</li></div>
<a name="wp2807241"> </a><div class="pSmartList2"><li>Donnez un nom à cette nouvelle connexion, <em class="cEmphasis">Reject_ResellerID</em>.</li></div>
<a name="wp3667700"> </a><div class="pSmartList2"><li>Cliquez sur le bouton <b class="cBold">tMap Settings</b> puis sélectionnez true pour <em class="cEmphasis">Catch lookup inner join reject</em> afin de définir la dernière table comme étant la table du flux de sortie de rejets Inner Join.</li></div>
<a name="wp3667705"> </a><div class="pSmartList2"><li>Glissez-déposez deux champs de la table d&#39;entrée principale (<em class="cEmphasis">Cars</em>) dans cette nouvelle table. Par conséquent, dans cet exemple, si la jointure Inner Join ne peut être établie pour une entrée, les données (<em class="cEmphasis">ID_Cars</em> &amp; <em class="cEmphasis">ID_resellers</em>) seront rejetées dans le fichier de sortie approprié et permettront d&#39;identifier rapidement le goulot d&#39;étranglement.</li></div>
</ul></div>
</ul></div>
<a name="wp2807266"> </a><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">
</div>
<div align="center"><img src="../Images/UseCase_tmap2-2-5.png" id="wp2807263" border="0" hspace="0" vspace="0"/></div><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">

</div>
<div class="pSmartList1"><ul class="pSmartList1">
<div class="pSmartList2"><ul class="pSmartList2">
<a name="wp2807271"> </a><div class="pSmartList2"><li>Appliquez maintenant un filtre sur chacune des sorties de rejet Inner Join afin de distinguer les deux types de rejets.</li></div>
<a name="wp2811172"> </a><div class="pSmartList2"><li>Dans la première table de rejet (<em class="cEmphasis">Reject_OwnerID</em>), cliquez sur la flèche dotée d&#39;un signe [+] pour ajouter une ligne de filtre et renseignez ce champ avec la formule suivante pour ne recueillir que les rejets liés au champ <em class="cEmphasis">OwnerID</em> non défini&#160;: <code class="cCode">Owners_data.ID_Owner==null</code> </li></div>
<a name="wp2807291"> </a><div class="pSmartList2"><li>Dans la seconde table de rejet Inner Join (<em class="cEmphasis">Reject_ResellerID</em>), renouvelez l&#39;opération et utilisez la formule suivante&#160;: <code class="cCode">Resellers_data.ID_Reseller==null</code> </li></div>
</ul></div>
</ul></div>
<a name="wp2807303"> </a><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">
</div>
<div align="center"><img src="../Images/UseCase_tmap2-2-6.png" id="wp2807300" border="0" hspace="0" vspace="0"/></div><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">

</div>
<div class="pSmartList1"><ul class="pSmartList1">
<div class="pSmartList2"><ul class="pSmartList2">
<a name="wp2807309"> </a><div class="pSmartList2"><li>Cliquez sur <b class="cBold">Apply</b> pour enregistrer les changements, puis sur <b class="cBold">OK</b> pour fermer le Mapper.</li></div>
<a name="wp2807321"> </a><div class="pSmartList2"><li>Cliquez-droit sur le composant <b class="cBold">tMap</b>, cliquez sur <b class="cBold">Row</b> et sélectionnez <em class="cEmphasis">Reject_ResellerID</em> dans la liste.</li></div>
<a name="wp2807330"> </a><div class="pSmartList2"><li>Connectez le flux principal du Mapper au composant de sortie <em class="cEmphasis">Reseller</em>.</li></div>
</ul></div>
</ul></div>
<a name="wp2807337"> </a><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">
</div>
<div align="center"><img src="../Images/UseCase_tmap2-2-7.png" id="wp2807334" border="0" hspace="0" vspace="0"/></div><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">

</div>
<div class="pSmartList1"><ul class="pSmartList1">
<div class="pSmartList2"><ul class="pSmartList2">
<a name="wp2807347"> </a><div class="pSmartList2"><li>Dans ce scénario, retirez du fichier <em class="cEmphasis">Resellers.csv</em> les lignes correspondant aux <em class="cEmphasis">Reseller ID 5 et 8</em>.</li></div>
<a name="wp2807360"> </a><div class="pSmartList2"><li>Exécutez le Job via la touche <b class="cBold">F6</b> du clavier, ou à partir de la vue <b class="cBold">Run</b>.</li></div>
</ul></div>
</ul></div>
<a name="wp2807367"> </a><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">
</div>
<div align="center"><img src="../Images/UseCase_tmap2-2-8.png" id="wp2807364" border="0" hspace="0" vspace="0"/></div><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">

</div>
<div class="pSmartList1"><ul class="pSmartList1">
<div class="pSmartList2"><ul class="pSmartList2">
<a name="wp2807372"> </a><div class="pSmartList2"><li>Les quatre fichiers de sortie sont tous créés dans le dossier défini dans les propriétés de la vue <b class="cBold">Component</b>.</li></div>
<a name="wp2807382"> </a><div class="pSmartList2"><li>Remarquez que dans le fichier de rejet lié à l&#39;Inner Join, <em class="cEmphasis">NoResellerID.csv</em>, le champ <em class="cEmphasis">ID_Owners</em> correspond aux entrées du fichier <em class="cEmphasis">Cars</em> dont le Reseller ID est égal à 5 et 8 tel que défini précédemment.</li></div>
</ul></div>
</ul></div>
<a name="wp3666675"> </a><p class="pIndented1">
Pour des exemples d&#39;utilisation des schémas dynamiques avec le <b class="cBold">tMap</b>, consultez&#160;:
</p>
<div class="pSmartList1"><ul class="pSmartList1">
<div class="pSmartList2"><ul class="pSmartList2">
<a name="wp3666685"> </a><div class="pSmartList2"><li><a href="tMysqlInput_Scenario.html#wp3857913"><em class="cEmphasis">Scénario&#160;: Ecrire des colonnes dynamiques d&#39;une base de données MySQL vers un fichier de sortie</em></a>.</li></div>
<a name="wp3666694"> </a><div class="pSmartList2"><li><a href="tMysqlOutput_Scenario.html#wp3662803"><em class="cEmphasis">Scénario 4&#160;: Ecrire des colonnes dynamiques d&#39;un fichier source vers une base de données MySQL</em></a>.</li></div>
</ul></div>
</ul></div>
<a name="wp2807397"> </a><h2 class="pHeading2">
Scénario&#160;3&#160;: Mapping de jointure en cascade
</h2>
<a name="wp2807400"> </a><p class="pIndented1">
Un troisième scénario plus avancé et basé sur le scénario&#160;2 requiert l&#39;ajout d&#39;une nouvelle entrée contenant les informations d&#39;assurance, par exemple.
</p>
<a name="wp2807410"> </a><p class="pIndented1">
Dans le <b class="cBold">Mapper</b>, mettez en place une jointure <b class="cBold">Inner Join</b> entre deux tables de référence (Lookup) des flux secondaires <em class="cEmphasis">Owners</em> et <em class="cEmphasis">Insurance</em> afin de gérer les références en cascade et par conséquent de récupérer les informations de la table <em class="cEmphasis">Insurance</em> via les données de la table <em class="cEmphasis">Owners</em>.
</p>
<a name="wp2807430"> </a><h2 class="pHeading2">
Scénario&#160;4&#160;: Mapping avancé avec filtres, jointures explicites et rejet Inner join
</h2>
<a name="wp2807437"> </a><p class="pIndented1">
Ce scénario présente un Job utilisant le <b class="cBold">tMap</b> et permettant de trouver les clients potentiels d&#39;un <em class="cEmphasis">Reseller</em> (revendeur). Ces clients doivent être propriétaires d&#39;une marque définie et avoir entre 2 et 6&#160;enfants (inclus) dans un but de vente incitative.
</p>
<a name="wp2807448"> </a><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">
</div>
<div align="center"><img src="../Images/UseCase_tmap4-1.png" id="wp2807445" border="0" hspace="0" vspace="0"/></div><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">

</div>
<div class="pSmartList1"><ul class="pSmartList1">
<div class="pSmartList2"><ul class="pSmartList2">
<a name="wp2807459"> </a><div class="pSmartList2"><li>Cliquez-déposez les composants suivants de la Palette&#160;: <b class="cBold">tFileInputDelimited</b> (x3), <b class="cBold">tMap</b>, <b class="cBold">tFileOutputDelimited</b> (x2)</li></div>
<a name="wp2807469"> </a><div class="pSmartList2"><li>Connectez les composants d&#39;entrée au tMap à l&#39;aide de connexions de type <b class="cBold">Main row</b>. Faites attention au premier composant que vous connectez car son flux de données sera automatiquement un flux <b class="cBold">Main</b> (principal). Et toutes les autres connexions seront alors de type <b class="cBold">Lookup</b> (flux de référence).</li></div>
<a name="wp2807482"> </a><div class="pSmartList2"><li>Définissez les propriétés de chaque composant d&#39;entrée dans l&#39;onglet <b class="cBold">Basic settings</b>. Par exemple, sélectionnez le chemin d&#39;accès au fichier <em class="cEmphasis">Resellers</em> utilisé comme flux principal dans votre Job.</li></div>
</ul></div>
</ul></div>
<a name="wp2807494"> </a><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">
</div>
<div align="center"><img src="../Images/UseCase_tmap4-2.png" id="wp2807491" border="0" hspace="0" vspace="0"/></div><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">

</div>
<div class="pSmartList1"><ul class="pSmartList1">
<div class="pSmartList2"><ul class="pSmartList2">
<a name="wp2807502"> </a><div class="pSmartList2"><li>Sélectionnez le fichier délimité à utiliser, les séparateurs de lignes et de champs (<b class="cBold">Row</b> et <b class="cBold">Field Separator</b>), les lignes d&#39;en-tête (<b class="cBold">Header</b>) et de bas de page (<b class="cBold">Footer</b>), si nécessaire.</li></div>
<a name="wp2807521"> </a><div class="pSmartList2"><li>Cliquez sur <b class="cBold">Edit Schema</b>, si le schéma n&#39;est pas stocké dans le <b class="cBold">Repository</b>. Vous retrouverez ce schéma dans la table principale en haut de la zone <b class="cBold">d&#39;entrée Input</b> du Mapper.</li></div>
<a name="wp2807534"> </a><div class="pSmartList2"><li>Répétez ces étapes pour les autres composants d&#39;entrée&#160;: <em class="cEmphasis">Cars</em> et <em class="cEmphasis">Owners</em>. Ces deux flux de référence (<b class="cBold">Lookup</b>) renseigneront les tables secondaires (lookup) de la zone d&#39;entrée du Mapper.</li></div>
<a name="wp2807546"> </a><div class="pSmartList2"><li>Cliquez sur le composant <b class="cBold">tMap</b> pour ouvrir le Mapper et définir le mapping et les filtres.</li></div>
</ul></div>
</ul></div>
<a name="wp2807553"> </a><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">
</div>
<div align="center"><img src="../Images/UseCase_tmap4-3.png" id="wp2807550" border="0" hspace="0" vspace="0"/></div><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">

</div>
<div class="pSmartList1"><ul class="pSmartList1">
<div class="pSmartList2"><ul class="pSmartList2">
<a name="wp2807565"> </a><div class="pSmartList2"><li>Tout d&#39;abord, configurez les jointures explicites entre le flux <b class="cBold">Main</b> et le flux <b class="cBold">Lookup</b>.</li></div>
<a name="wp2807571"> </a><div class="pSmartList2"><li>D&#39;un simple glisser-déposer, déplacez la colonne <em class="cEmphasis">ID_Resellers</em> vers les colonnes correspondantes puis renseignez le champ <b class="cBold">Expression key</b> dans la table <b class="cBold">Lookup</b>.</li></div>
</ul></div>
</ul></div>
<a name="wp2807586"> </a><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">
</div>
<div align="center"><img src="../Images/UseCase_tmap4-3.png" id="wp2807583" border="0" hspace="0" vspace="0"/></div><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">

</div>
<div class="pSmartList1"><ul class="pSmartList1">
<div class="pSmartList2"><ul class="pSmartList2">
<a name="wp2807592"> </a><div class="pSmartList2"><li>La jointure explicite apparaît en couleur tout comme la clé de hachage.</li></div>
<a name="wp2807601"> </a><div class="pSmartList2"><li>Puis dans le champ <b class="cBold">Expr. Key</b> de la colonne <em class="cEmphasis">Make</em> (Marque), saisissez (en Java) le filtre à appliquer. Dans ce cas d&#39;utilisation, saisissez simplement <em class="cEmphasis">&quot;BMW&quot;</em> puisque ce qui est recherché ce sont les propriétaires (<em class="cEmphasis">Owners</em>) de cette marque en particulier.</li></div>
<a name="wp2807617"> </a><div class="pSmartList2"><li>Effectuez une jointure en cascade entre les deux tables de référence <em class="cEmphasis">Cars</em> et <em class="cEmphasis">Owners</em>, afin de retrouver les informations sur les propriétaires et plus précisément le nombre d&#39;enfants qu&#39;ils ont.</li></div>
</ul></div>
</ul></div>
<a name="wp2807626"> </a><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">
</div>
<div align="center"><img src="../Images/UseCase_tmap4-3.png" id="wp2807623" border="0" hspace="0" vspace="0"/></div><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">

</div>
<div class="pSmartList1"><ul class="pSmartList1">
<div class="pSmartList2"><ul class="pSmartList2">
<a name="wp2807637"> </a><div class="pSmartList2"><li>D&#39;un simple glisser-déposer, déplacez la colonne <em class="cEmphasis">ID_Owners</em> de la table <em class="cEmphasis">Cars</em> vers le champ <b class="cBold">Expr. Key</b> de la colonne <em class="cEmphasis">id_owner</em> de la table <em class="cEmphasis">Owners</em>.</li></div>
<a name="wp2807656"> </a><div class="pSmartList2"><li>Cliquez sur le bouton <b class="cBold">Filter</b> près de la case <b class="cBold">Inner Join</b> pour afficher la zone de saisie du Filtre.</li></div>
<a name="wp2807663"> </a><div class="pSmartList2"><li>Saisissez la déclaration de <b class="cBold">Filtre</b> pour réduire le nombre de lignes prises en compte dans le flux <b class="cBold">Lookup</b>. Dans cet exemple, la déclaration est la suivante&#160;: <code class="cCode">Owners.Children_Nr &gt; 1 &amp;&amp; Owners.Children_Nr &lt; 6</code> </li></div>
<a name="wp2807673"> </a><div class="pSmartList2"><li>Comme vous souhaitez exclure les valeurs nulles dans une table séparée et les exclure de la sortie standard, cliquez sur le bouton <b class="cBold">tMap Settings</b> puis sélectionnez <b class="cBold">Inner Join</b> comme modèle de jointure pour chaque table <b class="cBold">Lookup</b> à filtrer.</li></div>
</ul></div>
</ul></div>
<a name="wp2807688"> </a><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">
</div>
<div align="center"><img src="../Images/UseCase_tmap4-3.png" id="wp2807685" border="0" hspace="0" vspace="0"/></div><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">

</div>
<div class="pSmartList1"><ul class="pSmartList1">
<div class="pSmartList2"><ul class="pSmartList2">
<a name="wp3668472"> </a><div class="pSmartList2"><li>Dans les paramètres du <b class="cBold">tMap</b>, vous pouvez sélectionner une des options suivantes&#160;: <b class="cBold">Unique match</b>, <b class="cBold">First match</b>, ou <b class="cBold">All Matches</b>. Dans cet exemple, sélectionnez l&#39;option <b class="cBold">All matches</b>. Ainsi, si plusieurs correspondances sont trouvées dans l&#39;Inner Join (i.e. les lignes répondant à la jointure explicite ainsi qu&#39;au filtre), elles seront toutes prises en compte dans le flux de sortie (soit dans le flux de rejet, soit dans le flux de sortie standard).</li></div>
<a name="wp3668484"> </a><p class="pBodyRelative">
<br />
<img src="../Images/bulb_small.png" align="left" id="wp3668482" border="0" hspace="0" vspace="0"/><br />
L&#39;option <b class="cBold">Unique match</b> fonctionne de la même manière que l&#39;option<b class="cBold"> Last match</b>. Les options <b class="cBold">First match</b> et <b class="cBold">All matches</b> fonctionnent comme l&#39;indiquent leurs noms (respectivement première correspondance et toutes les correspondances).
</p>
<a name="wp3668488"> </a><div class="pSmartList2"><li>Puis dans la zone <b class="cBold">Output</b> du <b class="cBold">Mapper</b>, ajoutez deux tables&#160;: une pour les correspondances répondant à la jointure explicite et au filtre et une pour les rejets.</li></div>
<a name="wp3668433"> </a><div class="pSmartList2"><li>Cliquez sur le bouton <b class="cBold">[+]</b> pour ajouter des tables et donnez un nom aux flux de sortie.</li></div>
</ul></div>
</ul></div>
<a name="wp3668402"> </a><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">
</div>
<div align="center"><img src="../Images/UseCase_tmap4-3.png" id="wp2807731" border="0" hspace="0" vspace="0"/></div><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">

</div>
<div class="pSmartList1"><ul class="pSmartList1">
<div class="pSmartList2"><ul class="pSmartList2">
<a name="wp2807745"> </a><div class="pSmartList2"><li>Glissez-déposez les données des tables <b class="cBold">Main</b> et <b class="cBold">Lookup</b> de la zone Input vers les tables de sortie respectives, suivant le type d&#39;informations que vous souhaitez obtenir.</li></div>
<a name="wp2807749"> </a><div class="pSmartList2"><li>Dans la table de rejet utilisée pour diriger les données ne répondant ni à la jointure externe ni au filtre, cliquez sur le bouton <b class="cBold">tMap Settings </b>et sélectionnez <b class="cBold">true</b> pour <em class="cEmphasis">Catch lookup inner join reject</em>.</li></div>
<a name="wp2807759"> </a><div class="pSmartList2"><li>Dans l&#39;éditeur graphique, cliquez droit sur le <b class="cBold">tMap</b> et créez une connexion de sortie vers le composant correspondant.</li></div>
<a name="wp2807768"> </a><div class="pSmartList2"><li>Définissez les paramètres des composants de sortie dans l&#39;onglet <b class="cBold">Basic settings</b>.</li></div>
</ul></div>
</ul></div>
<a name="wp2807775"> </a><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">
</div>
<div align="center"><img src="../Images/UseCase_tmap4-4.png" id="wp2807772" border="0" hspace="0" vspace="0"/></div><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">

</div>
<div class="pSmartList1"><ul class="pSmartList1">
<div class="pSmartList2"><ul class="pSmartList2">
<a name="wp2807786"> </a><div class="pSmartList2"><li>Définissez le chemin d&#39;accès, les séparateurs de lignes (<b class="cBold">Row</b>) et de champs (<b class="cBold">Field</b>), si nécessaire. Et pour cet exemple, cochez la case <b class="cBold">Include Header</b>.</li></div>
<a name="wp2807800"> </a><div class="pSmartList2"><li>Le <b class="cBold">Schéma</b> devrait se propager automatiquement à l&#39;aide du <b class="cBold">Mapper</b>.</li></div>
<a name="wp2807809"> </a><div class="pSmartList2"><li>Enregistrez votre Job, puis cliquez sur l&#39;onglet <b class="cBold">Run</b> et cochez la case <b class="cBold">Statistics</b> pour suivre l&#39;exécution du Job.</li></div>
</ul></div>
</ul></div>
<a name="wp2807818"> </a><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">
</div>
<div align="center"><img src="../Images/UseCase_tmap4-5.png" id="wp2807815" border="0" hspace="0" vspace="0"/></div><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">

</div>
<a name="wp2807821"> </a><p class="pIndented1">
Les statistiques montrent que plusieurs correspondances ont été trouvées et ainsi la somme des lignes de sortie (Main + Rejet) est supérieure au nombre de lignes du flux d&#39;entrée principal.
</p>
<a name="wp3666747"> </a><p class="pIndented1">
Pour des exemples d&#39;utilisation des schémas dynamiques avec le <b class="cBold">tMap</b>, consultez&#160;:
</p>
<div class="pSmartList1"><ul class="pSmartList1">
<div class="pSmartList2"><ul class="pSmartList2">
<a name="wp3666757"> </a><div class="pSmartList2"><li><a href="tMysqlInput_Scenario.html#wp3857913"><em class="cEmphasis">Scénario&#160;: Ecrire des colonnes dynamiques d&#39;une base de données MySQL vers un fichier de sortie</em></a>.</li></div>
<a name="wp3666766"> </a><div class="pSmartList2"><li><a href="tMysqlOutput_Scenario.html#wp3662803"><em class="cEmphasis">Scénario 4&#160;: Ecrire des colonnes dynamiques d&#39;un fichier source vers une base de données MySQL</em></a>.</li></div>
</ul></div>
</ul></div>
<a name="wp2807829"> </a><h2 class="pHeading2">
Scénario&#160;5&#160;: Mapping avancé avec filtres et vérification des lignes
</h2>
<a name="wp2807832"> </a><p class="pIndented1">
Ce scénario est une version modifiée du scénario précédent. Il décrit un Job qui applique des filtres et vérifie chaque ligne d&#39;une entrée de référence.
</p>
<a name="wp2807840"> </a><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">
</div>
<div align="center"><img src="../Images/UseCase_tmap5-1.png" id="wp2807837" border="0" hspace="0" vspace="0"/></div><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">

</div>
<div class="pSmartList1"><ul class="pSmartList1">
<div class="pSmartList2"><ul class="pSmartList2">
<a name="wp2807847"> </a><div class="pSmartList2"><li>Reprenez le Job du <a href="tMap_Scenario.html#wp2807430"><em class="cEmphasis">Scénario&#160;4&#160;: Mapping avancé avec filtres, jointures explicites et rejet Inner join</em></a>.</li></div>
<a name="wp2807853"> </a><div class="pSmartList2"><li>Aucune modification n&#39;a été apportée aux fichiers Input delimited.</li></div>
<a name="wp2807858"> </a><div class="pSmartList2"><li>Lancez le Mapper pour modifier le mapping et les filtres.</li></div>
</ul></div>
</ul></div>
<a name="wp2807865"> </a><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">
</div>
<div align="center"><img src="../Images/UseCase_tmap5-2.png" id="wp2807862" border="0" hspace="0" vspace="0"/></div><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">

</div>
<div class="pSmartList1"><ul class="pSmartList1">
<div class="pSmartList2"><ul class="pSmartList2">
<a name="wp2807870"> </a><div class="pSmartList2"><li>Supprimez toutes les jointures explicites entre la table principale et la table de référence, <em class="cEmphasis">Cars</em>.</li></div>
<a name="wp2807883"> </a><div class="pSmartList2"><li>Notez que l&#39;option <b class="cBold">All Matches</b> se change automatiquement en <b class="cBold">All Rows</b>. En fait, comme aucune jointure explicite n&#39;est déclarée (il n&#39;y a pas de clé de hachage), toutes les lignes du flux de référence doivent être prises en compte et vérifiées en fonction des lignes du flux principal.</li></div>
<a name="wp2807898"> </a><div class="pSmartList2"><li>Supprimez le filtre (<em class="cEmphasis">&quot;BMW&quot;</em>) du champ <b class="cBold">Expr. key</b> de la table <em class="cEmphasis">Cars</em>.</li></div>
</ul></div>
</ul></div>
<a name="wp2807905"> </a><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">
</div>
<div align="center"><img src="../Images/UseCase_tmap5-2.png" id="wp2807902" border="0" hspace="0" vspace="0"/></div><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">

</div>
<div class="pSmartList1"><ul class="pSmartList1">
<div class="pSmartList2"><ul class="pSmartList2">
<a name="wp2807913"> </a><div class="pSmartList2"><li>Cliquez sur le bouton <b class="cBold">Filter</b> pour afficher la zone de saisie du filtre. Puis saisissez le nouveau filtre pour réduire la recherche aux marques <em class="cEmphasis">BMW</em> ou <em class="cEmphasis">Mercedes</em>. La déclaration du filtre est la suivante&#160;:<br /><code class="cCode">Cars.Make.equals(&quot;BMW&quot;) || Cars.Make.equals(&quot;Mercedes&quot;)</code></li></div>
<a name="wp2807929"> </a><div class="pSmartList2"><li>Le filtre appliqué sur la table de référence <em class="cEmphasis">Owners</em> ne change pas par rapport au scénario précédent.</li></div>
<a name="wp2807934"> </a><div class="pSmartList2"><li>Définissez les nouveaux chemins d&#39;accès pour les flux de sortie respectifs.</li></div>
<a name="wp2807945"> </a><div class="pSmartList2"><li>Enregistrez le Job et activez les <b class="cBold">Statistiques</b> dans l&#39;onglet <b class="cBold">Run</b> avant d&#39;exécuter le Job.</li></div>
</ul></div>
</ul></div>
<a name="wp2807952"> </a><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">
</div>
<div align="center"><img src="../Images/UseCase_tmap5-4.png" id="wp2807949" border="0" hspace="0" vspace="0"/></div><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">

</div>
<a name="wp2807955"> </a><p class="pIndented1">
Les Statistiques montrent qu&#39;un produit cartésien a été effectué entre les lignes du flux principal avec les lignes filtrées du flux de référence.
</p>
<a name="wp2807963"> </a><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">
</div>
<div align="center"><img src="../Images/UseCase_tmap5-3.png" id="wp2807960" border="0" hspace="0" vspace="0"/></div><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">

</div>
<a name="wp2807967"> </a><p class="pIndented1">
Le contenu du flux de sortie principal montre que les lignes filtrées sont bien passées.
</p>
<a name="wp2807974"> </a><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">
</div>
<div align="center"><img src="../Images/UseCase_tmap5-5.png" id="wp2807971" border="0" hspace="0" vspace="0"/></div><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">

</div>
<a name="wp2807979"> </a><p class="pIndented1">
Alors que le résultat des rejets met en évidence les lignes qui ne correspondent à aucun des filtres.
</p>
<a name="wp3666795"> </a><p class="pIndented1">
Pour des exemples d&#39;utilisation des schémas dynamiques avec le <b class="cBold">tMap</b>, consultez&#160;:
</p>
<div class="pSmartList1"><ul class="pSmartList1">
<div class="pSmartList2"><ul class="pSmartList2">
<a name="wp3666805"> </a><div class="pSmartList2"><li><a href="tMysqlInput_Scenario.html#wp3857913"><em class="cEmphasis">Scénario&#160;: Ecrire des colonnes dynamiques d&#39;une base de données MySQL vers un fichier de sortie</em></a>.</li></div>
<a name="wp3666814"> </a><div class="pSmartList2"><li><a href="tMysqlOutput_Scenario.html#wp3662803"><em class="cEmphasis">Scénario 4&#160;: Ecrire des colonnes dynamiques d&#39;un fichier source vers une base de données MySQL</em></a>.</li></div>
</ul></div>
</ul></div>
<a name="wp2807985"> </a><h2 class="pHeading2">
Scénario&#160;6&#160;: Mapping avancé avec rechargement de la base de référence à chaque ligne
</h2>
<a name="wp2807989"> </a><p class="pIndented1">
Le scénario suivant décrit un Job permettant de récupérer certaines informations sur des personnes dans une base de données de référence, en se basant sur une jointure effectuée sur leur âge. Le flux principal des données source est lu à partir d&#39;une table Mysql appelée <em class="cEmphasis">people_age</em> contenant certains détails sur les personnes, comme leur identifiant (numérique), leur nom et prénom (alphanumérique) ainsi que leur âge (numérique), qui peut être soit 40, soit 60&#160;ans. On a intentionnellement réduit le nombre d&#39;entrées de cette table. 
</p>
<a name="wp2807996"> </a><p class="pIndented1">
Les informations de référence sont également stockées dans une table Mysql appelée <em class="cEmphasis">large_data_volume</em>. Cette table de référence contient un certain nombre d&#39;entrées, dont le nom des villes dans lesquelles les personnes enregistrées dans la table principale sont allées. Le nombre d&#39;entrées a été restreint pour plus de clarté mais, dans le cas d&#39;une utilisation normale, le Job ci-dessous a des résultats plus significatifs quand on traite un gros volume de données de référence. 
</p>
<a name="wp2808003"> </a><p class="pIndented1">
Pour optimiser les performances, un composant de connexion aux bases de données est utilisé au début de ce Job pour ouvrir une connexion à la base de données de référence afin de ne pas ouvrir et refermer une connexion à chaque ligne de la table de référence chargée.
</p>
<a name="wp2808007"> </a><p class="pIndented1">
Un filtre d&#39;expression (expression filter) est appliqué à ce flux de référence, qui permet de ne sélectionner que les données des personnes dont l&#39;âge est 60 ou 40&#160;ans. Ainsi, seules les lignes pertinentes de la table de référence sont enregistrées pour chaque ligne du flux principal. 
</p>
<a name="wp2808011"> </a><p class="pIndented1">
Ce Job présente donc comment, à partir d&#39;un nombre limité de lignes de flux principal, on peut optimiser la base de données de référence pour n&#39;enregistrer que les résultats correspondant à la clé d&#39;expression (expression key).
</p>
<a name="wp2808018"> </a><p class="pBodyRelative">
</p>
<div><table border="0" cellpadding="0" cellspacing="0" align="left"><img src="../Images/bulb_small.png" align="left" id="wp2808016" border="0" hspace="0" vspace="0"/></table></div><p class="pBodyRelative">
En général, comme le chargement des références s&#39;effectue pour chacune des lignes de flux principal, il est plus intéressant d&#39;utiliser cette option quand on ne traite qu&#39;un nombre limité de lignes de flux principal et un grand nombre de lignes de référence. 
</p>
<a name="wp2808025"> </a><p class="pIndented1">
La jointure s&#39;effectue au niveau du champ <em class="cEmphasis">age</em>. Les informations de la base de référence sont ensuite chargées pour chacune des lignes du flux principal en entrée, en utilisant l&#39;option de chargement appropriée dans l&#39;éditeur du composant <b class="cBold">tMap</b>. 
</p>
<a name="wp2808036"> </a><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">
</div>
<div align="center"><img src="../Images/UseCase_tMap6-1.png" id="wp2808033" border="0" hspace="0" vspace="0"/></div><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">

</div>
<a name="wp2808039"> </a><p class="pIndented1">
Dans cet exemple, les métadonnées ont été préparées pour le composant de connexion et les composants source. Pour plus d&#39;informations sur les métadonnées de connexion aux bases de données et les métadonnées de création de schémas des tables, consultez la section dédiée au sujet dans le <b class="cBold">Guide Utilisateur</b> de <b class="cBold">Talend Open Studio</b>.
</p>
<a name="wp2808049"> </a><p class="pIndented1">
Le Job est formé de cinq composants, quatre composants de bases de données et un composant de mapping. 
</p>
<div class="pSmartList1"><ul class="pSmartList1">
<div class="pSmartList2"><ul class="pSmartList2">
<a name="wp2808064"> </a><div class="pSmartList2"><li>A partir du noeud <b class="cBold">Metadata</b> &gt; <b class="cBold">Db Connections</b> dans le <b class="cBold">Repository</b>, glissez le schéma de base de données dans l&#39;éditeur graphique. Dans cet exemple, la table source s&#39;appelle <em class="cEmphasis">people_age</em>.</li></div>
<a name="wp2808071"> </a><div class="pSmartList2"><li>Lorsque vous déposez le composant, une liste apparaît à l&#39;écran&#160;: sélectionnez le composant <b class="cBold">tMysqlInput</b>. </li></div>
</ul></div>
</ul></div>
<a name="wp2808083"> </a><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">
</div>
<div align="center"><img src="../Images/UseCase_tMap6-2.png" id="wp2808080" border="0" hspace="0" vspace="0"/></div><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">

</div>
<div class="pSmartList1"><ul class="pSmartList1">
<div class="pSmartList2"><ul class="pSmartList2">
<a name="wp2808092"> </a><div class="pSmartList2"><li>Déposez le schéma de base de donnée de référence à partir du noeud <b class="cBold">Metadata</b> &gt; <b class="cBold">Db Connections</b>. Dans cet exemple, la table de référence s&#39;appelle <em class="cEmphasis">large_data_volume</em>.</li></div>
<a name="wp2808101"> </a><div class="pSmartList2"><li>De la même manière, glissez une connexion à la base de données du noeud Db Connections dans le Repository dans l&#39;éditeur graphique. Dans la boîte de dialogue <b class="cBold">[Components]</b>, sélectionnez le composant <b class="cBold">tMysqlConnection</b>. Ce composant crée une connexion permanente à la base de données de référence afin d&#39;éviter que la connexion ne se referme au chargement que chaque ligne de référence. </li></div>
<a name="wp2808114"> </a><div class="pSmartList2"><li>A partir de la <b class="cBold">Palette</b> située à droite dans l&#39;éditeur graphique, cliquez-déposez le connecteur <b class="cBold">tMap</b> (famille <b class="cBold">Processing</b>) et le composant <b class="cBold">tMysqlOutput</b> (famille <b class="cBold">Database</b>). </li></div>
<a name="wp2808133"> </a><div class="pSmartList2"><li>Reliez maintenant tous les composants entre eux&#160;: faites un clic-droit sur le <b class="cBold">tMysqlInput</b> correspondant à la table <em class="cEmphasis">people</em> et maintenez le bouton enfoncé tout en déplaçant le curseur jusqu&#39;au <b class="cBold">tMap</b>.</li></div>
<a name="wp2808146"> </a><div class="pSmartList2"><li>Relâchez le bouton lorsque vous êtes sur le <b class="cBold">tMap</b>, le flux principal de lignes est créé automatiquement. </li></div>
<a name="wp2808156"> </a><div class="pSmartList2"><li>Renommez le lien de type <b class="cBold">Main</b> en <em class="cEmphasis">people</em>, pour pouvoir identifier plus facilement le flux de données principal. </li></div>
<a name="wp2808163"> </a><div class="pSmartList2"><li>Effectuez la même opération pour connecter la table de référence (<em class="cEmphasis">large_data_volume</em>) au <b class="cBold">tMap</b> et le <b class="cBold">tMap</b> au <b class="cBold">tMysqlOutput</b>.</li></div>
<a name="wp2808176"> </a><div class="pSmartList2"><li>Une boîte de dialogue apparaît et vous devez donner un nom au lien de sortie. Dans cet exemple, le flux de sortie s&#39;appelle <em class="cEmphasis">people_mixandmatch. </em></li></div>
<a name="wp2808186"> </a><div class="pSmartList2"><li>Renommez également le lien de connexion à la base de référence en <em class="cEmphasis">large_volume</em> pour pouvoir identifier plus facilement le flux de données. </li></div>
<a name="wp2808200"> </a><div class="pSmartList2"><li>Connectez le <b class="cBold">tMysqlConnection</b> au <b class="cBold">tMysqlInput</b> via un lien de type <b class="cBold">OnSubjobOk</b>.</li></div>
<a name="wp2808208"> </a><div class="pSmartList2"><li>Double-cliquez ensuite sur le composant <b class="cBold">tMap</b> pour ouvrir l&#39;éditeur graphique de mapping. </li></div>
</ul></div>
</ul></div>
<a name="wp2808215"> </a><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">
</div>
<div align="center"><img src="../Images/UseCase_tMap6-3.png" id="wp2808212" border="0" hspace="0" vspace="0"/></div><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">

</div>
<div class="pSmartList1"><ul class="pSmartList1">
<div class="pSmartList2"><ul class="pSmartList2">
<a name="wp2808226"> </a><div class="pSmartList2"><li>La table <b class="cBold">Output</b> (qui s&#39;est créée automatiquement quand vous avez lié le <b class="cBold">tMap</b> au <b class="cBold">tMysqlOutput</b>) sera composée des lignes concordantes du flux de référence (<em class="cEmphasis">large_data_volume</em>) et du flux principal (<em class="cEmphasis">people_age</em>).</li></div>
<a name="wp2808239"> </a><div class="pSmartList2"><li>Sélectionnez les lignes du flux principal que vous voulez passer en sortie et faites les glisser vers la table Output (dans le coin supérieur droit de l&#39;éditeur de mapping)&#160;: ils y seront copiés. </li></div>
<a name="wp2808246"> </a><div class="pSmartList2"><li>Dans cet exemple, la sélection des lignes du flux principal inclut les champs suivants&#160;: <em class="cEmphasis">id</em>, <em class="cEmphasis">first_name</em>, <em class="cEmphasis">last_Name</em> et <em class="cEmphasis">age</em>. </li></div>
<a name="wp2808264"> </a><div class="pSmartList2"><li>Dans la table de référence, la colonne <em class="cEmphasis">city</em> est sélectionnée. </li></div>
<a name="wp2808275"> </a><div class="pSmartList2"><li>Faites glisser les colonnes sélectionnées des tables d&#39;entrée (<em class="cEmphasis">people</em> et <em class="cEmphasis">large_volume</em>) vers la table de sortie.</li></div>
<a name="wp2808280"> </a><div class="pSmartList2"><li>Créez maintenant la jointure entre le flux principal et le flux de référence. </li></div>
<a name="wp2808286"> </a><div class="pSmartList2"><li>Sélectionnez la colonne <em class="cEmphasis">age</em> dans la table du flux principal (en haut) et faites-la glisser vers la colonne <em class="cEmphasis">age</em> de la table du flux de référence (<em class="cEmphasis">large_volume</em> dans cet exemple).</li></div>
<a name="wp2808296"> </a><div class="pSmartList2"><li>L&#39;icône d&#39;une clé apparaît à côté de l&#39;expression liée dans la table de référence. La jointure est maintenant établie. </li></div>
<a name="wp2808303"> </a><div class="pSmartList2"><li>Cliquez sur le bouton <b class="cBold">tMap Settings</b> et sélectionnez l&#39;option <b class="cBold">Reload at each row</b> pour que la base de référence soit chargée à nouveau pour chaque nouvelle ligne traitée. </li></div>
</ul></div>
</ul></div>
<a name="wp2808312"> </a><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">
</div>
<div align="center"><img src="../Images/UseCase_tMap6-4.png" id="wp2808309" border="0" hspace="0" vspace="0"/></div><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">

</div>
<div class="pSmartList1"><ul class="pSmartList1">
<div class="pSmartList2"><ul class="pSmartList2">
<a name="wp2808324"> </a><div class="pSmartList2"><li>Dans cet exemple vous devez également sélectionner l&#39;option <b class="cBold">All matches</b> dans la table de référence pour récupérer dans le flux de sortie toutes les occurrences de <em class="cEmphasis">age</em> qui correspondent.</li></div>
<a name="wp2808334"> </a><div class="pSmartList2"><li>Implémentez ensuite le filtre, établi à partir de la colonne <em class="cEmphasis">age</em>, dans la table de référence. Le champ <b class="cBold">GlobalMapKey</b> est créé automatiquement lorsque vous sélectionnez l&#39;option <b class="cBold">Reload at each row</b>. Vous pouvez donc utiliser cette expression pour filtrer les données de référence de manière dynamique, pour que seules les informations pertinentes soient chargées avec le flux principal. </li></div>
</ul></div>
</ul></div>
<a name="wp2808353"> </a><p class="pIndented1">
Comme l&#39;a souligné l&#39;introduction de ce scénario, le flux de données principal contient uniquement les personnes dont l&#39;âge vaut 40 ou 60. Pour éviter de charger toutes les lignes de la table de référence, dont les âges sont différents de 40 et 60, vous pouvez utiliser la valeur âge du flux principal comme variable globale pour alimenter le filtre de référence. 
</p>
<a name="wp3668999"> </a><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">
</div>
<div align="center"><img src="../Images/UseCase_tMap6-5.png" id="wp2808350" border="0" hspace="0" vspace="0"/></div><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">

</div>
<div class="pSmartList1"><ul class="pSmartList1">
<div class="pSmartList2"><ul class="pSmartList2">
<a name="wp2808364"> </a><div class="pSmartList2"><li>Glissez la colonne <em class="cEmphasis">Age</em> de la table de flux principal vers le champ <b class="cBold">Expr.</b> dans la table de référence. </li></div>
<a name="wp2808371"> </a><div class="pSmartList2"><li>Renseignez ensuite le nom de la variable dans le champ <b class="cBold">globalMap Key</b>, en utilisant une expression. Dans cet exemple, l&#39;expression est&#160;: <code class="cCode">&quot;people.Age&quot;</code>. </li></div>
<a name="wp2808381"> </a><div class="pSmartList2"><li>Cliquez sur le bouton <b class="cBold">OK</b> pour enregistrer les paramètres de mapping et retourner dans l&#39;éditeur graphique. </li></div>
<a name="wp2808385"> </a><div class="pSmartList2"><li>Pour terminer l&#39;implémentation du filtrage dynamique du flux de référence, vous devez maintenant ajouter une clause &quot;where&quot; à la requête de la base de données d&#39;entrée. </li></div>
</ul></div>
</ul></div>
<a name="wp2808394"> </a><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">
</div>
<div align="center"><img src="../Images/UseCase_tMap6-6.png" id="wp2808391" border="0" hspace="0" vspace="0"/></div><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">

</div>
<div class="pSmartList1"><ul class="pSmartList1">
<div class="pSmartList2"><ul class="pSmartList2">
<a name="wp2808402"> </a><div class="pSmartList2"><li>A la fin du champ <b class="cBold">Query</b>, juste après la commande Select, entrez la clause de type &quot;where&quot; suivante&#160;: <code class="cCode">WHERE AGE = &quot; + ((Integer)globalMap.get(&quot;people.Age&quot;))</code>.</li></div>
<a name="wp2808409"> </a><div class="pSmartList2"><li>Assurez-vous que le type correspond à la colonne utilisée comme variable. Dans cet exemple, la donnée <em class="cEmphasis">Age</em> est du type <code class="cCode">Integer</code>. Veillez aussi à utiliser la variable de la manière dont vous l&#39;avez paramétrée dans le champ <b class="cBold">globalMap key</b> de l&#39;éditeur de mapping. </li></div>
<a name="wp2808425"> </a><div class="pSmartList2"><li>Double-cliquez ensuite sur le composant <b class="cBold">tMysqlOutput</b> et vérifiez que le schéma correspond aux paramètres de mapping. </li></div>
<a name="wp2808430"> </a><div class="pSmartList2"><li>Tout est maintenant prêt pour l&#39;exécution du Job. </li></div>
<a name="wp2808436"> </a><div class="pSmartList2"><li>Cliquez sur l&#39;onglet <b class="cBold">Run</b>, situé en bas de l&#39;éditeur graphique, pour afficher la vue d&#39;exécution du Job. </li></div>
</ul></div>
</ul></div>
<a name="wp2808445"> </a><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">
</div>
<div align="center"><img src="../Images/UseCase_tmap6-7.png" id="wp2808442" border="0" hspace="0" vspace="0"/></div><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">

</div>
<div class="pSmartList1"><ul class="pSmartList1">
<div class="pSmartList2"><ul class="pSmartList2">
<a name="wp2808453"> </a><div class="pSmartList2"><li>Avant d&#39;exécuter le Job, sélectionnez l&#39;option <b class="cBold">Traces</b> pour observer l&#39;avancée du traitement des données. </li></div>
<a name="wp2808457"> </a><div class="pSmartList2"><li>Assurez-vous que les types de données sont respectés (string, integer...) pour éviter les erreurs d&#39;exécution. </li></div>
<a name="wp2808468"> </a><div class="pSmartList2"><li>Appuyez ensuite sur la touche <b class="cBold">F6</b> ou cliquez sur le bouton <b class="cBold">Run</b> pour exécuter le Job.</li></div>
</ul></div>
</ul></div>
<a name="wp2808480"> </a><p class="pIndented1">
Pour une meilleure visibilité, il est possible d&#39;agrandir la vue du Job dans l&#39;éditeur graphique lors de l&#39;exécution en double-cliquant simplement sur l&#39;onglet portant le nom du Job. 
</p>
<a name="wp3669059"> </a><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">
</div>
<div align="center"><img src="../Images/UseCase_tMap6-9.png" id="wp2808477" border="0" hspace="0" vspace="0"/></div><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">

</div>
<a name="wp2808483"> </a><p class="pIndented1">
Les données de référence sont chargées à nouveau pour chaque ligne du flux principal qui correspond à la contrainte d&#39;âge. Toutes les correspondances à la condition <em class="cEmphasis">age</em> sont récupérées à partir des lignes de la table de référence et regroupées dans le flux de sortie. 
</p>
<a name="wp2808493"> </a><p class="pIndented1">
Si vous vérifiez les données contenues dans la table <em class="cEmphasis">people_mixandmatch </em>nouvellement créée, vous y trouverez toutes les copies basées sur <em class="cEmphasis">age</em> correspondant aux différentes personnes dont l&#39;âge vaut 40 ou 60, ainsi que les villes où ils sont allés.  
</p>
<a name="wp2936647"> </a><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 18pt; margin-right: 36pt; margin-top: 3pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">
</div>
<div align="center"><img src="../Images/UseCase_tmap6-10.png" id="wp2808501" border="0" hspace="0" vspace="0"/></div><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 18pt; margin-right: 36pt; margin-top: 3pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">

</div>
<a name="wp3666837"> </a><p class="pIndented1">
Pour des exemples d&#39;utilisation des schémas dynamiques avec le <b class="cBold">tMap</b>, consultez&#160;:
</p>
<div class="pSmartList1"><ul class="pSmartList1">
<div class="pSmartList2"><ul class="pSmartList2">
<a name="wp3666847"> </a><div class="pSmartList2"><li><a href="tMysqlInput_Scenario.html#wp3857913"><em class="cEmphasis">Scénario&#160;: Ecrire des colonnes dynamiques d&#39;une base de données MySQL vers un fichier de sortie</em></a>.</li></div>
<a name="wp3666856"> </a><div class="pSmartList2"><li><a href="tMysqlOutput_Scenario.html#wp3662803"><em class="cEmphasis">Scénario 4&#160;: Ecrire des colonnes dynamiques d&#39;un fichier source vers une base de données MySQL</em></a>.</li></div>
</ul></div>
</ul></div>
<a name="wp2939934"> </a><h2 class="pHeading2">
Scénario 7&#160;: Mapping avec des tables de sortie
</h2>
<a name="wp2936650"> </a><p class="pIndented1">
Le scénario suivant décrit un Job traitant des flux de rejet sans les séparer du flux principal. 
</p>
<a name="wp2936892"> </a><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">
</div>
<div align="center"><img src="../Images/Use_Case_tMapOutputtables1.png" id="wp2940691" border="0" hspace="0" vspace="0"/></div><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">

</div>
<div class="pSmartList1"><ul class="pSmartList1">
<div class="pSmartList2"><ul class="pSmartList2">
<a name="wp2940694"> </a><div class="pSmartList2"><li>Dans la vue <b class="cBold">Repository</b>, cliquez sur <b class="cBold">Metadata</b> &gt; <b class="cBold">File delimited</b>. Glissez-déposez la métadonnée <em class="cEmphasis">customers</em> dans l&#39;espace de modélisation graphique. Pour plus d&#39;informations concernant la centralisation des métadonnées, consultez <em class="cEmphasis">Centraliser les métadonnées</em> du <b class="cBold">Guide Utilisateur</b> <b class="cBold">Talend Open Studio</b>. La métadonnée <em class="cEmphasis">customers</em> contient des informations relatives aux clients, comme leur ID, leur nom, leur adresse, etc.</li></div>
<a name="wp2936926"> </a><div class="pSmartList2"><li>Une boîte de dialogue s&#39;ouvre et vous demande de choisir le type de composant que vous souhaitez utiliser.Sélectionnez le composant <b class="cBold">tFileInputDelimited</b> et cliquez sur <b class="cBold">OK</b>.</li></div>
<a name="wp2936970"> </a><div class="pSmartList2"><li>Ensuite, glissez-déposez la métadonnée <em class="cEmphasis">states</em>. Sélectionnez le même composant dans la boîte de dialogue, et cliquez sur <b class="cBold">OK</b>. La métadonnée <em class="cEmphasis">states</em> contient l&#39;identifiant de l&#39;état, ainsi que son nom.</li></div>
<a name="wp2936989"> </a><div class="pSmartList2"><li>Glissez-déposez de la <b class="cBold">Palette</b> un <b class="cBold">tMap</b> et deux composants <b class="cBold">tLogRow</b>.</li></div>
<a name="wp2937034"> </a><div class="pSmartList2"><li>Reliez le composant <em class="cEmphasis">customers</em> au <b class="cBold">tMap</b> à l&#39;aide d&#39;un lien <b class="cBold">Row Main</b>.</li></div>
<a name="wp2937043"> </a><div class="pSmartList2"><li>Reliez le composant <em class="cEmphasis">states</em> au <b class="cBold">tMap</b>, en utilisant un lien <b class="cBold">Row Main</b>. Il sera automatiquement défini comme <b class="cBold">Lookup</b>.</li></div>
<a name="wp2937727"> </a><div class="pSmartList2"><li>Double-cliquez sur le composant <b class="cBold">tMap</b>. Glissez-déposez la colonne <em class="cEmphasis">idState</em> dans la première ligne de la seconde table, afin de créer une jointure.</li></div>
<a name="wp2937734"> </a><div class="pSmartList2"><li>Désélectionnez la case <b class="cBold">Die on error</b> si vous souhaitez gérer les erreurs d&#39;exécution. La table <b class="cBold">ErrorReject</b> est maintenant créée. Cliquez quatre fois sur le bouton <b class="cBold">[+]</b> en haut à droite de l&#39;éditeur, afin d&#39;ajouter quatre colonnes. Sélectionnez les colonnes d&#39;entrée <em class="cEmphasis">id</em>, <em class="cEmphasis">idState</em>, <em class="cEmphasis">RegTime</em> et <em class="cEmphasis">RegisterTime</em> puis glissez et déposez-les dans les quatre nouvelles colonnes vides. </li></div>
</ul></div>
</ul></div>
<a name="wp2937763"> </a><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">
</div>
<div align="center"><img src="../Images/Use_Case_tMapoutputtables4.png" id="wp2940723" border="0" hspace="0" vspace="0"/></div><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">

</div>
<div class="pSmartList1"><ul class="pSmartList1">
<div class="pSmartList2"><ul class="pSmartList2">
<a name="wp2940726"> </a><div class="pSmartList2"><li>Cliquez sur le bouton <b class="cBold">[+]</b> en haut à droite de l&#39;éditeur afin d&#39;ajouter une table de sortie. Dans la boîte de dialogue qui s&#39;ouvre, sélectionnez <b class="cBold">New output</b>. Dans le champ correspondant, saisissez le nom de la table, <em class="cEmphasis">out1</em>. Cliquez sur <b class="cBold">OK</b>.</li></div>
<a name="wp2937782"> </a><div class="pSmartList2"><li>Ensuite, glissez-déposez les quatre colonnes suivantes de la table d&#39;entrée dans la table <em class="cEmphasis">out1</em>&#160;: <em class="cEmphasis">id</em>, <em class="cEmphasis">CustomerName</em>, <em class="cEmphasis">CustomerAddress</em>, et <em class="cEmphasis">idState</em> et <em class="cEmphasis">labelState</em>.</li></div>
<a name="wp2937801"> </a><div class="pSmartList2"><li>Ajoutez deux colonnes <em class="cEmphasis">RegTime</em> et <em class="cEmphasis">RegisterTime</em> avec un format Date, en cliquant deux fois sur le bouton <b class="cBold">[+]</b>.</li></div>
<a name="wp2937811"> </a><div class="pSmartList2"><li>Cliquez sur la première, et appuyez sur <b class="cBold">Ctrl+Espace</b> pour afficher la liste d&#39;autocomplétion. Sélectionnez <code class="cCode">TalendDate.parseDate</code>. Changez le modèle en <code class="cCode">(&quot;dd/MM/yyyy HH:mm&quot;,row1.RegTime)</code>.</li></div>
<a name="wp2937823"> </a><div class="pSmartList2"><li>Répétez l&#39;opération pour la seconde colonne, mais changez le modèle en <code class="cCode">(&quot;yyyy-MM-dd HH:mm:ss.SSS&quot;,row1.RegisterTime)</code>.</li></div>
</ul></div>
</ul></div>
<a name="wp2939596"> </a><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">
</div>
<div align="center"><img src="../Images/Use_Case_tMapoutputtables4bis.png" id="wp2940749" border="0" hspace="0" vspace="0"/></div><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">

</div>
<div class="pSmartList1"><ul class="pSmartList1">
<div class="pSmartList2"><ul class="pSmartList2">
<a name="wp2940752"> </a><div class="pSmartList2"><li>Ensuite, cliquez sur le bouton <b class="cBold">[+]</b> en haut à droite de l&#39;éditeur, afin d&#39;ajouter une table de sortie. Dans la boîte de dialogue qui s&#39;ouvre, sélectionnez <b class="cBold">Create join table from</b>, choisissez <em class="cEmphasis">Out1</em>, et donnez le nom <em class="cEmphasis">rejectInner</em>. Cliquez sur <b class="cBold">OK</b>.</li></div>
<a name="wp2940497"> </a><div class="pSmartList2"><li>Cliquez sur le bouton <b class="cBold">tMap Settings</b> et sélectionnez <b class="cBold">true</b> pour <em class="cEmphasis">Catch lookup inner join reject</em>, afin de gérer les rejets.</li></div>
<a name="wp2939620"> </a><div class="pSmartList2"><li>Cliquez sur la colonne <em class="cEmphasis">LabelState</em>, et appelez-la &quot;UNKNOWN&quot;.</li></div>
<a name="wp2939632"> </a><div class="pSmartList2"><li> Dans la colonne <em class="cEmphasis">RegTime</em>, appuyez sur <b class="cBold">Ctrl+Espace</b>, et sélectionnez <code class="cCode">TalendDate.parseDate</code>. Changez le modèle en <code class="cCode">(&quot;dd/MM/yyyy HH:mm&quot;,row1.RegTime.)</code></li></div>
<a name="wp2939648"> </a><div class="pSmartList2"><li>Dans la colonne <em class="cEmphasis">RegisterTime</em>, appuyez sur <b class="cBold">Ctrl+Espace</b>, et sélectionnez <code class="cCode">TalendDate.parseDate</code>, mais changez le modèle en <code class="cCode">(&quot;yyyy-MM-dd HH:mm:ss.SSS&quot;,row1.RegisterTime)</code>.</li></div>
<a name="wp2939785"> </a><div class="pSmartList2"><li>Si les données de la ligne <em class="cEmphasis">row1</em> a un modèle incorrect, elles seront retournées par le flux <em class="cEmphasis">ErrorReject</em>.</li></div>
<a name="wp2939792"> </a><div class="pSmartList2"><li>Cliquez sur <b class="cBold">OK</b> afin de valider les modifications et fermer l&#39;éditeur. </li></div>
<a name="wp2939802"> </a><div class="pSmartList2"><li>Double-cliquez sur le composant <b class="cBold">tLogRow</b> afin d&#39;afficher sa vue <b class="cBold">Component</b>.</li></div>
<a name="wp2939812"> </a><div class="pSmartList2"><li>Dans la zone <b class="cBold">Mode</b>, sélectionnez <b class="cBold">Table.</b> </li></div>
<a name="wp2939819"> </a><div class="pSmartList2"><li>Répétez l&#39;opération avec le second <b class="cBold">tLogRow</b>.</li></div>
<a name="wp2939827"> </a><div class="pSmartList2"><li>Ensuite, sauvegardez votre Job et appuyez sur <b class="cBold">F6</b> pour l&#39;exécuter. </li></div>
</ul></div>
</ul></div>
<a name="wp2808506"> </a><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">
</div>
<div align="center"><img src="../Images/Use_Case_tMapoutputtables5.png" id="wp2940780" border="0" hspace="0" vspace="0"/></div><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">

</div>
<a name="wp2940783"> </a><p class="pIndented1">
La <b class="cBold">Console</b> affiche les flux principaux et de rejet, traités par le composant <b class="cBold">tMap</b>, et unifiés en un même flux de sortie.
</p>
<a name="wp3666878"> </a><p class="pIndented1">
Pour des exemples d&#39;utilisation des schémas dynamiques avec le <b class="cBold">tMap</b>, consultez&#160;:
</p>
<div class="pSmartList1"><ul class="pSmartList1">
<div class="pSmartList2"><ul class="pSmartList2">
<a name="wp3666888"> </a><div class="pSmartList2"><li><a href="tMysqlInput_Scenario.html#wp3857913"><em class="cEmphasis">Scénario&#160;: Ecrire des colonnes dynamiques d&#39;une base de données MySQL vers un fichier de sortie</em></a>.</li></div>
<a name="wp3666897"> </a><div class="pSmartList2"><li><a href="tMysqlOutput_Scenario.html#wp3662803"><em class="cEmphasis">Scénario 4&#160;: Ecrire des colonnes dynamiques d&#39;un fichier source vers une base de données MySQL</em></a>.</li></div>
</ul></div>
</ul></div>
    </blockquote>
    <hr>

    <!--table align="right" border="0" cellspacing="0" cellpadding="0">
      <tr>
        <td align="right"><font size="1">
          <a href="http://www.webworks.com"><img src="images/webworks.gif" width="150" height="20" border="0"></a><br>
            Quadralay Corporation<br>
            http://www.webworks.com<br>
            Voice: (512) 719-3399<br>
            Fax: (512) 719-3606<br>
          <a href="mailto:sales@webworks.com">sales@webworks.com</a><br>
        </font></td>
      </tr>
    </table-->

    <!--table width="220" border="0" cellpadding="0" cellspacing="0">
      <tr> 
        <td>
<a accesskey="4" href="tMap_Prop.html"><img id="LongDescNotReq3" src="images/prev.gif" border="0" alt="Previous" /></a><a accesskey="5" href="tNormalize_Prop.html"><img id="LongDescNotReq4" src="images/next.gif" border="0" alt="Next" /></a>
        </td>
      </tr>
    </table-->
  </body>
</html>
