<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN" "http://www.w3.org/MarkUp/Wilbur/HTML32.dtd">
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
    <meta name="GENERATOR" content="Quadralay WebWorks Publisher Standard Edition 8.0.5337.0">
    <meta name="TEMPLATEBASE" content="Dynamic HTML">
    <meta name="LASTUPDATED" content="10/04/10 20:00:44">
    <title>Scénario&#160;1&#160;: Ajouter une colonne et modifier les données</title>
  </head>

  <body link="#3366CC" vlink="#9999CC" text="#000000" alink="#0000CC" bgcolor="#FFFFFF">

    <!--table width="220" border="0" align="right" cellpadding="0" cellspacing="0">
      <tr> 
        <td>
<a accesskey="4" href="tMysqlOutput_Prop.html"><img id="LongDescNotReq1" src="images/prev.gif" border="0" alt="Previous" /></a><a accesskey="5" href="tMysqlOutputBulk_Prop.html"><img id="LongDescNotReq2" src="images/next.gif" border="0" alt="Next" /></a>
        </td>
      </tr>
    </table-->

    <!--img src="images/wwplogo.gif" width="122" height="63" alt="Put your logo here!">
    <hr align="left"-->

    <blockquote>
<a name="wp2737906"> </a><div style="color: #000000; font-size: 12pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">

</div>
<a name="wp2737914"> </a><h2 class="pHeading2">
Scénario&#160;1&#160;: Ajouter une colonne et modifier les données
</h2>
<a name="wp2743386"> </a><p class="pIndented1">
Ce scénario Java est un Job à trois composants permettant de créer de manière aléatoire des données de test à l&#39;aide du composant <b class="cBold">tRowGenerator</b>, dupliquer la colonne à modifier à l&#39;aide du composant <b class="cBold">tMap</b> et de modifier les données à insérer en utilisant une expression SQL dans le composant <b class="cBold">tMysqlOutput</b>.
</p>
<div class="pSmartList1"><ul class="pSmartList1">
<div class="pSmartList2"><ul class="pSmartList2">
<a name="wp2737935"> </a><div class="pSmartList2"><li>Cliquez et déposez les composants suivants dans l&#39;éditeur graphique&#160;: <b class="cBold">tRowGenerator</b>, <b class="cBold">tMap</b> et <b class="cBold">tMysqlOutput</b>.</li></div>
<a name="wp2737950"> </a><div class="pSmartList2"><li>Connectez-les à l&#39;aide de liens <b class="cBold">Row Main</b>.</li></div>
</ul></div>
</ul></div>
<a name="wp2737957"> </a><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">
</div>
<div align="center"><img src="../Images/Use_Case_tMySQLOutput1.png" id="wp2737954" border="0" hspace="0" vspace="0"/></div><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">

</div>
<div class="pSmartList1"><ul class="pSmartList1">
<div class="pSmartList2"><ul class="pSmartList2">
<a name="wp2737967"> </a><div class="pSmartList2"><li>Dans l&#39;éditeur graphique, double-cliquez sur le <b class="cBold">tRowGenerator</b> pour afficher l&#39;onglet <b class="cBold">Basic settings</b>.</li></div>
</ul></div>
</ul></div>
<a name="wp2737977"> </a><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">
</div>
<div align="center"><img src="../Images/Use_Case_tMySQLOutput2.png" id="wp2737974" border="0" hspace="0" vspace="0"/></div><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">

</div>
<div class="pSmartList1"><ul class="pSmartList1">
<div class="pSmartList2"><ul class="pSmartList2">
<a name="wp2737989"> </a><div class="pSmartList2"><li>Dans la liste <b class="cBold">Schema</b>, sélectionnez l&#39;option <b class="cBold">Built-In</b>.</li></div>
<a name="wp2737995"> </a><div class="pSmartList2"><li>Cliquez sur le bouton <b class="cBold">[...]</b> à côté du champ <b class="cBold">Edit schema</b> pour définir les données à transmettre au composant <b class="cBold">tMap</b>, dans ce scénario, les deux colonnes <em class="cEmphasis">name</em> et <em class="cEmphasis">random_date</em>.</li></div>
</ul></div>
</ul></div>
<a name="wp2738013"> </a><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">
</div>
<div align="center"><img src="../Images/Use_Case_tMySQLOutput3.png" id="wp2738010" border="0" hspace="0" vspace="0"/></div><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">

</div>
<div class="pSmartList1"><ul class="pSmartList1">
<div class="pSmartList2"><ul class="pSmartList2">
<a name="wp2738022"> </a><div class="pSmartList2"><li>Cliquez sur <b class="cBold">OK</b> pour fermer la boîte de dialogue.</li></div>
<a name="wp2738028"> </a><div class="pSmartList2"><li>Cliquez sur le bouton<b class="cBold"> [...]</b> à côté du champ <b class="cBold">RowGenerator Editor</b> pour ouvrir l&#39;éditeur du <b class="cBold">tRowGenerator</b> pour paramétrer les données à générer.</li></div>
</ul></div>
</ul></div>
<a name="wp2738040"> </a><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">
</div>
<div align="center"><img src="../Images/Use_Case_tMySQLOutput4.png" id="wp2738037" border="0" hspace="0" vspace="0"/></div><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">

</div>
<div class="pSmartList1"><ul class="pSmartList1">
<div class="pSmartList2"><ul class="pSmartList2">
<a name="wp2738048"> </a><div class="pSmartList2"><li>Cliquez dans le champ <b class="cBold">Functions</b> correspondant et sélectionnez une fonction pour chacune des deux colonnes, <code class="cCode">getFirstName</code> pour la colonne <em class="cEmphasis">name</em> et <code class="cCode">getrandomDate</code> pour la colonne <em class="cEmphasis">random_date</em>.</li></div>
<a name="wp2738067"> </a><div class="pSmartList2"><li>Dans le champ <b class="cBold">Number of Rows for Rowgenerator</b>, saisissez 10 pour ne générer que dix lignes de prénoms et cliquez sur <b class="cBold">Ok</b> pour fermer l&#39;éditeur.</li></div>
<a name="wp2738077"> </a><div class="pSmartList2"><li>Double-cliquez sur le composant <b class="cBold">tMap</b> pour ouvrir l&#39;éditeur du <b class="cBold">tMap</b>. L&#39;éditeur s&#39;ouvre et affiche les données d&#39;entrée du composant<b class="cBold"> tRowGenerator</b>.</li></div>
</ul></div>
</ul></div>
<a name="wp2738089"> </a><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">
</div>
<div align="center"><img src="../Images/Use_Case_tMySQLOutput5.png" id="wp2738086" border="0" hspace="0" vspace="0"/></div><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">

</div>
<div class="pSmartList1"><ul class="pSmartList1">
<div class="pSmartList2"><ul class="pSmartList2">
<a name="wp2738097"> </a><div class="pSmartList2"><li>Dans le panneau <b class="cBold">Schema editor</b> de l&#39;éditeur du tMap, cliquez sur le bouton <b class="cBold">[+]</b> de la table de sortie pour ajouter deux lignes et nommez la première colonne <em class="cEmphasis">random_date</em> et la deuxième <em class="cEmphasis">random_date1</em>.</li></div>
</ul></div>
</ul></div>
<a name="wp2738112"> </a><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">
</div>
<div align="center"><img src="../Images/Use_Case_tMySQLOutput6.png" id="wp2738109" border="0" hspace="0" vspace="0"/></div><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">

</div>
<a name="wp2738118"> </a><p class="pIndented1">
Dans ce scénario, l&#39;objectif est de dupliquer la colonne <em class="cEmphasis">random_date</em> et adapter le schéma afin de modifier les données à transférer dans le composant de sortie.
</p>
<div class="pSmartList1"><ul class="pSmartList1">
<div class="pSmartList2"><ul class="pSmartList2">
<a name="wp2738127"> </a><div class="pSmartList2"><li>Dans l&#39;éditeur du <b class="cBold">tMap</b>, glissez la ligne <em class="cEmphasis">random_date</em> de la table d&#39;entrée vers les lignes <em class="cEmphasis">random_date</em> et <em class="cEmphasis">random_date1 </em>de la table de sortie.</li></div>
</ul></div>
</ul></div>
<a name="wp2738142"> </a><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">
</div>
<div align="center"><img src="../Images/Use_Case_tMySQLOutput7.png" id="wp2738139" border="0" hspace="0" vspace="0"/></div><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">

</div>
<div class="pSmartList1"><ul class="pSmartList1">
<div class="pSmartList2"><ul class="pSmartList2">
<a name="wp2738151"> </a><div class="pSmartList2"><li>Cliquez sur <b class="cBold">OK</b> pour fermer l&#39;éditeur.</li></div>
<a name="wp2738157"> </a><div class="pSmartList2"><li>Dans l&#39;éditeur graphique, double-cliquez sur le composant <b class="cBold">tMysqlOutput</b> pour afficher l&#39;onglet <b class="cBold">Basic settings</b> et paramétrer ses propriétés.</li></div>
</ul></div>
</ul></div>
<a name="wp2738169"> </a><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">
</div>
<div align="center"><img src="../Images/Use_Case_tMySQLOutput8.png" id="wp2738166" border="0" hspace="0" vspace="0"/></div><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">

</div>
<div class="pSmartList1"><ul class="pSmartList1">
<div class="pSmartList2"><ul class="pSmartList2">
<a name="wp2738180"> </a><div class="pSmartList2"><li>Dans la liste <b class="cBold">Property Type</b>, sélectionnez l&#39;option <b class="cBold">Repository</b> et cliquez sur le bouton <b class="cBold">[...]</b> pour ouvrir la boîte de dialogue <b class="cBold">[Repository content]</b> et sélectionnez la connexion à la base de données adéquate. Les informations de connexion sont renseignées automatiquement.</li></div>
<a name="wp2738193"> </a><p class="pBodyRelative">
<br />
<img src="../Images/bulb_small.png" align="left" id="wp2738189" border="0" hspace="0" vspace="0"/><br />
Si vous n&#39;avez pas stocké de connexion à votre base de données sous le noeud <b class="cBold">DB connections</b> sous le noeud <b class="cBold">Metadata</b> du <b class="cBold">Repository</b>, sélectionnez l&#39;option <b class="cBold">Built-in</b> dans la liste Property Type et renseignez les informations de connexion manuellement.
</p>
<a name="wp2738212"> </a><div class="pSmartList2"><li>Cliquez sur le bouton <b class="cBold">[...]</b> à côté du champ <b class="cBold">Table</b> et sélectionnez la table à modifier&#160;: la table <em class="cEmphasis">Dates</em> dans ce scénario.</li></div>
<a name="wp2748533"> </a><div class="pSmartList2"><li>Dans la liste <b class="cBold">Action on table</b>, sélectionnez l&#39;option <b class="cBold">Drop table if exists and create</b> et sélectionnez <em class="cEmphasis">Insert</em> dans la liste <b class="cBold">Action on data</b>.</li></div>
<a name="wp2738244"> </a><div class="pSmartList2"><li>Si nécessaire, cliquez sur <b class="cBold">Sync columns</b> pour récupérer le schéma de colonnes du composant <b class="cBold">tMap</b>.</li></div>
<a name="wp2738254"> </a><div class="pSmartList2"><li>Cliquez sur l&#39;onglet <b class="cBold">Advanced settings</b> pour afficher la vue correspondante et définir les paramètres avancés du composant.</li></div>
</ul></div>
</ul></div>
<a name="wp2738263"> </a><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">
</div>
<div align="center"><img src="../Images/Use_Case_tMySQLOutput10.png" id="wp2738260" border="0" hspace="0" vspace="0"/></div><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">

</div>
<div class="pSmartList1"><ul class="pSmartList1">
<div class="pSmartList2"><ul class="pSmartList2">
<a name="wp2738271"> </a><div class="pSmartList2"><li>Dans la zone <b class="cBold">Additional Columns</b>, paramétrez les modifications à appliquer aux colonnes.<br />Dans ce scénario, la colonne <em class="cEmphasis">One_month_later</em> remplace la colonne <em class="cEmphasis">random_date_1</em> et les données aussi sont modifiées à l&#39;aide d&#39;une requête SQL ajoutant un mois à la date générée aléatoirement dans la colonne <em class="cEmphasis">random_date_1</em>. Par exemple&#160;: 2007-08-12 devient 2007-09-12.<br />-Saisissez <em class="cEmphasis">One_Month_Later</em> dans la cellule <b class="cBold">Name</b>.<br />-Dans la cellule <b class="cBold">SQL expression</b>, saisissez la requête SQL ajoutant un mois, dans ce scénario&#160;: <code class="cCode">&quot;adddate(Random_date, interval 1 month)&quot;</code>.<br />-Sélectionnez <b class="cBold">Replace</b> dans la liste <b class="cBold">Position</b>.<br />-Sélectionnez <em class="cEmphasis">Random_date1</em> dans la liste <b class="cBold">Reference column</b>.</li></div>
<a name="wp2738318"> </a><p class="pBodyRelative">
<br />
<img src="../Images/bulb_small.png" align="left" id="wp2738313" border="0" hspace="0" vspace="0"/><br />
Pour ce Job, vous dupliquez la colonne <em class="cEmphasis">random_date_1</em> dans la table avant de la remplacer par la colonne <em class="cEmphasis">One_Month_Later</em>. Le but de cette manipulation était de voir les modifications apportées en amont.
</p>
<a name="wp2738332"> </a><div class="pSmartList2"><li>Enregistrez le Job et appuyez sur <b class="cBold">F6</b> pour l&#39;exécuter.</li></div>
</ul></div>
</ul></div>
<a name="wp2738341"> </a><p class="pIndented1">
La nouvelle colonne <em class="cEmphasis">One_month_later</em> remplace la colonne <em class="cEmphasis">random_date1</em> dans la base de données et ajoute un mois à chaque date générée aléatoirement.
</p>
<a name="wp2738349"> </a><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">
</div>
<div align="center"><img src="../Images/Use_Case_tMySQLOutput9.png" id="wp2738346" border="0" hspace="0" vspace="0"/></div><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">

</div>
<a name="wp2738355"> </a><p class="pIndented1">
Voir également&#160;: le <a href="tDBOutput_Scenario.html#wp3724897"><em class="cEmphasis">Scénario&#160;: Afficher la base de données en sortie</em></a> du composant <b class="cBold">tDBOutput</b>. 
</p>
<a name="wp2738367"> </a><h2 class="pHeading2">
Scénario&#160;2&#160;: Effectuer des mises à jour dans une base de données
</h2>
<a name="wp3037332"> </a><p class="pIndented1">
Ce scénario Java est un Job à deux composants permettant de mettre à jour les données d&#39;une table MySQL à partir d&#39;un fichier délimité. 
</p>
<div class="pSmartList1"><ul class="pSmartList1">
<div class="pSmartList2"><ul class="pSmartList2">
<a name="wp2742941"> </a><div class="pSmartList2"><li>A partir de la <b class="cBold">Palette</b>, cliquez et déposez les composants <b class="cBold">tFileInputDelimited</b> et <b class="cBold">tMysqlOutput</b> dans l&#39;éditeur graphique puis connectez-les à l&#39;aide d&#39;un lien <b class="cBold">Row Main</b>.</li></div>
</ul></div>
</ul></div>
<a name="wp2738404"> </a><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">
</div>
<div align="center"><img src="../Images/Use_Case_tMySQLOutput11.png" id="wp2738401" border="0" hspace="0" vspace="0"/></div><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">

</div>
<div class="pSmartList1"><ul class="pSmartList1">
<div class="pSmartList2"><ul class="pSmartList2">
<a name="wp2740229"> </a><div class="pSmartList2"><li>Dans l&#39;éditeur graphique, double-cliquez sur le <b class="cBold">tFileInputDelimited</b> pour afficher l&#39;onglet <b class="cBold">Basic settings</b>.</li></div>
<a name="wp2740236"> </a><div class="pSmartList2"><li>Dans le champ <b class="cBold">Property Type</b>, sélectionnez le mode <b class="cBold">Repository</b> si vous avez stocké les informations du fichier délimité sous le noeud <b class="cBold">Metadata</b> du <b class="cBold">Repository</b> ou sélectionnez le mode <b class="cBold">Built-In</b> pour les définir manuellement. Dans ce scénario, on utilise le mode <b class="cBold">Built-In</b>.</li></div>
</ul></div>
</ul></div>
<a name="wp2738496"> </a><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">
</div>
<div align="center"><img src="../Images/Use_Case_tMySQLOutput12.png" id="wp2738493" border="0" hspace="0" vspace="0"/></div><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">

</div>
<div class="pSmartList1"><ul class="pSmartList1">
<div class="pSmartList2"><ul class="pSmartList2">
<a name="wp2742551"> </a><div class="pSmartList2"><li>Dans le champ <b class="cBold">File Name</b>, renseignez manuellement le chemin d&#39;accès au fichier contenant les mises à jour à propager dans la base de données ou cliquez sur le bouton<b class="cBold"> [...] </b>pour parcourir vos dossiers jusqu&#39;à ce fichier. Dans cet exemple, on utilise le fichier <em class="cEmphasis">customer_update</em>, qui comporte quatre colonnes, <em class="cEmphasis">id</em>, <em class="cEmphasis">CustomerName</em>, <em class="cEmphasis">CustomerAddress </em>et <em class="cEmphasis">idState</em>. </li></div>
</ul></div>
</ul></div>
<a name="wp2741605"> </a><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">
</div>
<div align="center"><img src="../Images/Use_Case_tMysqlOutput16.png" id="wp2741714" border="0" hspace="0" vspace="0"/></div><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">

</div>
<div class="pSmartList1"><ul class="pSmartList1">
<div class="pSmartList2"><ul class="pSmartList2">
<a name="wp2742592"> </a><div class="pSmartList2"><li>Définissez si nécessaire les séparateurs de lignes (<b class="cBold">Row separator</b>) et de champs (<b class="cBold">Field separator</b>), l&#39;en-tête (<b class="cBold">Header</b>) et le pied-de-page (<b class="cBold">Footer</b>), ainsi que le nombre de lignes à traiter (<b class="cBold">Limit</b>). La première ligne, qui porte le nom des colonnes, est ignorée dans cet exemple, c&#39;est pourquoi le champ <b class="cBold">Header</b> est défini à &quot;1&quot;. </li></div>
<a name="wp2743174"> </a><div class="pSmartList2"><li>Dans le champ <b class="cBold">Schema</b>, sélectionnez le mode <b class="cBold">Built in</b> puis cliquez sur le bouton <b class="cBold">[...]</b> à côté du champ <b class="cBold">Edit Schema </b>pour définir les données à passer au composant suivant. Dans cet exemple, le schéma est constitué de quatre colonnes, <em class="cEmphasis">id</em>, <em class="cEmphasis">CustomerName</em>, <em class="cEmphasis">CustomerAddress </em>et <em class="cEmphasis">idState</em>.</li></div>
</ul></div>
</ul></div>
<a name="wp2741668"> </a><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">
</div>
<div align="center"><img src="../Images/Use_Case_tMySQLOutput13.png" id="wp2740802" border="0" hspace="0" vspace="0"/></div><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">

</div>
<div class="pSmartList1"><ul class="pSmartList1">
<div class="pSmartList2"><ul class="pSmartList2">
<a name="wp2740882"> </a><div class="pSmartList2"><li>Devant le nom de chaque colonne se trouve une case <em class="cEmphasis">Key</em>. Cochez cette case pour la ou les colonne(s) que vous voulez définir comme clé. </li></div>
<a name="wp2741257"> </a><p class="pBodyRelative">
<br />
<img src="../Images/bulb_small.png" align="left" id="wp2741255" border="0" hspace="0" vspace="0"/><br />
Vous devez obligatoirement définir au moins une clé pour que le Job s&#39;exécute. Dans le cas contraire, le Job s&#39;arrête automatiquement et un message d&#39;erreur s&#39;affiche dans la console de log. 
</p>
<a name="wp2742231"> </a><div class="pSmartList2"><li>Dans l&#39;éditeur graphique, double-cliquez sur le composant <b class="cBold">tMysqlOutput</b> pour paramétrer ses propriétés dans l&#39;onglet <b class="cBold">Basic settings</b> de la vue <b class="cBold">Component</b>&#160;: </li></div>
</ul></div>
</ul></div>
<a name="wp2742246"> </a><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">
</div>
<div align="center"><img src="../Images/Use_Case_tMysqlOutput15.png" id="wp2742243" border="0" hspace="0" vspace="0"/></div><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">

</div>
<div class="pSmartList1"><ul class="pSmartList1">
<div class="pSmartList2"><ul class="pSmartList2">
<a name="wp2742254"> </a><div class="pSmartList2"><li>Cliquez sur le bouton <b class="cBold">Sync columns</b> pour récupérer le schéma du composant précédent. Vous pouvez cliquer sur le bouton <b class="cBold">[...]</b> à côté du champ <b class="cBold">Edit schema</b> pour consulter le schéma et vérifier qu&#39;au moins une colonne a été définie comme clé. </li></div>
<a name="wp2742270"> </a><div class="pSmartList2"><li>Dans le champ <b class="cBold">Property Type</b>, sélectionnez <b class="cBold">Repository</b> si vous avez stocké les informations de connexion à la base de données sous le noeud <b class="cBold">Metadata</b> du <b class="cBold">Repository</b> ou sélectionnez le mode <b class="cBold">Built-In</b>, puis renseignez manuellement les champs suivants&#160;: <b class="cBold">Host</b>, <b class="cBold">Port</b>, <b class="cBold">Database</b>, <b class="cBold">Username</b> et <b class="cBold">Password</b>. </li></div>
<a name="wp2742301"> </a><div class="pSmartList2"><li>Dans le champ <b class="cBold">Table</b>, saisissez le nom de la table à mettre à jour.</li></div>
<a name="wp2748502"> </a><div class="pSmartList2"><li>Dans le champ <b class="cBold">Action on table</b>, sélectionnez l&#39;opération que vous souhaitez effectuer sur la table. Pour ce scénario, sélectionnez <b class="cBold">None</b> car la table existe déjà.</li></div>
<a name="wp2748512"> </a><div class="pSmartList2"><li>Dans le champ <b class="cBold">Action on data</b>, sélectionnez l&#39;opération que vous souhaitez effectuer sur les données. Pour ce scénario, sélectionnez l&#39;option <b class="cBold">Update</b> pour mettre la table à jour.</li></div>
<a name="wp2742330"> </a><div class="pSmartList2"><li>Enregistrez le Job puis appuyez sur <b class="cBold">F6</b> pour l&#39;exécuter. </li></div>
</ul></div>
</ul></div>
<a name="wp2742419"> </a><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">
</div>
<div align="center"><img src="../Images/Use_Case_tMySQLOutput20.png" id="wp2742440" border="0" hspace="0" vspace="0"/></div><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">

</div>
<a name="wp2908051"> </a><p class="pIndented1">
A partir de votre explorateur de base de données, vous pouvez vérifier que la table <em class="cEmphasis">customers</em> a bien été mise à jour. Comme avant sa mise à jour, elle se présente sous la forme des quatre colonnes <em class="cEmphasis">id</em>, <em class="cEmphasis">CustomerName</em>, <em class="cEmphasis">CustomerAddress </em>et <em class="cEmphasis">idState</em>, mais certains champs ont été modifiés selon les données du fichier délimité <em class="cEmphasis">customer_update</em>. 
</p>
<a name="wp2908076"> </a><h2 class="pHeading2">
Scénario&#160;3&#160;: Récupérer les données erronées à l&#39;aide d&#39;un lien Reject
</h2>
<a name="wp2908080"> </a><p class="pIndented1">
Ce scénario décrit un Job à quatre composants effectuant une migration d&#39;un fichier client vers la table d&#39;une base de données MySQL et redirigeant les données erronées vers un fichier CSV à l&#39;aide d&#39;un lien <b class="cBold">Reject</b>. 
</p>
<a name="wp2908088"> </a><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">
</div>
<div align="center"><img src="../Images/Use_Case_tMySQLOutput3_1.png" id="wp2908085" border="0" hspace="0" vspace="0"/></div><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">

</div>
<div class="pSmartList1"><ul class="pSmartList1">
<div class="pSmartList2"><ul class="pSmartList2">
<a name="wp2908093"> </a><div class="pSmartList2"><li>Dans le <b class="cBold">Repository</b>, sélectionnez la métadonnée correspondant au fichier client que vous souhaitez migrer et glissez-la dans l&#39;espace de modélisation. Dans la boîte de dialogue <b class="cBold">[Components]</b>, sélectionnez <b class="cBold">tFileInputDelimited</b> et cliquez sur <b class="cBold">OK</b>. Les propriétés du composant seront automatiquement renseignées.</li></div>
<a name="wp2908097"> </a><div class="pSmartList2"><li>Si vous n&#39;avez pas enregistré les informations concernant votre fichier client sous le noeud <b class="cBold">Metadata</b> du <b class="cBold">Repository</b>. Glissez un composant <b class="cBold">tFileInputDelimited</b> de la famille <b class="cBold">File</b>&#160;&gt;&#160;<b class="cBold">Input</b> de la <b class="cBold">Palette</b> et renseignez ses propriétés manuellement dans la vue <b class="cBold">Component</b>.</li></div>
<a name="wp2908101"> </a><div class="pSmartList2"><li>A partir de la <b class="cBold">Palette</b>, glissez un composant <b class="cBold">tMap</b> de la famille <b class="cBold">Processing</b> dans l&#39;espace de modélisation.</li></div>
<a name="wp3017717"> </a><div class="pSmartList2"><li>Dans le <b class="cBold">Repository</b>, développez le noeud <b class="cBold">Metadata</b> et <b class="cBold">Db Connections,</b> et sélectionnez la métadonnée de connexion à la base de données dans laquelle vous souhaitez migrer vos données et glissez-la dans l&#39;espace de modélisation. Dans la boîte de dialogue <b class="cBold">[Components]</b>, sélectionnez <b class="cBold">tMysqlOutput</b> et cliquez sur <b class="cBold">OK</b>. Les propriétés de connexion à la base de données seront automatiquement renseignées.</li></div>
<a name="wp2908109"> </a><div class="pSmartList2"><li>Si vous n&#39;avez pas enregistré les informations de connexion à votre base de données sous le noeud <b class="cBold">Db Connections</b> du <b class="cBold">Repository</b>. Glissez un composant <b class="cBold">tMysqlOutput</b> de la famille <b class="cBold">Databases</b> de la <b class="cBold">Palette</b> et renseignez ses propriétés manuellement dans la vue <b class="cBold">Component</b>. </li></div>
</ul></div>
</ul></div>
<a name="wp2908119"> </a><p class="pIndented1">
Pour plus d&#39;informations, consultez <em class="cEmphasis">Paramétrer un schéma built-in</em> et <em class="cEmphasis">Paramétrer un schéma du Repository</em> du <b class="cBold">Guide Utilisateur</b> <b class="cBold">Talend Open Studio</b>. 
</p>
<div class="pSmartList1"><ul class="pSmartList1">
<div class="pSmartList2"><ul class="pSmartList2">
<a name="wp2908129"> </a><div class="pSmartList2"><li>A partir de la <b class="cBold">Palette</b>, sélectionnez un composant <b class="cBold">tFileOutputDelimited</b> de la famille <b class="cBold">File</b>&#160;&gt;&#160;<b class="cBold">Output</b> et glissez-le dans l&#39;espace de modélisation.</li></div>
<a name="wp2908520"> </a><div class="pSmartList2"><li>Reliez les composant <b class="cBold">customers</b> et <b class="cBold">tMap</b>, et les composants <b class="cBold">tMap</b> et <b class="cBold">Localhost</b> à l&#39;aide d&#39;un lien de type <b class="cBold">Row Main</b>. Vous nommerez ce deuxième lien <em class="cEmphasis">out</em>.</li></div>
<a name="wp2908565"> </a><div class="pSmartList2"><li>Reliez le composant <b class="cBold">Localhost</b> au <b class="cBold">tFileOutputDelimited</b> à l&#39;aide d&#39;un lien de type <b class="cBold">Row</b>&#160;&gt;&#160;<b class="cBold">Reject</b>.</li></div>
<a name="wp2908135"> </a><div class="pSmartList2"><li>Double-cliquez sur le composant <b class="cBold">customers</b> pour afficher la vue <b class="cBold">Component</b> correspondante. </li></div>
</ul></div>
</ul></div>
<a name="wp2908142"> </a><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">
</div>
<div align="center"><img src="../Images/Use_Case_tMySQLOutput3_2.png" id="wp2908139" border="0" hspace="0" vspace="0"/></div><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">

</div>
<div class="pSmartList1"><ul class="pSmartList1">
<div class="pSmartList2"><ul class="pSmartList2">
<a name="wp2908147"> </a><div class="pSmartList2"><li>Dans la liste <b class="cBold">Property Type</b>, sélectionnez le mode <b class="cBold">Repository</b> puis cliquez sur le bouton <b class="cBold">[...]</b> correspondant pour sélectionner la métadonnée contenant la connexion à votre fichier. Sinon, sélectionnez le mode <b class="cBold">Built-in</b> et paramétrez manuellement les champs suivants.</li></div>
<a name="wp2908151"> </a><div class="pSmartList2"><li>Cliquez sur le bouton <b class="cBold">[...]</b> à côté du champ <b class="cBold">File Name</b>, et indiquez le chemin d&#39;accès et le nom du fichier à utiliser.</li></div>
<a name="wp2908155"> </a><div class="pSmartList2"><li>Dans les champs <b class="cBold">Row</b> et <b class="cBold">Field Separator</b>, saisissez entre guillemets les séparateurs de lignes et de champs utilisés dans le fichier.</li></div>
<a name="wp2908159"> </a><div class="pSmartList2"><li>Dans les champs <b class="cBold">Header</b>, <b class="cBold">Footer</b> et <b class="cBold">Limit</b>, saisissez le nombre de ligne d&#39;en-tête et de pied-de-page à ignorer, ainsi que le nombre de ligne limite à traiter.</li></div>
<a name="wp2908163"> </a><div class="pSmartList2"><li>Dans la liste <b class="cBold">Schema</b>, sélectionnez <b class="cBold">Repository</b> et cliquez sur le bouton <b class="cBold">[...]</b> correspondant pour sélectionner le schéma de votre fichier, s&#39;il est stocké sous le noeud <b class="cBold">Metadata</b> du <b class="cBold">Repository</b>. Sinon cliquez sur le bouton <b class="cBold">[...]</b> correspondant au champ <b class="cBold">Edit schema</b> et définissez manuellement le schéma de votre fichier. </li></div>
</ul></div>
</ul></div>
<a name="wp2908169"> </a><p class="pIndented1">
Le schéma se présente comme suit&#160;:
</p>
<a name="wp2908176"> </a><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">
</div>
<div align="center"><img src="../Images/Use_Case_tMySQLOutput3_3.png" id="wp2908173" border="0" hspace="0" vspace="0"/></div><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">

</div>
<div class="pSmartList1"><ul class="pSmartList1">
<div class="pSmartList2"><ul class="pSmartList2">
<a name="wp2908805"> </a><div class="pSmartList2"><li>Double-cliquez sur le <b class="cBold">tMap</b> afin d&#39;ouvrir son éditeur. </li></div>
</ul></div>
</ul></div>
<a name="wp2908812"> </a><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">
</div>
<div align="center"><img src="../Images/Use_Case_tMySQLOutput3_4.png" id="wp2908809" border="0" hspace="0" vspace="0"/></div><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">

</div>
<div class="pSmartList1"><ul class="pSmartList1">
<div class="pSmartList2"><ul class="pSmartList2">
<a name="wp2908821"> </a><div class="pSmartList2"><li>Sélectionnez les colonnes <em class="cEmphasis">id</em>, <em class="cEmphasis">CustomerName</em>, <em class="cEmphasis">CustomerAddress</em>, <em class="cEmphasis">idSate</em>, <em class="cEmphasis">id2</em>, <em class="cEmphasis">RegTime</em>, <em class="cEmphasis">RegisterTime</em> de la zone de gauche et glissez-les dans la table <b class="cBold">out</b> de la zone de droite.</li></div>
</ul></div>
</ul></div>
<a name="wp2909167"> </a><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">
</div>
<div align="center"><img src="../Images/Use_Case_tMySQLOutput3_5.png" id="wp2909164" border="0" hspace="0" vspace="0"/></div><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">

</div>
<div class="pSmartList1"><ul class="pSmartList1">
<div class="pSmartList2"><ul class="pSmartList2">
<a name="wp2909222"> </a><div class="pSmartList2"><li>Dans la zone <b class="cBold">Schema editor</b> en bas de l&#39;éditeur du <b class="cBold">tMap</b>, dans le tableau à droite, changez la longueur de la colonne <b class="cBold">CustomerName</b> en <em class="cEmphasis">28</em> afin de créer une erreur. Ainsi, les données dont la longueur est supérieure à 28 créeront des erreurs qui pourront être récupérées grâce au lien <b class="cBold">Reject</b>.</li></div>
<a name="wp2909233"> </a><div class="pSmartList2"><li>Cliquez sur <b class="cBold">OK</b>.</li></div>
<a name="wp2909241"> </a><div class="pSmartList2"><li>Dans l&#39;espace de modélisation, double-cliquez sur le composant de sortie <b class="cBold">Localhost</b> pour afficher la vue <b class="cBold">Component</b> correspondante. </li></div>
</ul></div>
</ul></div>
<a name="wp2909298"> </a><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">
</div>
<div align="center"><img src="../Images/Use_Case_tMySQLOutput3_6.png" id="wp2909295" border="0" hspace="0" vspace="0"/></div><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">

</div>
<div class="pSmartList1"><ul class="pSmartList1">
<div class="pSmartList2"><ul class="pSmartList2">
<a name="wp2909434"> </a><div class="pSmartList2"><li>Dans la liste <b class="cBold">Property Type</b>, sélectionnez le mode <b class="cBold">Repository</b> puis cliquez sur le bouton <b class="cBold">[...]</b> correspondant pour sélectionner la métadonnée de connexion à la base de données. Les informations de connexion sont renseignées automatiquement. Sinon, sélectionnez le mode <b class="cBold">Built-in</b> et paramétrez ces champs manuellement.</li></div>
<a name="wp2909454"> </a><div class="pSmartList2"><li>Dans le champ <b class="cBold">Table</b>, saisissez le nom de la table à créer. Dans ce scénario, vous l&#39;appelez <em class="cEmphasis">customers_data</em>.</li></div>
<a name="wp2909494"> </a><div class="pSmartList2"><li>Dans la liste <b class="cBold">Action on data</b>, sélectionnez l&#39;option <b class="cBold">Create table</b>. </li></div>
<a name="wp2909559"> </a><div class="pSmartList2"><li>Cliquez sur le bouton <b class="cBold">Sync columns</b> pour récupérer le schéma du composant précédent.</li></div>
<a name="wp2909573"> </a><div class="pSmartList2"><li>Assurez-vous que la case <b class="cBold">Die on error</b> est bien décochée, afin que le Job s&#39;exécute malgré l&#39;erreur que vous venez de créer.</li></div>
<a name="wp2909648"> </a><div class="pSmartList2"><li>Cliquez sur l&#39;onglet <b class="cBold">Advanced settings</b> de la vue <b class="cBold">Component</b> pour paramétrer les paramètres avancés du composant.</li></div>
</ul></div>
</ul></div>
<a name="wp2909662"> </a><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">
</div>
<div align="center"><img src="../Images/Use_Case_tMySQLOutput3_7.png" id="wp2909659" border="0" hspace="0" vspace="0"/></div><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">

</div>
<div class="pSmartList1"><ul class="pSmartList1">
<div class="pSmartList2"><ul class="pSmartList2">
<a name="wp2909690"> </a><div class="pSmartList2"><li>Décochez la case <b class="cBold">Extend Insert</b> permettant d&#39;insérer des lignes par bloc car cette option n&#39;est pas compatible avec le lien <b class="cBold">Reject</b>.</li></div>
<a name="wp2909749"> </a><div class="pSmartList2"><li>Double-cliquez sur le composant <b class="cBold">tFileOutputDelimited</b> pour paramétrer ses propriétés dans la vue <b class="cBold">Component</b>.</li></div>
</ul></div>
</ul></div>
<a name="wp2909760"> </a><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">
</div>
<div align="center"><img src="../Images/Use_Case_tMySQLOutput3_8.png" id="wp2909757" border="0" hspace="0" vspace="0"/></div><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">

</div>
<div class="pSmartList1"><ul class="pSmartList1">
<div class="pSmartList2"><ul class="pSmartList2">
<a name="wp2909789"> </a><div class="pSmartList2"><li>Cliquez sur le bouton <b class="cBold">[...]</b> à côté du champ <b class="cBold">File Name</b> pour indiquer le répertoire de destination et le nom du fichier de sortie.</li></div>
<a name="wp2909804"> </a><div class="pSmartList2"><li>Cliquez sur le bouton <b class="cBold">Sync columns</b> pour récupérer le schéma du composant précédent.</li></div>
<a name="wp2909813"> </a><div class="pSmartList2"><li>Enregistrez votre Job et appuyez sur <b class="cBold">F6</b> pour l&#39;exécuter. </li></div>
</ul></div>
</ul></div>
<a name="wp2909827"> </a><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">
</div>
<div align="center"><img src="../Images/Use_Case_tMySQLOutput3_9.png" id="wp2909824" border="0" hspace="0" vspace="0"/></div><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">

</div>
<a name="wp2909879"> </a><p class="pIndented1">
Les données en erreur sont envoyées dans le fichier délimité, ainsi que le type d&#39;erreur rencontrée. Ici, vous avez affaire à des données tronquées&#160;: <b class="cBold">Data truncation</b>.
</p>
<a name="wp3662803"> </a><h2 class="pHeading2">
Scénario 4&#160;: Ecrire des colonnes dynamiques d&#39;un fichier source vers une base de données MySQL
</h2>
<a name="wp3662807"> </a><p class="pIndented1">
Dans ce scénario, nous allons lire des colonnes dynamiques à partir d&#39;un fichier source, les mapper puis les écrire dans une table d&#39;une base de données <b class="cBold">MySQL</b>. En définissant une colonne dynamique et les noms connus des colonnes, vous pouvez récupérer toutes les colonnes du fichier source, y compris les colonnes inconnues.
</p>
<div class="pSmartList1"><ul class="pSmartList1">
<div class="pSmartList2"><ul class="pSmartList2">
<a name="wp3662825"> </a><div class="pSmartList2"><li>Déposez un composant <b class="cBold">tFileInputDelimited</b>, un composant <b class="cBold">tMap</b> et un composant <b class="cBold">tMysqlOutput</b> dans l&#39;espace de modélisation graphique.</li></div>
</ul></div>
</ul></div>
<a name="wp3662834"> </a><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">
</div>
<div align="center"><img src="../Images/dynamic_schema_connections.png" id="wp3662831" border="0" hspace="0" vspace="0"/></div><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">

</div>
<div class="pSmartList1"><ul class="pSmartList1">
<div class="pSmartList2"><ul class="pSmartList2">
<a name="wp3662849"> </a><div class="pSmartList2"><li>Reliez le <b class="cBold">tFileInputDelimited</b> au <b class="cBold">tMap</b> à l&#39;aide d&#39;un lien <b class="cBold">Row</b> &gt; <b class="cBold">Main</b>.</li></div>
<a name="wp3662862"> </a><div class="pSmartList2"><li>Reliez le <b class="cBold">tMap</b> au <b class="cBold">tMysqlOutput</b> à l&#39;aide d&#39;un lien <b class="cBold">Row</b> &gt; <b class="cBold">*New Output* (Main)</b>.</li></div>
<a name="wp3662876"> </a><div class="pSmartList2"><li>Double-cliquez sur le <b class="cBold">tFileInputDelimited</b> afin d&#39;ouvrir sa vue <b class="cBold">Basic Settings</b>, dans l&#39;onglet <b class="cBold">Component</b>.</li></div>
</ul></div>
</ul></div>
<a name="wp3662883"> </a><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">
</div>
<div align="center"><img src="../Images/dynamic_schema_tFileInputDelimited_BasicSettings.png" id="wp3662880" border="0" hspace="0" vspace="0"/></div><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">

</div>
<a name="wp3662889"> </a><p class="pBodyRelative">
</p>
<div><table border="0" cellpadding="0" cellspacing="0" align="left"><img src="../Images/warning_small.png" align="left" id="wp3662887" border="0" hspace="0" vspace="0"/></table></div><p class="pBodyRelative">
<br />La fonction de schéma dynamique n&#39;et supportée qu&#39;en mode <b class="cBold">Built-In</b>.
</p>
<div class="pSmartList1"><ul class="pSmartList1">
<div class="pSmartList2"><ul class="pSmartList2">
<a name="wp3662905"> </a><div class="pSmartList2"><li>Dans la liste <b class="cBold">Property Type</b>, sélectionnez <b class="cBold">Built-In</b> dans la liste.</li></div>
<a name="wp3662915"> </a><div class="pSmartList2"><li>Cliquez sur le bouton <b class="cBold">[...]</b> à côté du champ <b class="cBold">File name/Stream</b> et parcourez votre répertoire jusqu&#39;au fichier d&#39;entrée.</li></div>
<a name="wp3662923"> </a><div class="pSmartList2"><li>Saisissez les caractères que vous souhaitez utiliser comme séparateurs de lignes et de champs respectivement, dans les champs <b class="cBold">Row Separator</b> et <b class="cBold">Field Separator</b>.</li></div>
<a name="wp3662931"> </a><div class="pSmartList2"><li>Cliquez sur <b class="cBold">Edit Schema</b> afin de définir le schéma du fichier source.<br />La boîte de dialogue <b class="cBold">Edit Schema</b> s&#39;ouvre.</li></div>
</ul></div>
</ul></div>
<a name="wp3662943"> </a><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">
</div>
<div align="center"><img src="../Images/dynamic_schema_tFileInputDelimited_Edit_Schema.png" id="wp3662940" border="0" hspace="0" vspace="0"/></div><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">

</div>
<div class="pSmartList1"><ul class="pSmartList1">
<div class="pSmartList2"><ul class="pSmartList2">
<a name="wp3662961"> </a><div class="pSmartList2"><li>Ajoutez ou supprimez autant de lignes que nécessaire, à l&#39;aide des boutons <img src="../Images/plus_button.png" id="wp3662951" border="0" hspace="0" vspace="0"/> et <img src="../Images/delete_button.png" id="wp3662957" border="0" hspace="0" vspace="0"/>.</li></div>
<a name="wp3662977"> </a><div class="pSmartList2"><li>Modifiez l&#39;ordre des colonnes en utilisant les boutons <img src="../Images/downward_arrow.png" id="wp3662967" border="0" hspace="0" vspace="0"/> et <img src="../Images/upward_arrow.png" id="wp3662973" border="0" hspace="0" vspace="0"/>.</li></div>
<a name="wp3662984"> </a><div class="pSmartList2"><li>Dans la colonne <b class="cBold">Column</b>, saisissez le nom de chaque colonne connue dans une ligne différente. </li></div>
<a name="wp3662991"> </a><div class="pSmartList2"><li>Dans la dernière ligne, saisissez un nom pour la colonne dynamique.</li></div>
<a name="wp3662997"> </a><div class="pSmartList2"><li>Dans la colonne <b class="cBold">Type</b>, cliquez dans chaque champ pour définir le type de données de la colonne correspondante.<br />Cliquez sur la flèche afin de sélectionner le bon type de données.</li></div>
<a name="wp3663005"> </a><p class="pBodyRelative">
<br />
<img src="../Images/warning_small.png" align="left" id="wp3663003" border="0" hspace="0" vspace="0"/><br />
<br />Dans la colonne <b class="cBold">Type</b>, le type de la colonne dynamique doit être défini comme <b class="cBold">Dynamic</b>.<br />
</p>
<a name="wp3664695"> </a><p class="pBodyRelative">
<br />
<img src="../Images/Components-05-269-0940.jpg" height="50" width="50" align="left" id="wp3663016" border="0" hspace="0" vspace="0"/><br />
<br />La colonne dynamique doit être définie dans la dernière ligne du schéma.<br />
</p>
<a name="wp3663029"> </a><div class="pSmartList2"><li>Cliquez sur <b class="cBold">OK</b> pour fermer la boîte de dialogue quand vous avez terminé de définir le schéma source.</li></div>
<a name="wp3663043"> </a><div class="pSmartList2"><li>Cliquez sur le composant <b class="cBold">tMap</b> afin d&#39;ouvrir sa vue <b class="cBold">Basic Settings</b> dans l&#39;onglet <b class="cBold">Component</b>. </li></div>
</ul></div>
</ul></div>
<a name="wp3663050"> </a><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">
</div>
<div align="center"><img src="../Images/dynamic_schema_tMap_Basic_Settings.png" id="wp3663047" border="0" hspace="0" vspace="0"/></div><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">

</div>
<div class="pSmartList1"><ul class="pSmartList1">
<div class="pSmartList2"><ul class="pSmartList2">
<a name="wp3665035"> </a><div class="pSmartList2"><li>Cliquez sur le bouton <b class="cBold">[...]</b> à côté du champ <b class="cBold">Map Editor</b> pour mapper les colonnes du fichier  source.</li></div>
</ul></div>
</ul></div>
<a name="wp3665044"> </a><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">
</div>
<div align="center"><img src="../Images/dynamic_schema_tMap_Edit1.png" id="wp3665041" border="0" hspace="0" vspace="0"/></div><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">

</div>
<div class="pSmartList1"><ul class="pSmartList1">
<div class="pSmartList2"><ul class="pSmartList2">
<a name="wp3665052"> </a><div class="pSmartList2"><li>Dans la barre d&#39;outils en haut du panneau <b class="cBold">Output Panel</b>, en haut à droite de la fenêtre, cliquez sur le bouton <img src="../Images/plus_button.png" id="wp3665056" border="0" hspace="0" vspace="0"/>.<br />La boîte de dialogue <b class="cBold">Add an Output</b> apparaît.</li></div>
</ul></div>
</ul></div>
<a name="wp3665070"> </a><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">
</div>
<div align="center"><img src="../Images/dynamic_schema_Add_An_Output.png" id="wp3665067" border="0" hspace="0" vspace="0"/></div><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">

</div>
<div class="pSmartList1"><ul class="pSmartList1">
<div class="pSmartList2"><ul class="pSmartList2">
<a name="wp3665078"> </a><div class="pSmartList2"><li>A côté de l&#39;option <b class="cBold">New output</b>, saisissez un nom pour le schéma de sortie.</li></div>
<a name="wp3663112"> </a><div class="pSmartList2"><li>Cliquez sur <b class="cBold">OK</b> pour fermer la boîte de dialogue.</li></div>
<a name="wp3663118"> </a><div class="pSmartList2"><li>A l&#39;aide de <b class="cBold">Ctrl+clic</b>, sélectionnez le nom des colonnes dans le schéma d&#39;entrée à gauche, et déposez-les dans le schéma de sortie.<br />Les colonnes déposées contiennent leurs valeurs originales et sont automatiquement mappées une à une.</li></div>
</ul></div>
</ul></div>
<a name="wp3663127"> </a><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">
</div>
<div align="center"><img src="../Images/dynamic_schema_tMap_Edit2.png" id="wp3663124" border="0" hspace="0" vspace="0"/></div><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">

</div>
<div class="pSmartList1"><ul class="pSmartList1">
<div class="pSmartList2"><ul class="pSmartList2">
<a name="wp3663135"> </a><div class="pSmartList2"><li>Dans le schéma de sortie, cliquez sur la ligne correspondante, dans la colonne <b class="cBold">Expression</b>, si vous souhaitez utiliser l&#39;<b class="cBold">Expression Builder</b> afin de définir des paramètres avancés pour les colonnes correspondantes.</li></div>
<a name="wp3665235"> </a><div class="pSmartList2"><li>Cliquez sur le bouton <b class="cBold">[...] </b>qui apparaît afin d&#39;ouvrir l&#39;<b class="cBold">Expression Builder</b> et définir les paramètres, comme nécessaire.</li></div>
</ul></div>
</ul></div>
<a name="wp3663158"> </a><p class="pIndented1">
Pour plus d&#39;informations concernant l&#39;utilisation de l&#39;<b class="cBold">Expression Builder</b>, consultez&#160;<em class="cEmphasis">Création de code à l&#39;aide de l&#39;Expression Builder</em>.
</p>
<a name="wp3665325"> </a><p class="pBodyRelative">
</p>
<div><table border="0" cellpadding="0" cellspacing="0" align="left"><img src="../Images/warning_small.png" align="left" id="wp3665322" border="0" hspace="0" vspace="0"/></table></div><p class="pBodyRelative">
La colonne dynamique doit être mappée seule et ne peut subir de transformation. Elle ne peut être utilisée dans une expression de filtre ou dans des variables. Elle ne peut être renommée dans la table de sortie et ne peut être utilisée comme condition de jointure.
</p>
<div class="pSmartList1"><ul class="pSmartList1">
<div class="pSmartList2"><ul class="pSmartList2">
<a name="wp3663179"> </a><div class="pSmartList2"><li>Cliquez sur<b class="cBold"> OK</b> afin de fermer le <b class="cBold">Map Editor</b>.</li></div>
<a name="wp3663193"> </a><div class="pSmartList2"><li>Double-cliquez sur le composant <b class="cBold">tMysqlOutput</b> afin de définir ses <b class="cBold">Basic Settings</b>, dans l&#39;onglet <b class="cBold">Component</b>.</li></div>
</ul></div>
</ul></div>
<a name="wp3663200"> </a><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">
</div>
<div align="center"><img src="../Images/dynamic_schema_tMysqlOutput_Basic_Properties.png" id="wp3663197" border="0" hspace="0" vspace="0"/></div><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">

</div>
<div class="pSmartList1"><ul class="pSmartList1">
<div class="pSmartList2"><ul class="pSmartList2">
<a name="wp3665378"> </a><div class="pSmartList2"><li>Dans la liste <b class="cBold">Property Type</b>, sélectionnez <b class="cBold">Built-in</b>.</li></div>
<a name="wp3663219"> </a><div class="pSmartList2"><li>Dans la liste <b class="cBold">DB Version</b> sélectionnez la version de la base de données que vous utilisez.</li></div>
<a name="wp3663226"> </a><div class="pSmartList2"><li>Dans le champ <b class="cBold">Host</b>, saisissez l&#39;adresse IP du serveur de la base de données.</li></div>
<a name="wp3663233"> </a><div class="pSmartList2"><li>Dans le champ <b class="cBold">Port</b>, saisissez le numéro du port d&#39;écoute du serveur de la base de données.</li></div>
<a name="wp3663243"> </a><div class="pSmartList2"><li>Saisissez respectivement votre identifiant et votre mot de passe de connexion dans les champs <b class="cBold">Username</b> et <b class="cBold">Password</b>.</li></div>
<a name="wp3663250"> </a><div class="pSmartList2"><li>A côté du champ <b class="cBold">Action on table</b>, sélectionnez l&#39;action requise.</li></div>
<a name="wp3663257"> </a><div class="pSmartList2"><li>A côté du champ <b class="cBold">Action on data</b>, sélectionnez l&#39;action requise.</li></div>
<a name="wp3663270"> </a><div class="pSmartList2"><li>Dans la liste <b class="cBold">Schema type</b> définissez le type en<b class="cBold"> Built-in</b> et cliquez sur <b class="cBold">Edit schema</b> afin de modifier la schéma si nécessaire.</li></div>
<a name="wp3663994"> </a><div class="pSmartList2"><li>Appuyez sur <b class="cBold">F6</b> pour exécuter le Job.<br />La table est écrite dans la base de données MySQL avec les données et les noms de colonnes précédemment inconnus&#160;:</li></div>
</ul></div>
</ul></div>
<a name="wp3664003"> </a><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">
</div>
<div align="center"><img src="../Images/dynamic_schema_mysql_database.png" id="wp3664000" border="0" hspace="0" vspace="0"/></div><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">

</div>
<a name="wp3664012"> </a><p class="pBodyRelative">
</p>
<div><table border="0" cellpadding="0" cellspacing="0" align="left"><img src="../Images/bulb_small.png" align="left" id="wp3664007" border="0" hspace="0" vspace="0"/></table></div><p class="pBodyRelative">
Le Job peut également être exécuté en mode<b class="cBold"> Traces Debug</b>, ce qui vous permet de voir les lignes comme elles sont écrites dans le fichier de sortie, dans l&#39;espace de modélisation.
</p>
<a name="wp3663338"> </a><p class="pIndented1">
Pour plus d&#39;informations concernant la définition et le mapping des schémas dynamiques, consultez la section&#160;<em class="cEmphasis">Schéma dynamique</em> dans le <b class="cBold">Guide Utilisateur</b> <b class="cBold">Talend Integration Suite Studio</b>.
</p>
<a name="wp3663347"> </a><p class="pIndented1">
Pour un exemple d&#39;écriture de colonnes dynamiques dans un fichier de sortie, consultez&#160;<a href="tMysqlInput_Scenario.html#wp3857913"><em class="cEmphasis">Scénario&#160;: Ecrire des colonnes dynamiques d&#39;une base de données MySQL vers un fichier de sortie</em></a>.
</p>
    </blockquote>
    <hr>

    <!--table align="right" border="0" cellspacing="0" cellpadding="0">
      <tr>
        <td align="right"><font size="1">
          <a href="http://www.webworks.com"><img src="images/webworks.gif" width="150" height="20" border="0"></a><br>
            Quadralay Corporation<br>
            http://www.webworks.com<br>
            Voice: (512) 719-3399<br>
            Fax: (512) 719-3606<br>
          <a href="mailto:sales@webworks.com">sales@webworks.com</a><br>
        </font></td>
      </tr>
    </table-->

    <!--table width="220" border="0" cellpadding="0" cellspacing="0">
      <tr> 
        <td>
<a accesskey="4" href="tMysqlOutput_Prop.html"><img id="LongDescNotReq3" src="images/prev.gif" border="0" alt="Previous" /></a><a accesskey="5" href="tMysqlOutputBulk_Prop.html"><img id="LongDescNotReq4" src="images/next.gif" border="0" alt="Next" /></a>
        </td>
      </tr>
    </table-->
  </body>
</html>
