<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN" "http://www.w3.org/MarkUp/Wilbur/HTML32.dtd">
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
    <meta name="GENERATOR" content="Quadralay WebWorks Publisher Standard Edition 8.0.5337.0">
    <meta name="TEMPLATEBASE" content="Dynamic HTML">
    <meta name="LASTUPDATED" content="10/04/10 20:04:02">
    <title>Scénario&#160;: Itération sur un répertoire</title>
  </head>

  <body link="#3366CC" vlink="#9999CC" text="#000000" alink="#0000CC" bgcolor="#FFFFFF">

    <!--table width="220" border="0" align="right" cellpadding="0" cellspacing="0">
      <tr> 
        <td>
<a accesskey="4" href="tFileList_Prop.html"><img id="LongDescNotReq1" src="images/prev.gif" border="0" alt="Previous" /></a><a accesskey="5" href="tFileOutputARFF_Prop.html"><img id="LongDescNotReq2" src="images/next.gif" border="0" alt="Next" /></a>
        </td>
      </tr>
    </table-->

    <!--img src="images/wwplogo.gif" width="122" height="63" alt="Put your logo here!">
    <hr align="left"-->

    <blockquote>
<a name="wp1700158"> </a><div style="color: #000000; font-size: 12pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">

</div>
<a name="wp1700165"> </a><h2 class="pHeading2">
Scénario&#160;: Itération sur un répertoire
</h2>
<a name="wp1700168"> </a><p class="pIndented1">
Le scénario suivant décrit un Job de trois composants, qui a pour objectif de répertorier les fichiers d&#39;un répertoire donné, de lire chaque fichier par itération, de sélectionner les données délimitées et d&#39;afficher ces données en sortie dans la console <b class="cBold">Run</b>.
</p>
<a name="wp1700179"> </a><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">
</div>
<div align="center"><img src="../Images/Use_Case_tFileList.png" id="wp1700176" border="0" hspace="0" vspace="0"/></div><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">

</div>
<div class="pSmartList1"><ul class="pSmartList1">
<div class="pSmartList2"><ul class="pSmartList2">
<a name="wp1700193"> </a><div class="pSmartList2"><li>Cliquez et déposez les composants suivants&#160;: <b class="cBold">tFileList</b>, <b class="cBold">tFileInputDelimited</b> et <b class="cBold">tLogRow</b> dans l&#39;espace de modélisation.</li></div>
<a name="wp2726957"> </a><div class="pSmartList2"><li>Cliquez-droit sur le composant <b class="cBold">tFileList</b> et connectez-le au composant <b class="cBold">tFileInputDelimited</b> via une connexion de type <b class="cBold">Row</b> <b class="cBold">Iterate</b>. Puis connectez le <b class="cBold">tFileInputDelimited</b> au <b class="cBold">tLogRow</b> à l&#39;aide d&#39;une connexion de type <b class="cBold">Row Main</b>.</li></div>
<a name="wp1700223"> </a><div class="pSmartList2"><li>Paramétrez ensuite les propriétés respectives des composants.</li></div>
<a name="wp1700234"> </a><div class="pSmartList2"><li>Tout d&#39;abord, sélectionnez le composant <b class="cBold">tFileList</b> et cliquez sur l&#39;onglet <b class="cBold">Basic settings</b>&#160;:</li></div>
</ul></div>
</ul></div>
<a name="wp1700241"> </a><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">
</div>
<div align="center"><img src="../Images/Use_Case_tFileList1.png" id="wp1700238" border="0" hspace="0" vspace="0"/></div><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">

</div>
<div class="pSmartList1"><ul class="pSmartList1">
<div class="pSmartList2"><ul class="pSmartList2">
<a name="wp2727685"> </a><div class="pSmartList2"><li>Dans le champ <b class="cBold">Directory</b>, indiquez le chemin d&#39;accès des fichiers à traiter. Pour faire apparaître ce chemin d&#39;accès dans le Job lui-même, utilisez le nom de champ (__DIRECTORY__) qui apparaît en bulle info lorsque vous passez le souris sur le champ <b class="cBold">Directory</b>. Saisissez cette référence dans le champ <b class="cBold">Label Format</b> de l&#39;onglet <b class="cBold">View</b>.</li></div>
</ul></div>
</ul></div>
<a name="wp2727703"> </a><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">
</div>
<div align="center"><img src="../Images/Use_Case_tFileList4.png" id="wp2727700" border="0" hspace="0" vspace="0"/></div><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">

</div>
<div class="pSmartList1"><ul class="pSmartList1">
<div class="pSmartList2"><ul class="pSmartList2">
<a name="wp2727883"> </a><div class="pSmartList2"><li>Dans le champ <b class="cBold">FileList Type</b>, sélectionnez l&#39;option <b class="cBold">Files</b>.  </li></div>
<a name="wp2727892"> </a><div class="pSmartList2"><li>Définissez le champ <b class="cBold">Case sensitive</b> sur <b class="cBold">Yes</b> pour prendre la casse en compte dans cet exemple.</li></div>
<a name="wp2727899"> </a><div class="pSmartList2"><li>Laissez la case <b class="cBold">Use Glob Expressions as Filemask</b> cochée si vous utilisez des expressions globales pour filtrer les fichiers. </li></div>
<a name="wp2727906"> </a><div class="pSmartList2"><li>Dans le champ <b class="cBold">Filemask</b>, indiquez un masque de fichier. Utilisez les caractères spéciaux si besoin est.</li></div>
<a name="wp2727544"> </a><div class="pSmartList2"><li>Paramétrez les propriétés du deuxième composant <b class="cBold">tFileInputDelimited</b>&#160;:</li></div>
</ul></div>
</ul></div>
<a name="wp2727547"> </a><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">
</div>
<div align="center"><img src="../Images/Use_Case_tFileList2.png" id="wp1700288" border="0" hspace="0" vspace="0"/></div><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">

</div>
<div class="pSmartList1"><ul class="pSmartList1">
<div class="pSmartList2"><ul class="pSmartList2">
<a name="wp1700299"> </a><div class="pSmartList2"><li>Dans le champ <b class="cBold">File Name</b>, nommez le fichier à l&#39;aide d&#39;une variable contenant son chemin d&#39;accès, tel que vous l&#39;avez renseigné dans les propriétés du <b class="cBold">tFileList</b>. Appuyez sur <b class="cBold">Ctrl+Espace</b> pour accéder à la liste d&#39;autocomplétion des variables.</li></div>
<a name="wp2727230"> </a><div class="pSmartList2"><li>Sélectionnez la variable globale <code class="cCode">((String)globalMap.get(&quot;tFileList_1_CURRENT_FILEPATH&quot;))</code> si vous travaillez en Java, ou <code class="cCode">$_globals{tFileList_1}{CURRENT_FILEPATH}</code> si vous travaillez en Perl. De cette manière, tous les fichiers du répertoire source peuvent être traités.</li></div>
<a name="wp1700311"> </a><div class="pSmartList2"><li>Renseignez les autres champs comme pour un fichier délimité <b class="cBold">tFileInputDelimited</b> standard. Voir également&#160;: <a href="tFileInputDelimited_Prop.html#wp3480892"><em class="cEmphasis">Propriétés du tFileInputDelimited</em></a>.</li></div>
<a name="wp1700322"> </a><div class="pSmartList2"><li>Sélectionnez le composant de sortie <b class="cBold">tLogRow</b> et renseignez le séparateur de champs qui s&#39;affichera dans la console de l&#39;onglet <b class="cBold">Run</b>. Voir également&#160;: <a href="tLogRow_Prop.html#wp1552782"><em class="cEmphasis">Propriétés du tLogRow</em></a>.</li></div>
</ul></div>
</ul></div>
<a name="wp1700337"> </a><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">
</div>
<div align="center"><img src="../Images/Use_Case_tFileList3.png" id="wp1700334" border="0" hspace="0" vspace="0"/></div><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">

</div>
<a name="wp1700340"> </a><p class="pIndented1">
L&#39;itération s&#39;effectue sur le répertoire défini. Chacun des fichiers contenus dans ce répertoire est lu. Puis les données délimitées sont transmises au composant de sortie qui les affiche dans la console Log de la vue <b class="cBold">Run</b>.
</p>
<a name="wp1700353"> </a><p class="pIndented1">
Pour d&#39;autres scénarios utilisant le <b class="cBold">tFileList</b><a href="tFileCopy_Prop.html">, see&#160;<em class="cEmphasis">tFileCopy.</em></a>
</p>
    </blockquote>
    <hr>

    <!--table align="right" border="0" cellspacing="0" cellpadding="0">
      <tr>
        <td align="right"><font size="1">
          <a href="http://www.webworks.com"><img src="images/webworks.gif" width="150" height="20" border="0"></a><br>
            Quadralay Corporation<br>
            http://www.webworks.com<br>
            Voice: (512) 719-3399<br>
            Fax: (512) 719-3606<br>
          <a href="mailto:sales@webworks.com">sales@webworks.com</a><br>
        </font></td>
      </tr>
    </table-->

    <!--table width="220" border="0" cellpadding="0" cellspacing="0">
      <tr> 
        <td>
<a accesskey="4" href="tFileList_Prop.html"><img id="LongDescNotReq3" src="images/prev.gif" border="0" alt="Previous" /></a><a accesskey="5" href="tFileOutputARFF_Prop.html"><img id="LongDescNotReq4" src="images/next.gif" border="0" alt="Next" /></a>
        </td>
      </tr>
    </table-->
  </body>
</html>
