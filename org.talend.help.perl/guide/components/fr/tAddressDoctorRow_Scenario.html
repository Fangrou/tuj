<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN" "http://www.w3.org/MarkUp/Wilbur/HTML32.dtd">
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
    <meta name="GENERATOR" content="Quadralay WebWorks Publisher Standard Edition 8.0.5337.0">
    <meta name="TEMPLATEBASE" content="Dynamic HTML">
    <meta name="LASTUPDATED" content="10/19/09 18:20:03">
    <title>Scenario: Reading, correcting, and formatting an address</title>
  </head>
  <body link="#3366CC" vlink="#9999CC" text="#000000" alink="#0000CC" bgcolor="#FFFFFF">
    <!--table width="220" border="0" align="right" cellpadding="0" cellspacing="0">
      <tr> 
        <td>
<a accesskey="4" href="tAddressDoctorRow_Prop.html"><img id="LongDescNotReq1" src="../en/images/prev.gif" border="0" alt="Previous" /></a><a accesskey="5" href="tFindRegexlibExpressions_Prop.html"><img id="LongDescNotReq2" src="../en/images/next.gif" border="0" alt="Next" /></a>
        </td>
      </tr>
    </table-->
    <!--img src="../en/images/wwplogo.gif" width="122" height="63" alt="Put your logo here!">
    <hr align="left"-->
    <blockquote>
<a name="wp2785962"> </a><div style="color: #000000; font-size: 12pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">
</div>
<a name="wp2785969"> </a><h2 class="pHeading2">
Scenario: Reading, correcting, and formatting an address
</h2>
<a name="wp2785980"> </a><p class="pIndented1">
The <b class="cBold">tAddressDoctorRow</b> component is used to detect spelling and formatting errors and do all necessary corrections.
</p>
<a name="wp2785985"> </a><p class="pIndented1">
This Java scenario is a three-component Job created in <b class="cBold">Talend Open Studio</b>. It reads an address from an input file, uses <b class="cBold">tAddressDoctorRow</b> to correct the address and applies some formatting on it, and finally writes the correct formatted address in the relevant database.
</p>
<a name="wp2785994"> </a><p class="pIndented1">
In this example, we have already stored the input schemas of the input file and the output schemas of the database table in the Repository. For more information about storing schema metadata in the <b class="cBold">Repository</b> tree view, see <em class="cEmphasis">Setting up a File Delimited schema</em>, <em class="cEmphasis">Setting up a DB connection</em>, and <em class="cEmphasis">Drop components from the Metadata node</em> in <b class="cBold">Talend Open Studio</b> <b class="cBold">User Guide</b>.
</p>
<div class="pSmartList1"><ul class="pSmartList1">
<div class="pSmartList2"><ul class="pSmartList2">
<a name="wp2786030"> </a><div class="pSmartList2"><li>In the <b class="cBold">Repository</b> tree view, expand <b class="cBold">Metadata</b> and the file node where you have stored the input schemas and drop the relevant file onto the design workspace.<br />The <b class="cBold">[Component]</b> dialog box displays.</li></div>
</ul></div>
</ul></div>
<a name="wp2786045"> </a><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">
</div>
<div align="center"><img src="../en/images/Use_Case_tFuzzyJoin.png" id="wp2786041" border="0" hspace="0" vspace="0"/></div><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">
</div>
<div class="pSmartList1"><ul class="pSmartList1">
<div class="pSmartList2"><ul class="pSmartList2">
<a name="wp2786060"> </a><div class="pSmartList2"><li>Select <b class="cBold">tFileInputDelimited</b>from the list and click <b class="cBold">OK</b> to close the dialog box.<br />The <b class="cBold">tFileInputDelimited</b> component displays in the workspase. The input file used in this example is called <em class="cEmphasis">Address</em>.</li></div>
<a name="wp2786084"> </a><div class="pSmartList2"><li>In the <b class="cBold">Repository</b> tree view, expand <b class="cBold">Metadata</b> and the <b class="cBold">Db Connections</b> node where you have stored the output schemas and drop the relevant database connection onto the design workspace.</li></div>
<a name="wp2786098"> </a><div class="pSmartList2"><li>Select <b class="cBold">tMySQLOutput</b> from the list in the <b class="cBold">[Components]</b> dialog box and click <b class="cBold">OK</b> to close the dialog box. The output database connection used in this example is called <em class="cEmphasis">data_quality.</em></li></div>
<a name="wp2786119"> </a><div class="pSmartList2"><li>Drop <b class="cBold">tAddressDoctorRow</b> from the <b class="cBold">Palette</b> onto the design workspace.</li></div>
</ul></div>
</ul></div>
<a name="wp2786130"> </a><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">
</div>
<div align="center"><img src="../en/images/Use_Case_tAddressDoctorRow.png" id="wp2786126" border="0" hspace="0" vspace="0"/></div><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">
</div>
<div class="pSmartList1"><ul class="pSmartList1">
<div class="pSmartList2"><ul class="pSmartList2">
<a name="wp2786142"> </a><div class="pSmartList2"><li>Connect the components together using <b class="cBold">Main</b> links.</li></div>
<a name="wp2786153"> </a><div class="pSmartList2"><li>If needed, double-click <b class="cBold">tFileInputDelimited</b> to display its <b class="cBold">Basic settings</b> view. All its property fields are automatically filled in. If you do not define your input files locally in the Repository, fill in the details manually after selecting <b class="cBold">Built-in</b> in the <b class="cBold">Property Type</b> field.</li></div>
</ul></div>
</ul></div>
<a name="wp2786173"> </a><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">
</div>
<div align="center"><img src="../en/images/Use_Case_tAddressDoctorRow2.png" id="wp2786169" border="0" hspace="0" vspace="0"/></div><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">
</div>
<div class="pSmartList1"><ul class="pSmartList1">
<div class="pSmartList2"><ul class="pSmartList2">
<a name="wp2786188"> </a><div class="pSmartList2"><li>Double-click <b class="cBold">tAddressDoctorRow</b> to open its <b class="cBold">Basic settings</b> view and define its properties.</li></div>
</ul></div>
</ul></div>
<a name="wp2786199"> </a><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">
</div>
<div align="center"><img src="../en/images/Use_Case_tAddressDoctorRow3.png" id="wp2786195" border="0" hspace="0" vspace="0"/></div><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">
</div>
<a name="wp2786215"> </a><p class="pBodyRelative">
</p>
<div><table border="0" cellpadding="0" cellspacing="0" align="left"><img src="../en/images/bulb_small.png" align="left" id="wp2786204" border="0" hspace="0" vspace="0"/></table></div><p class="pBodyRelative">
To get a <b class="cBold">User Id</b> and <b class="cBold">Password</b>, you need first to sign up for an AddressDoctor Data Quality Center account at <span style="font-style: italic"><a href="https://www.addressdoctor.com/AcctMngr/newaccount.aspx?lang=en">https://www.addressdoctor.com/AcctMngr/newaccount.aspx?lang=en</a></span>. Then you will receive your <b class="cBold">User Id</b> and <b class="cBold">Password</b><a href="http://www.addressdoctor.com "> by email. With this register-for-free operation, you can process limited number of addresses. If you need to process a higher number of addresses, you can purchase transactions online at</a><span style="font-style: normal"> </span><span style="font-style: italic"><a href="http.//www.addressdoctor.com">http://www.addressdoctor.com</a></span>.
</p>
<div class="pSmartList1"><ul class="pSmartList1">
<div class="pSmartList2"><ul class="pSmartList2">
<a name="wp2786249"> </a><div class="pSmartList2"><li>On the <b class="cBold">Address Column</b> list, select the column you want to analyze, <em class="cEmphasis">old-address</em> in this example.</li></div>
<a name="wp2786262"> </a><div class="pSmartList2"><li>On the <b class="cBold">Origin Country</b> list, select the country of the input data, <b class="cBold">FRA</b> in this example. This option controls the output of the formatted address.</li></div>
<a name="wp2786275"> </a><div class="pSmartList2"><li>On the <b class="cBold">Country Type</b> list, select the desired option. This option controls the way the country name is returned in the formatted address.</li></div>
<a name="wp2786284"> </a><div class="pSmartList2"><li>On the <b class="cBold">Line Separator</b> list, select the desired character. You must set a line separation character when you edit data that contain multiple lines.</li></div>
<a name="wp2786297"> </a><div class="pSmartList2"><li>Double-click <b class="cBold">tMySQLOutput</b> to display its <b class="cBold">Basic settings</b> view. All database connection fields are automatically filled in. If you do not define your output connection locally in the Repository, fill in the details manually after selecting <b class="cBold">Built-in</b> in the <b class="cBold">Property Type</b> field.</li></div>
</ul></div>
</ul></div>
<a name="wp2786316"> </a><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">
</div>
<div align="center"><img src="../en/images/Use_Case_tAddressDoctorRow5.png" id="wp2786312" border="0" hspace="0" vspace="0"/></div><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">
</div>
<div class="pSmartList1"><ul class="pSmartList1">
<div class="pSmartList2"><ul class="pSmartList2">
<a name="wp2786327"> </a><div class="pSmartList2"><li>Click the three-dot button next to the <b class="cBold">Table </b>field and browse to the table where you want to write the formatted address.</li></div>
<a name="wp2786344"> </a><div class="pSmartList2"><li>On the <b class="cBold">Action on table</b> list, select <b class="cBold">Create table</b>, select <b class="cBold">Insert</b> on the <b class="cBold">Action on data</b> list.</li></div>
<a name="wp2786357"> </a><div class="pSmartList2"><li>If needed, click <b class="cBold">Sync columns</b> to synchronize with the columns coming from the <b class="cBold">tAddressDoctor</b> component.</li></div>
<a name="wp2786372"> </a><div class="pSmartList2"><li>Save your Job and press <b class="cBold">F6</b> to execute it.</li></div>
</ul></div>
</ul></div>
<a name="wp2786381"> </a><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">
</div>
<div align="center"><img src="../en/images/Use_Case_tAddressDoctorRow_Result.png" id="wp2786377" border="0" hspace="0" vspace="0"/></div><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">
</div>
<a name="wp2786385"> </a><p class="pIndented1">
As you see in the above capture, the old address has two typos, one in the street name (paggess&gt;pages) and the second in the city name (Suresne&gt;Suresnes).The <b class="cBold">tAddressDoctorRow</b> component does not only correct the address, it also applies address normalization (as in the row <em style="font-style: italic" class="cEmphasis">ADDRESSDOCTOR_FORMATTED_ADDRESS</em>) and address formatting (splitting the old address only row to many rows each representing a unit in the address, for example, <code class="cCode">STREET</code>, <code class="cCode">POSTAL_CODE</code>, <code class="cCode">LOCALITY</code> and so on).
</p>
    </blockquote>
    <hr>
    <!--table align="right" border="0" cellspacing="0" cellpadding="0">
      <tr>
        <td align="right"><font size="1">
          <a href="http://www.webworks.com"><img src="../en/images/webworks.gif" width="150" height="20" border="0"></a><br>
            Quadralay Corporation<br>
            http://www.webworks.com<br>
            Voice: (512) 719-3399<br>
            Fax: (512) 719-3606<br>
          <a href="mailto:sales@webworks.com">sales@webworks.com</a><br>
        </font></td>
      </tr>
    </table-->
    <!--table width="220" border="0" cellpadding="0" cellspacing="0">
      <tr> 
        <td>
<a accesskey="4" href="tAddressDoctorRow_Prop.html"><img id="LongDescNotReq3" src="../en/images/prev.gif" border="0" alt="Previous" /></a><a accesskey="5" href="tFindRegexlibExpressions_Prop.html"><img id="LongDescNotReq4" src="../en/images/next.gif" border="0" alt="Next" /></a>
        </td>
      </tr>
    </table-->
  </body>
</html>
