<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN" "http://www.w3.org/MarkUp/Wilbur/HTML32.dtd">
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
    <meta name="GENERATOR" content="Quadralay WebWorks Publisher Standard Edition 8.0.5337.0">
    <meta name="TEMPLATEBASE" content="Dynamic HTML">
    <meta name="LASTUPDATED" content="10/04/10 20:05:17">
    <title>Scénario&#160;: Transformer une liste de fichiers en flux de données</title>
  </head>

  <body link="#3366CC" vlink="#9999CC" text="#000000" alink="#0000CC" bgcolor="#FFFFFF">

    <!--table width="220" border="0" align="right" cellpadding="0" cellspacing="0">
      <tr> 
        <td>
<a accesskey="4" href="tIterateToFlow_Prop.html"><img id="LongDescNotReq1" src="images/prev.gif" border="0" alt="Previous" /></a><a accesskey="5" href="tLoop_Prop.html"><img id="LongDescNotReq2" src="images/next.gif" border="0" alt="Next" /></a>
        </td>
      </tr>
    </table-->

    <!--img src="images/wwplogo.gif" width="122" height="63" alt="Put your logo here!">
    <hr align="left"-->

    <blockquote>
<a name="wp1574659"> </a><div style="color: #000000; font-size: 12pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">

</div>
<a name="wp1574666"> </a><h2 class="pHeading2">
Scénario&#160;: Transformer une liste de fichiers en flux de données
</h2>
<a name="wp1576956"> </a><p class="pIndented1">
Le scénario suivant décrit un Job permettant de faire une boucle sur une liste de fichiers, de récupérer leur nom, ainsi que la date en cours, pour ensuite transformer ces données en un flux qui sera affiché dans la console.
</p>
<a name="wp1576964"> </a><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">
</div>
<div align="center"><img src="../Images/Use_Case_tIterateToFlow1.png" id="wp1576961" border="0" hspace="0" vspace="0"/></div><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">

</div>
<div class="pSmartList1"><ul class="pSmartList1">
<div class="pSmartList2"><ul class="pSmartList2">
<a name="wp1576979"> </a><div class="pSmartList2"><li>Cliquez et déposez les composants suivants&#160;: <b class="cBold">tFileList</b>, <b class="cBold">tIterateToFlow</b> et <b class="cBold">tLogRow</b>.</li></div>
<a name="wp1576991"> </a><div class="pSmartList2"><li>Connectez le <b class="cBold">tFileList</b> au <b class="cBold">tIterateToFlow</b> à l&#39;aide d&#39;un lien <b class="cBold">Iterate</b> et connectez le Job au composant <b class="cBold">tLogRow</b> à l&#39;aide d&#39;un lien <b class="cBold">Row main</b>.</li></div>
<a name="wp1577007"> </a><div class="pSmartList2"><li>Dans la vue <b class="cBold">Component</b> du composant <b class="cBold">tFileList</b>, donnez le chemin d&#39;accès au répertoire contenant la liste de fichiers.</li></div>
</ul></div>
</ul></div>
<a name="wp1577016"> </a><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">
</div>
<div align="center"><img src="../Images/Use_Case_tIterateToFlow2.png" id="wp1577013" border="0" hspace="0" vspace="0"/></div><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">

</div>
<div class="pSmartList1"><ul class="pSmartList1">
<div class="pSmartList2"><ul class="pSmartList2">
<a name="wp1577024"> </a><div class="pSmartList2"><li>Dans cet exemple, les fichiers sont trois fichiers .txt simples stockés dans le répertoire <em class="cEmphasis">Countries</em>. </li></div>
<a name="wp1574745"> </a><div class="pSmartList2"><li>Dans la liste <b class="cBold">Case sensitive</b>, sélectionnez <b class="cBold">No</b> (Non) pour ne pas tenir compte de la casse.</li></div>
<a name="wp2936333"> </a><div class="pSmartList2"><li>Sélectionnez le composant <b class="cBold">tIterateToFlow</b> et cliquez sur <b class="cBold">Edit Schema</b> pour modifier le nouveau schéma.</li></div>
</ul></div>
</ul></div>
<a name="wp1574770"> </a><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">
</div>
<div align="center"><img src="../Images/Use_Case_tIterateToFlow3.png" id="wp1574767" border="0" hspace="0" vspace="0"/></div><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">

</div>
<div class="pSmartList1"><ul class="pSmartList1">
<div class="pSmartList2"><ul class="pSmartList2">
<a name="wp1574787"> </a><div class="pSmartList2"><li>Ajoutez deux nouvelles colonnes&#160;: <em class="cEmphasis">Filename</em> de type <b class="cBold">String</b> et <em class="cEmphasis">Date</em> de type <b class="cBold">date</b>. Assurez-vous d&#39;avoir paramétré le bon modèle en Java.</li></div>
<a name="wp1574795"> </a><div class="pSmartList2"><li>Cliquez sur <b class="cBold">OK</b> pour valider.</li></div>
<a name="wp2936353"> </a><div class="pSmartList2"><li>Une boîte de dialogue s&#39;ouvre et vous demande si vous souhaitez propager les changements. Cliquez sur <b class="cBold">Yes</b> (Oui).</li></div>
<a name="wp1574803"> </a><div class="pSmartList2"><li>Notez que ce nouveau schéma apparaît dans le tableau <b class="cBold">Mapping</b>.</li></div>
</ul></div>
</ul></div>
<a name="wp1574810"> </a><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">
</div>
<div align="center"><img src="../Images/Use_Case_tIterateToFlow4.png" id="wp1574807" border="0" hspace="0" vspace="0"/></div><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">

</div>
<div class="pSmartList1"><ul class="pSmartList1">
<div class="pSmartList2"><ul class="pSmartList2">
<a name="wp1577474"> </a><div class="pSmartList2"><li>Dans chaque cellule de la colonne <b class="cBold">Value</b>, appuyez sur <b class="cBold">Ctrl+Espace</b> pour accéder à la liste des variables globales et à celles que vous avez définies.</li></div>
<a name="wp1574828"> </a><div class="pSmartList2"><li>Pour la colonne <em class="cEmphasis">Filename</em>, utilisez la variable globale&#160;: <code class="cCode">tFileList_1CURRENT_FILEPATH</code>. Elle reprend le chemin d&#39;accès courant pour recueillir le nom de chaque fichier, le Job fait une boucle sur ce répertoire.</li></div>
<a name="wp1577671"> </a><div class="pSmartList2"><li>Pour le colonne <em class="cEmphasis">Date</em>, utilisez la routine Talend&#160;: <code class="cCode">Date.GetDate</code> (en Perl) ou <code class="cCode">TalendDate.getCurrentDate()</code> (en Java)</li></div>
<a name="wp1577686"> </a><div class="pSmartList2"><li>Puis dans la vue <b class="cBold">Component</b> du composant <b class="cBold">tLogRow</b>, cochez la case <b class="cBold">Print values in cells of a table</b>.</li></div>
<a name="wp1577693"> </a><div class="pSmartList2"><li>Enregistrez votre Job et exécutez-le, en appuyant sur <b class="cBold">F6</b>.</li></div>
</ul></div>
</ul></div>
<a name="wp1577700"> </a><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">
</div>
<div align="center"><img src="../Images/Use_Case_tIterateToFlow5.png" id="wp1577697" border="0" hspace="0" vspace="0"/></div><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">

</div>
<a name="wp1589954"> </a><p class="pIndented1">
Le chemin d&#39;accès apparaît dans la colonne <em class="cEmphasis">Filename</em> et la date en cours apparaît dans la colonne <em class="cEmphasis">Date</em>.
</p>
    </blockquote>
    <hr>

    <!--table align="right" border="0" cellspacing="0" cellpadding="0">
      <tr>
        <td align="right"><font size="1">
          <a href="http://www.webworks.com"><img src="images/webworks.gif" width="150" height="20" border="0"></a><br>
            Quadralay Corporation<br>
            http://www.webworks.com<br>
            Voice: (512) 719-3399<br>
            Fax: (512) 719-3606<br>
          <a href="mailto:sales@webworks.com">sales@webworks.com</a><br>
        </font></td>
      </tr>
    </table-->

    <!--table width="220" border="0" cellpadding="0" cellspacing="0">
      <tr> 
        <td>
<a accesskey="4" href="tIterateToFlow_Prop.html"><img id="LongDescNotReq3" src="images/prev.gif" border="0" alt="Previous" /></a><a accesskey="5" href="tLoop_Prop.html"><img id="LongDescNotReq4" src="images/next.gif" border="0" alt="Next" /></a>
        </td>
      </tr>
    </table-->
  </body>
</html>
