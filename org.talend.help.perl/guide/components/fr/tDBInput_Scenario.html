<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN" "http://www.w3.org/MarkUp/Wilbur/HTML32.dtd">
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
    <meta name="GENERATOR" content="Quadralay WebWorks Publisher Standard Edition 8.0.5337.0">
    <meta name="TEMPLATEBASE" content="Dynamic HTML">
    <meta name="LASTUPDATED" content="10/04/10 20:00:44">
    <title>Scénario&#160;1&#160;: Afficher les données sélectionnées à partir d&#39;une table</title>
  </head>

  <body link="#3366CC" vlink="#9999CC" text="#000000" alink="#0000CC" bgcolor="#FFFFFF">

    <!--table width="220" border="0" align="right" cellpadding="0" cellspacing="0">
      <tr> 
        <td>
<a accesskey="4" href="tDBInput_Prop.html"><img id="LongDescNotReq1" src="images/prev.gif" border="0" alt="Previous" /></a><a accesskey="5" href="tDBOutput_Prop.html"><img id="LongDescNotReq2" src="images/next.gif" border="0" alt="Next" /></a>
        </td>
      </tr>
    </table-->

    <!--img src="images/wwplogo.gif" width="122" height="63" alt="Put your logo here!">
    <hr align="left"-->

    <blockquote>
<a name="wp3724087"> </a><div style="color: #000000; font-size: 12pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">

</div>
<a name="wp3724095"> </a><h2 class="pHeading2">
Scénario&#160;1&#160;: Afficher les données sélectionnées à partir d&#39;une table
</h2>
<a name="wp3724098"> </a><p class="pIndented1">
Le Job suivant, à deux composants, lit les données d&#39;une base via une requête et affiche dans la console (vue <b class="cBold">Run</b>) les données délimitées.
</p>
<a name="wp3724109"> </a><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">
</div>
<div align="center"><img src="../Images/Use_Case_tDBInput1.png" id="wp3724106" border="0" hspace="0" vspace="0"/></div><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">

</div>
<div class="pSmartList1"><ul class="pSmartList1">
<div class="pSmartList2"><ul class="pSmartList2">
<a name="wp3724121"> </a><div class="pSmartList2"><li>Cliquez et déposez les composants <b class="cBold">tDBInput</b> et <b class="cBold">tLogRow</b> dans l&#39;éditeur graphique.</li></div>
<a name="wp3724127"> </a><div class="pSmartList2"><li>Cliquez droit sur le <b class="cBold">tDBInput</b> et, en gardant le bouton droit enfoncé, glissez jusqu&#39;au <b class="cBold">tLogRow</b> pour créer une connexion de type <b class="cBold">Main Row</b>.</li></div>
<a name="wp3724146"> </a><div class="pSmartList2"><li>Sélectionnez à nouveau le <b class="cBold">tDBInput</b> pour que la vue <b class="cBold">Component</b> apparaisse puis renseignez les propriétés du composant&#160;: </li></div>
</ul></div>
</ul></div>
<a name="wp3724155"> </a><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">
</div>
<div align="center"><img src="../Images/Use_Case_tDBInput2.png" id="wp3724152" border="0" hspace="0" vspace="0"/></div><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">

</div>
<div class="pSmartList1"><ul class="pSmartList1">
<div class="pSmartList2"><ul class="pSmartList2">
<a name="wp3724167"> </a><div class="pSmartList2"><li>Dans ce scénario, le champ <b class="cBold">Property Type</b> est en mode <b class="cBold">Built-In</b>.</li></div>
<a name="wp3724173"> </a><div class="pSmartList2"><li>Renseignez les informations de connexion à la base de données dans les champs <b class="cBold">Database</b>, <b class="cBold">Username</b> et <b class="cBold">Password</b>.</li></div>
<a name="wp3724189"> </a><div class="pSmartList2"><li>Le champ <b class="cBold">Schema</b> est en mode <b class="cBold">Built-In</b>, ce qui implique que le schéma ne sera utilisable que pour ce Job et sur ce poste. </li></div>
<a name="wp3724196"> </a><div class="pSmartList2"><li>Cliquez sur le bouton <b class="cBold">Edit Schema</b> et répertoriez les codes des magasins dans une colonne et les ventes dans une autre.</li></div>
<a name="wp3724204"> </a><div class="pSmartList2"><li>Renseignez le nom de la table dans le champ <b class="cBold">Table Name</b>.</li></div>
<a name="wp3724207"> </a><div class="pSmartList2"><li>Saisissez la requête à exécuter en veillant à ce que l&#39;ordre des colonnes correspondent à celui fourni dans le schéma. Dans cet exemple, comme toutes les colonnes du schéma ont été sélectionnées, il est possible d&#39;utiliser l&#39;astérisque.</li></div>
<a name="wp3724213"> </a><div class="pSmartList2"><li>De la même façon, cliquez sur le deuxième composant pour le définir. </li></div>
<a name="wp3724219"> </a><div class="pSmartList2"><li>Indiquez quel est le séparateur de champs&#160;: il s&#39;agit ici d&#39;une barre verticale. </li></div>
<a name="wp3724230"> </a><div class="pSmartList2"><li>Passez sur la vue <b class="cBold">Run </b>et cliquez sur le bouton <b class="cBold">Run</b> pour exécuter le Job. </li></div>
</ul></div>
</ul></div>
<a name="wp3724233"> </a><p class="pIndented1">
La base de données est alors analysée. Les données recherchées sont extraites et sont affichées directement sur la console (vue <b class="cBold">Run</b>), où vous pouvez les voir. 
</p>
<a name="wp3724245"> </a><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">
</div>
<div align="center"><img src="../Images/Use_Case_tDBInput3.png" id="wp3724241" border="0" hspace="0" vspace="0"/></div><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">

</div>
<a name="wp3724252"> </a><h2 class="pHeading2">
Scénario&#160;2&#160;: Utiliser la variable StoreSQLQuery
</h2>
<a name="wp3724259"> </a><p class="pIndented1">
La variable StoreSQLQuery peut être utilisée pour déboguer un scénario <b class="cBold">tDBInput</b> qui ne s&#39;exécuterait pas correctement. Elle permet d&#39;alimenter la requête de votre composant <b class="cBold">tDBInput</b> de manière dynamique. 
</p>
<div class="pSmartList1"><ul class="pSmartList1">
<div class="pSmartList2"><ul class="pSmartList2">
<a name="wp3724272"> </a><div class="pSmartList2"><li>Partez du scénario&#160;1 décrit ci-dessus, auquel vous ajouterez un composant <b class="cBold">tJava</b>. </li></div>
<a name="wp3724281"> </a><div class="pSmartList2"><li>Reliez les composants <b class="cBold">tDBInput</b> et <b class="cBold">tJava</b> via une connexion Trigger de type <b class="cBold">OnComponentOk</b>. Dans le cas présent, on veut que la commande du <b class="cBold">tDBInput</b> s&#39;exécute avant la commande du <b class="cBold">tJava</b>.</li></div>
</ul></div>
</ul></div>
<a name="wp3724299"> </a><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">
</div>
<div align="center"><img src="../Images/Use_Case_tDBInput4_var.png" id="wp3724296" border="0" hspace="0" vspace="0"/></div><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">

</div>
<div class="pSmartList1"><ul class="pSmartList1">
<div class="pSmartList2"><ul class="pSmartList2">
<a name="wp3724310"> </a><div class="pSmartList2"><li>Configurez les composants <b class="cBold">tDBInput</b> et <b class="cBold">tLogRow</b> comme dans le scénario&#160;1 décrit plus haut. </li></div>
<a name="wp3724318"> </a><div class="pSmartList2"><li>Passez à la vue appelée <b class="cBold">Context</b>.</li></div>
<a name="wp3724324"> </a><div class="pSmartList2"><li>Créez un nouveau paramètre que vous appellerez <b class="cBold">StoreSQLQuery</b> et donnez-lui une valeur de 1 par défaut. Cette valeur indique que StoreSQLQuery est valide (<b class="cBold">true</b>) et pourra être utilisé par la variable globale QUERY. </li></div>
<a name="wp3724337"> </a><div class="pSmartList2"><li>Cliquez sur le composant <b class="cBold">tJava</b> et affichez la vue <b class="cBold">Component</b>. Tapez la commande <code class="cCode">System.Out.println(&quot;&quot;)</code> pour afficher le contenu de la requête, puis, dans les parenthèses, appuyez sur <b class="cBold">Ctrl+Espace</b> pour accéder à la liste des variables, et sélectionnez la variable globale QUERY. </li></div>
</ul></div>
</ul></div>
<a name="wp3724355"> </a><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">
</div>
<div align="center"><img src="../Images/Use_Case_tDBInput5_var.png" id="wp3724352" border="0" hspace="0" vspace="0"/></div><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">

</div>
<div class="pSmartList1"><ul class="pSmartList1">
<div class="pSmartList2"><ul class="pSmartList2">
<a name="wp3724364"> </a><div class="pSmartList2"><li>Affichez la vue <b class="cBold">Run </b>et exécutez les Jobs. </li></div>
<a name="wp3724373"> </a><div class="pSmartList2"><li>La requête associée au composant <b class="cBold">tDBInput</b> s&#39;affiche dans la console (vue <b class="cBold">Run</b>), à la fin des résultats du Job&#160;: </li></div>
</ul></div>
</ul></div>
<a name="wp3724382"> </a><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">
</div>
<div align="center"><img src="../Images/Use_Case_tDBInput6_var.png" id="wp3724379" border="0" hspace="0" vspace="0"/></div><div style="color: #000000; font-size: 2pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">

</div>
<a name="wp3724389"> </a><p class="pIndented1">
Pour un exemple d&#39;utilisation du schéma dynamique dans les composants <b class="cBold">Input</b>, consultez&#160;:
</p>
<div class="pSmartList1"><ul class="pSmartList1">
<div class="pSmartList2"><ul class="pSmartList2">
<a name="wp3724398"> </a><div class="pSmartList2"><li><a href="tMysqlInput_Scenario.html#wp3857913"><em class="cEmphasis">Scénario&#160;: Ecrire des colonnes dynamiques d&#39;une base de données MySQL vers un fichier de sortie</em></a></li></div>
</ul></div>
</ul></div>
    </blockquote>
    <hr>

    <!--table align="right" border="0" cellspacing="0" cellpadding="0">
      <tr>
        <td align="right"><font size="1">
          <a href="http://www.webworks.com"><img src="images/webworks.gif" width="150" height="20" border="0"></a><br>
            Quadralay Corporation<br>
            http://www.webworks.com<br>
            Voice: (512) 719-3399<br>
            Fax: (512) 719-3606<br>
          <a href="mailto:sales@webworks.com">sales@webworks.com</a><br>
        </font></td>
      </tr>
    </table-->

    <!--table width="220" border="0" cellpadding="0" cellspacing="0">
      <tr> 
        <td>
<a accesskey="4" href="tDBInput_Prop.html"><img id="LongDescNotReq3" src="images/prev.gif" border="0" alt="Previous" /></a><a accesskey="5" href="tDBOutput_Prop.html"><img id="LongDescNotReq4" src="images/next.gif" border="0" alt="Next" /></a>
        </td>
      </tr>
    </table-->
  </body>
</html>
